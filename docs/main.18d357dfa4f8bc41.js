"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[179],{1797:(De,S,F)=>{function G(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){G(o,i,r,s,a,"next",c)}function a(c){G(o,i,r,s,a,"throw",c)}s(void 0)})}}let N=null,K=1;const R=Symbol("SIGNAL");function z(n){const e=N;return N=n,e}function k(n){if((!Vs(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==K)){if(!n.producerMustRecompute(n)&&!fr(n))return n.dirty=!1,void(n.lastCleanEpoch=K);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=K}}function fr(n){Xe(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(k(t),i!==t.version))return!0}return!1}function Fc(n,e){if(function Kt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Xe(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Fc(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Xe(r),r.producerIndexOfThis[i]=e}}function Vs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Xe(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let aF=null;function wt(n){return"function"==typeof n}function Ax(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Sx=Ax(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function l_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class bi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(wt(i))try{i()}catch(o){e=o instanceof Sx?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{hF(o)}catch(s){e=e??[],s instanceof Sx?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sx(e)}}add(e){var t;if(e&&e!==this)if(this.closed)hF(e);else{if(e instanceof bi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&l_(t,e)}remove(e){const{_finalizers:t}=this;t&&l_(t,e),e instanceof bi&&e._removeParent(this)}}bi.EMPTY=(()=>{const n=new bi;return n.closed=!0,n})();const uF=bi.EMPTY;function dF(n){return n instanceof bi||n&&"closed"in n&&wt(n.remove)&&wt(n.add)&&wt(n.unsubscribe)}function hF(n){wt(n)?n():n.unsubscribe()}const Lc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},u_={setTimeout(n,e,...t){const{delegate:i}=u_;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=u_;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function fF(n){u_.setTimeout(()=>{const{onUnhandledError:e}=Lc;if(!e)throw n;e(n)})}function Yh(){}const gZ=kx("C",void 0,void 0);function kx(n,e,t){return{kind:n,value:e,error:t}}let Vc=null;function d_(n){if(Lc.useDeprecatedSynchronousErrorHandling){const e=!Vc;if(e&&(Vc={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Vc;if(Vc=null,t)throw i}}else n()}class Ox extends bi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dF(e)&&e.add(this)):this.destination=xZ}static create(e,t,i){return new Xh(e,t,i)}next(e){this.isStopped?Rx(function _Z(n){return kx("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Rx(function mZ(n){return kx("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rx(gZ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yZ=Function.prototype.bind;function Px(n,e){return yZ.call(n,e)}class vZ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){h_(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){h_(i)}else h_(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){h_(t)}}}class Xh extends Ox{constructor(e,t,i){let r;if(super(),wt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Lc.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Px(e.next,o),error:e.error&&Px(e.error,o),complete:e.complete&&Px(e.complete,o)}):r=e}this.destination=new vZ(r)}}function h_(n){Lc.useDeprecatedSynchronousErrorHandling?function bZ(n){Lc.useDeprecatedSynchronousErrorHandling&&Vc&&(Vc.errorThrown=!0,Vc.error=n)}(n):fF(n)}function Rx(n,e){const{onStoppedNotification:t}=Lc;t&&u_.setTimeout(()=>t(n,e))}const xZ={closed:!0,next:Yh,error:function wZ(n){throw n},complete:Yh},Nx="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ea(n){return n}function pF(n){return 0===n.length?Ea:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Qt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function IZ(n){return n&&n instanceof Ox||function EZ(n){return n&&wt(n.next)&&wt(n.error)&&wt(n.complete)}(n)&&dF(n)}(t)?t:new Xh(t,i,r);return d_(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=gF(i))((r,o)=>{const s=new Xh({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Nx](){return this}pipe(...t){return pF(t)(this)}toPromise(t){return new(t=gF(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function gF(n){var e;return null!==(e=n??Lc.Promise)&&void 0!==e?e:Promise}const TZ=Ax(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Dt=(()=>{class n extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new mF(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new TZ}next(t){d_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){d_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){d_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?uF:(this.currentObservers=null,o.push(t),new bi(()=>{this.currentObservers=null,l_(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Qt;return t.source=this,t}}return n.create=(e,t)=>new mF(e,t),n})();class mF extends Dt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:uF}}class pr extends Dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function _F(n){return wt(n?.lift)}function Tn(n){return e=>{if(_F(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function mn(n,e,t,i,r){return new MZ(n,e,t,i,r)}class MZ extends Ox{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ve(n,e){return Tn((t,i)=>{let r=0;t.subscribe(mn(i,o=>{i.next(n.call(e,o,r++))}))})}const bF="https://g.co/ng/security#xss";class j extends Error{constructor(e,t){super(function pu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Fx(n){return e=>{setTimeout(n,void 0,e)}}const Qe=class DZ extends Dt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Fx(o),r&&(r=Fx(r)),s&&(s=Fx(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof bi&&e.add(a),a}};var lt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(lt||{});function ci(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ci).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Lx(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}var p_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(p_||{}),Mo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mo||{});function Bs(n){return{toString:n}.toString()}const Ot=globalThis,Qo={},It=[];function Rt(n){for(let e in n)if(n[e]===Rt)return e;throw Error("Could not find renamed property on target object.")}function OZ(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}const Zh=Rt({\u0275cmp:Rt}),Vx=Rt({\u0275dir:Rt}),Bx=Rt({\u0275pipe:Rt}),wF=Rt({\u0275mod:Rt}),Us=Rt({\u0275fac:Rt}),Jh=Rt({__NG_ELEMENT_ID__:Rt}),xF=Rt({__NG_ENV_ID__:Rt});var ut=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ut||{});function CF(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Ux(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];IF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function EF(n){return 3===n||4===n||6===n}function IF(n){return 64===n.charCodeAt(0)}function ef(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||TF(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function TF(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const MF="ng-template";function PZ(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==CF(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function DF(n){return 4===n.type&&n.value!==MF}function RZ(n,e,t){return e===(4!==n.type||t?n.value:MF)}function NZ(n,e,t){let i=4;const r=n.attrs||[],o=function VZ(n){for(let e=0;e<n.length;e++)if(EF(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!RZ(n,c,t)||""===c&&1===e.length){if(Do(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!PZ(n.attrs,l,t)){if(Do(i))return!1;s=!0}continue}const d=FZ(8&i?"class":c,r,DF(n),t);if(-1===d){if(Do(i))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==CF(f,l,0)||2&i&&l!==h){if(Do(i))return!1;s=!0}}}}else{if(!s&&!Do(i)&&!Do(c))return!1;if(s&&Do(c))continue;s=!1,i=c|1&i}}return Do(i)||s}function Do(n){return 0==(1&n)}function FZ(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function BZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function AF(n,e,t=!1){for(let i=0;i<e.length;i++)if(NZ(n,e[i],t))return!0;return!1}function UZ(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function SF(n,e){return n?":not("+e.trim()+")":e}function zZ(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Do(s)&&(e+=SF(o,r),r=""),i=s,o=o||!Do(i);t++}return""!==r&&(e+=SF(o,r)),e}function Te(n){return Bs(()=>{const e=OF(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===p_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mo.Emulated,styles:n.styles||It,_:null,schemas:n.schemas||null,tView:null,id:""};PF(t);const i=n.dependencies;return t.directiveDefs=g_(i,!1),t.pipeDefs=g_(i,!0),t.id=function WZ(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function $Z(n){return nt(n)||li(n)}function GZ(n){return null!==n}function tt(n){return Bs(()=>({type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kF(n,e){if(null==n)return Qo;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=ut.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==ut.None?[i,a]:i,e[o]=s):t[o]=i}return t}function be(n){return Bs(()=>{const e=OF(n);return PF(e),e})}function nt(n){return n[Zh]||null}function li(n){return n[Vx]||null}function Ni(n){return n[Bx]||null}function Xi(n,e){const t=n[wF]||null;if(!t&&!0===e)throw new Error(`Type ${ci(n)} does not have '\u0275mod' property.`);return t}function OF(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Qo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kF(n.inputs,e),outputs:kF(n.outputs),debugInfo:null}}function PF(n){n.features?.forEach(e=>e(n))}function g_(n,e){if(!n)return null;const t=e?Ni:$Z;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(GZ)}const _n=0,oe=1,Me=2,Un=3,Ao=4,Zi=5,So=6,gu=7,Yt=8,Fi=9,zs=10,Be=11,tf=12,RF=13,mu=14,Mn=15,nf=16,_u=17,js=18,rf=19,NF=20,Ma=21,m_=22,Bc=23,je=25,zx=1,Yo=7,bu=9,zn=10;var jx=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(jx||{});function Ji(n){return Array.isArray(n)&&"object"==typeof n[zx]}function er(n){return Array.isArray(n)&&!0===n[zx]}function Hx(n){return 0!=(4&n.flags)}function Uc(n){return n.componentOffset>-1}function b_(n){return 1==(1&n.flags)}function ko(n){return!!n.template}function $x(n){return 0!=(512&n[Me])}let zF=!1;function zt(n){for(;Array.isArray(n);)n=n[_n];return n}function af(n,e){return zt(e[n])}function gr(n,e){return zt(e[n.index])}function cf(n,e){return n.data[e]}function $r(n,e){const t=e[n];return Ji(t)?t:t[_n]}function Kx(n){return 128==(128&n[Me])}function Xo(n,e){return null==e?null:n[e]}function jF(n){n[_u]=0}function tJ(n){1024&n[Me]||(n[Me]|=1024,Kx(n)&&lf(n))}function Qx(n){return!!(9216&n[Me]||n[Bc]?.dirty)}function Yx(n){Qx(n)?lf(n):64&n[Me]&&(function XZ(){return zF}()?(n[Me]|=1024,lf(n)):n[zs].changeDetectionScheduler?.notify())}function lf(n){n[zs].changeDetectionScheduler?.notify();let e=zc(n);for(;null!==e&&!(8192&e[Me])&&(e[Me]|=8192,Kx(e));)e=zc(e)}function y_(n,e){if(256==(256&n[Me]))throw new j(911,!1);null===n[Ma]&&(n[Ma]=[]),n[Ma].push(e)}function zc(n){const e=n[Un];return er(e)?e[Un]:e}const Fe={lFrame:ZF(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function GF(){return Fe.bindingsEnabled}function vu(){return null!==Fe.skipHydrationRootTNode}function W(){return Fe.lFrame.lView}function dt(){return Fe.lFrame.tView}function Pe(n){return Fe.lFrame.contextLView=n,n[Yt]}function Re(n){return Fe.lFrame.contextLView=null,n}function Nt(){let n=qF();for(;null!==n&&64===n.type;)n=n.parent;return n}function qF(){return Fe.lFrame.currentTNode}function Zo(n,e){const t=Fe.lFrame;t.currentTNode=n,t.isParent=e}function Zx(){return Fe.lFrame.isParent}function Jx(){Fe.lFrame.isParent=!1}function Oo(){return Fe.lFrame.bindingIndex++}function $s(n){const e=Fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hJ(n,e){const t=Fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,eC(e)}function eC(n){Fe.lFrame.currentDirectiveIndex=n}function tC(n){const e=Fe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function nC(){return Fe.lFrame.currentQueryIndex}function v_(n){Fe.lFrame.currentQueryIndex=n}function pJ(n){const e=n[oe];return 2===e.type?e.declTNode:1===e.type?n[Zi]:null}function YF(n,e,t){if(t&lt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&lt.Host||(r=pJ(o),null===r||(o=o[mu],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Fe.lFrame=XF();return i.currentTNode=e,i.lView=n,!0}function iC(n){const e=XF(),t=n[oe];Fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function XF(){const n=Fe.lFrame,e=null===n?null:n.child;return null===e?ZF(n):e}function ZF(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function JF(){const n=Fe.lFrame;return Fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const eL=JF;function rC(){const n=JF();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tr(){return Fe.lFrame.selectedIndex}function jc(n){Fe.lFrame.selectedIndex=n}function Xt(){const n=Fe.lFrame;return cf(n.tView,n.selectedIndex)}function w_(){Fe.lFrame.currentNamespace="svg"}function oC(){!function _J(){Fe.lFrame.currentNamespace=null}()}let nL=!0;function x_(){return nL}function Da(n){nL=n}function bJ(){return wu(Nt(),W())}function wu(n,e){return new ln(gr(n,e))}let lC,ln=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=bJ}return n})();function iL(n){return n instanceof ln?n.nativeElement:n}function xu(n,e){n.forEach(t=>Array.isArray(t)?xu(t,e):e(t))}function rL(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function C_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Gr(n,e,t){let i=Cu(n,e);return i>=0?n[1|i]=t:(i=~i,function oL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function aC(n,e){const t=Cu(n,e);if(t>=0)return n[1|t]}function Cu(n,e){return function sL(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}function vJ(){return this._results[Symbol.iterator]()}class cC{static#e=Symbol.iterator;get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=cC.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=vJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function Dr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function yJ(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function I_(n){return 128==(128&n.flags)}function re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Je(n){return{providers:n.providers||[],imports:n.imports||[]}}function M_(n){return lL(n,A_)||lL(n,uL)}function lL(n,e){return n.hasOwnProperty(e)?n[e]:null}function D_(n){return n&&(n.hasOwnProperty(uC)||n.hasOwnProperty(IJ))?n[uC]:null}const A_=Rt({\u0275prov:Rt}),uC=Rt({\u0275inj:Rt}),uL=Rt({ngInjectableDef:Rt}),IJ=Rt({ngInjectorDef:Rt});class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const S_=new X("",{providedIn:"root",factory:()=>TJ}),TJ="ng",dL=new X(""),so=new X("",{providedIn:"platform",factory:()=>"unknown"}),Hc=new X(""),dC=new X("",{providedIn:"root",factory:()=>function Aa(){if(void 0!==lC)return lC;if(typeof document<"u")return document;throw new j(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),AJ=Rt({__forward_ref__:Rt});function Zt(n){return n.__forward_ref__=Zt,n.toString=function(){return ci(this())},n}function Ne(n){return k_(n)?n():n}function k_(n){return"function"==typeof n&&n.hasOwnProperty(AJ)&&n.__forward_ref__===Zt}function mC(n){return n&&!!n.\u0275providers}function He(n){return"string"==typeof n?n:null==n?"":String(n)}function _C(n,e){throw new j(-201,!1)}let bC;function fL(){return bC}function Ar(n){const e=bC;return bC=n,e}function pL(n,e,t){const i=M_(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&lt.Optional?null:void 0!==e?e:void _C()}const hf={},yC="__NG_DI_FLAG__",O_="ngTempTokenPath",NJ=/\n/gm,gL="__source";let Eu;function Sa(n){const e=Eu;return Eu=n,e}function VJ(n,e=lt.Default){if(void 0===Eu)throw new j(-203,!1);return null===Eu?pL(n,void 0,e):Eu.get(n,e&lt.Optional?null:void 0,e)}function $(n,e=lt.Default){return(fL()||VJ)(Ne(n),e)}function te(n,e=lt.Default){return $(n,P_(e))}function P_(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vC(n){const e=[];for(let t=0;t<n.length;t++){const i=Ne(n[t]);if(Array.isArray(i)){if(0===i.length)throw new j(900,!1);let r,o=lt.Default;for(let s=0;s<i.length;s++){const a=i[s],c=BJ(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push($(r,o))}else e.push($(i))}return e}function ff(n,e){return n[yC]=e,n.prototype[yC]=e,n}function BJ(n){return n[yC]}let _L=()=>null;function DC(n,e,t=!1){return _L(n,e,t)}const Au="__parameters__";function ku(n,e,t){return Bs(()=>{const i=function OC(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Au)?c[Au]:Object.defineProperty(c,Au,{value:[]})[Au];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const Jt=ff(ku("Optional"),8),_f=ff(ku("SkipSelf"),4);function $c(n,e){return n.hasOwnProperty(Us)?n[Us]:null}const Gc=new X(""),CL=new X("",-1),PC=new X("");class B_{get(e,t=hf){if(t===hf){const i=new Error(`NullInjectorError: No provider for ${ci(e)}!`);throw i.name="NullInjectorError",i}return t}}function JJ(...n){return{\u0275providers:RC(0,n),\u0275fromNgModule:!0}}function RC(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return xu(e,s=>{const a=s;z_(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&EL(r,o),t}function EL(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];NC(r,o=>{e(o,i)})}}function z_(n,e,t,i){if(!(n=Ne(n)))return!1;let r=null,o=D_(n);const s=!o&&nt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=D_(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)z_(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{xu(o.imports,u=>{z_(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&EL(l,e)}if(!a){const l=$c(r)||(()=>new r);e({provide:r,useFactory:l,deps:It},r),e({provide:PC,useValue:r,multi:!0},r),e({provide:Gc,useValue:()=>$(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;NC(c,u=>{e(u,l)})}}}return r!==n&&void 0!==n.providers}function NC(n,e){for(let t of n)mC(t)&&(t=t.\u0275providers),Array.isArray(t)?NC(t,e):e(t)}const eee=Rt({provide:String,useValue:Rt});function FC(n){return null!==n&&"object"==typeof n&&eee in n}function qc(n){return"function"==typeof n}const LC=new X(""),j_={},nee={};let VC;function H_(){return void 0===VC&&(VC=new B_),VC}class qr{}class Ou extends qr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,UC(e,s=>this.processProvider(s)),this.records.set(CL,Pu(void 0,this)),r.has("environment")&&this.records.set(qr,Pu(void 0,this));const o=this.records.get(LC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(PC,It,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Sa(this),i=Ar(void 0);try{return e()}finally{Sa(t),Ar(i)}}get(e,t=hf,i=lt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xF))return e[xF](this);i=P_(i);const o=Sa(this),s=Ar(void 0);try{if(!(i&lt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function aee(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&M_(e);c=l&&this.injectableDefInScope(l)?Pu(BC(e),j_):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&lt.Self?H_():this.parent).get(e,t=i&lt.Optional&&t===hf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[O_]=a[O_]||[]).unshift(ci(e)),o)throw a;return function UJ(n,e,t,i){const r=n[O_];throw e[gL]&&r.unshift(e[gL]),n.message=function zJ(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=ci(e);if(Array.isArray(e))r=e.map(ci).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ci(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(NJ,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[O_]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ar(s),Sa(o)}}resolveInjectorInitializers(){const e=Sa(this),t=Ar(void 0);try{const r=this.get(Gc,It,lt.Self);for(const o of r)o()}finally{Sa(e),Ar(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(ci(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){let t=qc(e=Ne(e))?e:Ne(e&&e.provide);const i=function ree(n){return FC(n)?Pu(void 0,n.useValue):Pu(ML(n),j_)}(e);if(!qc(e)&&!0===e.multi){let r=this.records.get(t);r||(r=Pu(void 0,j_,!0),r.factory=()=>vC(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===j_&&(t.value=nee,t.value=t.factory()),"object"==typeof t.value&&t.value&&function see(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function BC(n){const e=M_(n),t=null!==e?e.factory:$c(n);if(null!==t)return t;if(n instanceof X)throw new j(204,!1);if(n instanceof Function)return function iee(n){if(n.length>0)throw new j(204,!1);const t=function EJ(n){return n&&(n[A_]||n[uL])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new j(204,!1)}function ML(n,e,t){let i;if(qc(n)){const r=Ne(n);return $c(r)||BC(r)}if(FC(n))i=()=>Ne(n.useValue);else if(function TL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...vC(n.deps||[]));else if(function IL(n){return!(!n||!n.useExisting)}(n))i=()=>$(Ne(n.useExisting));else{const r=Ne(n&&(n.useClass||n.provide));if(!function oee(n){return!!n.deps}(n))return $c(r)||BC(r);i=()=>new r(...vC(n.deps))}return i}function Pu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function UC(n,e){for(const t of n)Array.isArray(t)?UC(t,e):t&&mC(t)?UC(t.\u0275providers,e):e(t)}function Wc(n,e){n instanceof Ou&&n.assertNotDestroyed();const i=Sa(n),r=Ar(void 0);try{return e()}finally{Sa(i),Ar(r)}}class _ee{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function AL(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function ao(){return SL}function SL(n){return n.type.prototype.ngOnChanges&&(n.setInput=yee),bee}function bee(){const n=OL(this),e=n?.current;if(e){const t=n.previous;if(t===Qo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function yee(n,e,t,i,r){const o=this.declaredInputs[i],s=OL(n)||function vee(n,e){return n[kL]=e}(n,{previous:Qo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new _ee(l&&l.currentValue,t,c===Qo),AL(n,e,r,t)}ao.ngInherit=!0;const kL="__ngSimpleChanges__";function OL(n){return n[kL]||null}const Jo=function(n,e,t){};function q_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function W_(n,e,t){PL(n,e,3,t)}function K_(n,e,t,i){(3&n[Me])===t&&PL(n,e,t,i)}function HC(n,e){let t=n[Me];(3&t)===e&&(t&=16383,t+=1,n[Me]=t)}function PL(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[_u]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[_u]+=65536),(a<o||-1==o)&&(Cee(n,t,e,c),n[_u]=(4294901760&n[_u])+c+2),c++}function RL(n,e){Jo(4,n,e);const t=z(null);try{e.call(n)}finally{z(t),Jo(5,n,e)}}function Cee(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Me]>>14<n[_u]>>16&&(3&n[Me])===e&&(n[Me]+=16384,RL(a,o)):RL(a,o)}const Nu=-1;class yf{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function GC(n){return n!==Nu}function vf(n){return 32767&n}function wf(n,e){let t=function Dee(n){return n>>16}(n),i=e;for(;t>0;)i=i[mu],t--;return i}let qC=!0;function Q_(n){const e=qC;return qC=n,e}const NL=255,FL=5;let Aee=0;const es={};function Y_(n,e){const t=LL(n,e);if(-1!==t)return t;const i=e[oe];i.firstCreatePass&&(n.injectorIndex=e.length,WC(i.data,n),WC(e,null),WC(i.blueprint,null));const r=X_(n,e),o=n.injectorIndex;if(GC(r)){const s=vf(r),a=wf(r,e),c=a[oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function WC(n,e){n.push(0,0,0,0,0,0,0,0,e)}function LL(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function X_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=$L(r),null===i)return Nu;if(t++,r=r[mu],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Nu}function KC(n,e,t){!function See(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Jh)&&(i=t[Jh]),null==i&&(i=t[Jh]=Aee++);const r=i&NL;e.data[n+(r>>FL)]|=1<<r}(n,e,t)}function VL(n,e,t){if(t&lt.Optional||void 0!==n)return n;_C()}function BL(n,e,t,i){if(t&lt.Optional&&void 0===i&&(i=null),!(t&(lt.Self|lt.Host))){const r=n[Fi],o=Ar(void 0);try{return r?r.get(e,i,t&lt.Optional):pL(e,i,t&lt.Optional)}finally{Ar(o)}}return VL(i,0,t)}function UL(n,e,t,i=lt.Default,r){if(null!==n){if(2048&e[Me]&&!(i&lt.Self)){const s=function Nee(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Me]&&!(512&s[Me]);){const a=zL(o,s,t,i|lt.Self,es);if(a!==es)return a;let c=o.parent;if(!c){const l=s[NF];if(l){const u=l.get(t,es,i);if(u!==es)return u}c=$L(s),s=s[mu]}o=c}return r}(n,e,t,i,es);if(s!==es)return s}const o=zL(n,e,t,i,es);if(o!==es)return o}return BL(e,t,i,r)}function zL(n,e,t,i,r){const o=function Pee(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Jh)?n[Jh]:void 0;return"number"==typeof e?e>=0?e&NL:Ree:e}(t);if("function"==typeof o){if(!YF(e,n,i))return i&lt.Host?VL(r,0,i):BL(e,t,i,r);try{let s;if(s=o(i),null!=s||i&lt.Optional)return s;_C()}finally{eL()}}else if("number"==typeof o){let s=null,a=LL(n,e),c=Nu,l=i&lt.Host?e[Mn][Zi]:null;for((-1===a||i&lt.SkipSelf)&&(c=-1===a?X_(n,e):e[a+8],c!==Nu&&HL(i,!1)?(s=e[oe],a=vf(c),e=wf(c,e)):a=-1);-1!==a;){const u=e[oe];if(jL(o,a,u.data)){const d=Oee(a,e,t,s,i,l);if(d!==es)return d}c=e[a+8],c!==Nu&&HL(i,e[oe].data[a+8]===l)&&jL(o,a,e)?(s=u,a=vf(c),e=wf(c,e)):a=-1}}return r}function Oee(n,e,t,i,r,o){const s=e[oe],a=s.data[n+8],u=Z_(a,s,t,null==i?Uc(a)&&qC:i!=s&&0!=(3&a.type),r&lt.Host&&o===a);return null!==u?Kc(e,s,u,a):es}function Z_(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const b=s[f];if(f<c&&t===b||f>=c&&b.type===t)return f}if(r){const f=s[c];if(f&&ko(f)&&f.type===t)return c}return null}function Kc(n,e,t,i){let r=n[t];const o=e.data;if(function Eee(n){return n instanceof yf}(r)){const s=r;s.resolving&&function OJ(n,e){throw e&&e.join(" > "),new j(-200,n)}(function At(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(o[t]));const a=Q_(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ar(s.injectImpl):null;YF(n,i,lt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function xee(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=SL(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Ar(l),Q_(a),s.resolving=!1,eL()}}return r}function jL(n,e,t){return!!(t[e+(n>>FL)]&1<<n)}function HL(n,e){return!(n&lt.Self||n&lt.Host&&e)}class di{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return UL(this._tNode,this._lView,e,P_(i),t)}}function Ree(){return new di(Nt(),W())}function yi(n){return Bs(()=>{const e=n.prototype.constructor,t=e[Us]||QC(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Us]||QC(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function QC(n){return k_(n)?()=>{const e=QC(Ne(n));return e&&e()}:$c(n)}function $L(n){const e=n[oe],t=e.type;return 2===t?e.declTNode:1===t?n[Zi]:null}function QL(n,e=null,t=null,i){const r=YL(n,e,t,i);return r.resolveInjectorInitializers(),r}function YL(n,e=null,t=null,i,r=new Set){const o=[t||It,JJ(n)];return i=i||("object"==typeof n?void 0:ci(n)),new Ou(o,e||H_(),i||null,r)}let $t=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=hf;static#t=this.NULL=new B_;static create(t,i){if(Array.isArray(t))return QL({name:""},i,t,"");{const r=t.name??"";return QL({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=re({token:n,providedIn:"any",factory:()=>$(CL)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function XC(n){return n.ngOriginalError}class Po{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&XC(e);for(;t&&XC(t);)t=XC(t);return t||null}}const ZL=new X("",{providedIn:"root",factory:()=>te(Po).handleError.bind(void 0)}),e3=new X("",{providedIn:"root",factory:()=>!1});class Qc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bF})`}}function Wr(n){return n instanceof Qc?n.changingThisBreaksApplicationSecurity:n}const ote=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Li=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Li||{});function iE(n){const e=function Cf(){const n=W();return n&&n[zs].sanitizer}();return e?e.sanitize(Li.URL,n)||"":function ts(n,e){const t=function Yee(n){return n instanceof Qc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${bF})`)}return t===e}(n,"URL")?Wr(n):function rb(n){return(n=String(n)).match(ote)?n:"unsafe:"+n}(He(n))}const rE=new Map;let Ete=0;const sE="__ngContext__";function nr(n,e){Ji(e)?(n[sE]=e[rf],function Tte(n){rE.set(n[rf],n)}(e)):n[sE]=e}function Kr(n){return n instanceof Function?n():n}var Oa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Oa||{});let uE;function dE(n,e){return uE(n,e)}function Uu(n,e,t,i,r){if(null!=i){let o,s=!1;er(i)?o=i:Ji(i)&&(s=!0,i=i[_n]);const a=zt(i);0===n&&null!==t?null==r?O3(e,t,a):Yc(e,t,a,r||null,!0):1===n&&null!==t?Yc(e,t,a,r||null,!0):2===n?function fb(n,e,t){const i=db(n,e);i&&function Kte(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function Xte(n,e,t,i,r){const o=t[Yo];o!==zt(t)&&Uu(e,n,i,o,r);for(let a=zn;a<t.length;a++){const c=t[a];pb(c[oe],c,n,e,i,o)}}(e,n,o,t,r)}}function lb(n,e,t){return n.createElement(e,t)}function A3(n,e){pb(n,e,e[Be],2,null,null)}function S3(n,e){const t=n[bu],i=t.indexOf(e);t.splice(i,1)}function If(n,e){if(n.length<=zn)return;const t=zn+e,i=n[t];if(i){const r=i[nf];null!==r&&r!==n&&S3(r,i),e>0&&(n[t-1][Ao]=i[Ao]);const o=C_(n,zn+e);!function zte(n,e){A3(n,e),e[_n]=null,e[Zi]=null}(i[oe],i);const s=o[js];null!==s&&s.detachView(o[oe]),i[Un]=null,i[Ao]=null,i[Me]&=-129}return i}function ub(n,e){if(!(256&e[Me])){const t=e[Be];t.destroyNode&&pb(n,e,t,3,null,null),function Hte(n){let e=n[tf];if(!e)return fE(n[oe],n);for(;e;){let t=null;if(Ji(e))t=e[tf];else{const i=e[zn];i&&(t=i)}if(!t){for(;e&&!e[Ao]&&e!==n;)Ji(e)&&fE(e[oe],e),e=e[Un];null===e&&(e=n),Ji(e)&&fE(e[oe],e),t=e&&e[Ao]}e=t}}(e)}}function fE(n,e){if(!(256&e[Me])){e[Me]&=-129,e[Me]|=256,e[Bc]&&function To(n){if(Xe(n),Vs(n))for(let e=0;e<n.producerNode.length;e++)Fc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[Bc]),function Wte(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof yf)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Jo(4,a,c);try{c.call(a)}finally{Jo(5,a,c)}}else{Jo(4,r,o);try{o.call(r)}finally{Jo(5,r,o)}}}}}(n,e),function qte(n,e){const t=n.cleanup,i=e[gu];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[gu]=null);const r=e[Ma];if(null!==r){e[Ma]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[oe].type&&e[Be].destroy();const t=e[nf];if(null!==t&&er(e[Un])){t!==e[Un]&&S3(t,e);const i=e[js];null!==i&&i.detachView(n)}!function Mte(n){rE.delete(n[rf])}(e)}}function pE(n,e,t){return function k3(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[_n];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Mo.None||o===Mo.Emulated)return null}return gr(i,t)}}(n,e.parent,t)}function Yc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function O3(n,e,t){n.appendChild(e,t)}function P3(n,e,t,i,r){null!==i?Yc(n,e,t,i,r):O3(n,e,t)}function db(n,e){return n.parentNode(e)}function R3(n,e,t){return F3(n,e,t)}let gE,F3=function N3(n,e,t){return 40&n.type?gr(n,t):null};function hb(n,e,t,i){const r=pE(n,i,e),o=e[Be],a=R3(i.parent||e[Zi],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)P3(o,r,t[c],a,!1);else P3(o,r,t,a,!1);void 0!==gE&&gE(o,i,e,t,r)}function Tf(n,e){if(null!==e){const t=e.type;if(3&t)return gr(e,n);if(4&t)return mE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Tf(n,i);{const r=n[e.index];return er(r)?mE(-1,r):zt(r)}}if(32&t)return dE(e,n)()||zt(n[e.index]);{const i=V3(n,e);return null!==i?Array.isArray(i)?i[0]:Tf(zc(n[Mn]),i):Tf(n,e.next)}}return null}function V3(n,e){return null!==e?n[Mn][Zi].projection[e.projection]:null}function mE(n,e){const t=zn+n+1;if(t<e.length){const i=e[t],r=i[oe].firstChild;if(null!==r)return Tf(i,r)}return e[Yo]}function _E(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&nr(zt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)_E(n,e,t.child,i,r,o,!1),Uu(e,n,r,a,o);else if(32&c){const l=dE(t,i);let u;for(;u=l();)Uu(e,n,r,u,o);Uu(e,n,r,a,o)}else 16&c?U3(n,e,i,t,r,o):Uu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function pb(n,e,t,i,r,o){_E(t,i,n.firstChild,e,r,o,!1)}function U3(n,e,t,i,r,o){const s=t[Mn],c=s[Zi].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Uu(e,n,r,c[l],o);else{let l=c;const u=s[Un];I_(i)&&(l.flags|=128),_E(n,e,l,u,r,o,!0)}}function z3(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function j3(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Ux(n,e,i),null!==r&&z3(n,e,r),null!==o&&function Jte(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const qe={};function U(n=1){H3(dt(),W(),tr()+n,!1)}function H3(n,e,t,i){if(!i)if(3==(3&e[Me])){const o=n.preOrderCheckHooks;null!==o&&W_(e,o,t)}else{const o=n.preOrderHooks;null!==o&&K_(e,o,0,t)}jc(t)}function E(n,e=lt.Default){const t=W();return null===t?$(n,e):UL(Nt(),t,Ne(n),e)}function bE(){throw new Error("invalid")}function $3(n,e,t,i,r,o){const s=z(null);try{let a=null;r&ut.SignalBased&&(a=e[i][R]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&ut.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):AL(e,a,i,o)}finally{z(s)}}function gb(n,e,t,i,r,o,s,a,c,l,u){const d=e.blueprint.slice();return d[_n]=r,d[Me]=204|i,(null!==l||n&&2048&n[Me])&&(d[Me]|=2048),jF(d),d[Un]=d[mu]=n,d[Yt]=t,d[zs]=s||n&&n[zs],d[Be]=a||n&&n[Be],d[Fi]=c||n&&n[Fi]||null,d[Zi]=o,d[rf]=function Ite(){return Ete++}(),d[So]=u,d[NF]=l,d[Mn]=2==e.type?n[Mn]:d,d}function zu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function yE(n,e,t,i,r){const o=qF(),s=Zx(),c=n.data[e]=function ane(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return vu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function dJ(){return Fe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function uf(){const n=Fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Zo(o,!0),o}function Mf(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function G3(n,e,t,i,r){const o=tr(),s=2&i;try{jc(-1),s&&e.length>je&&H3(n,e,je,!1),Jo(s?2:0,r),t(i,r)}finally{jc(o),Jo(s?3:1,r)}}function vE(n,e,t){if(Hx(e)){const i=z(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{z(i)}}}function wE(n,e,t){GF()&&(function pne(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Uc(t)&&function wne(n,e,t){const i=gr(e,n),r=q3(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=mb(n,gb(n,r,null,s,i,e,null,n[zs].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Y_(t,e),nr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=Kc(e,n,a,t);nr(l,e),null!==s&&xne(0,a-r,l,c,0,s),ko(c)&&($r(t.index,e)[Yt]=Kc(e,n,a,t))}}(n,e,t,gr(t,e)),64==(64&t.flags)&&X3(n,e,t))}function xE(n,e,t=gr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function q3(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=CE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function CE(n,e,t,i,r,o,s,a,c,l,u){const d=je+i,h=d+r,f=function tne(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:qe);return t}(d,h),b="function"==typeof l?l():l;return f[oe]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}let W3=()=>null;function K3(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,c=ut.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?Q3(i,t,l,a,c):Q3(i,t,l,a)}return i}function Q3(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function kr(n,e,t,i,r,o,s,a){const c=gr(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(DE(n,t,u,i,r),Uc(e)&&function une(n,e){const t=$r(e,n);16&t[Me]||(t[Me]|=64)}(t,e.index)):3&e.type&&(i=function lne(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function EE(n,e,t,i){if(GF()){const r=null===i?null:{"":-1},o=function mne(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(AF(e,s.selectors,!1))if(i||(i=[]),ko(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),IE(n,e,a.length)}else i.unshift(s),IE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Y3(n,e,t,s,r,a),r&&function _ne(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new j(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ef(t.mergedAttrs,t.attrs)}function Y3(n,e,t,i,r,o){for(let l=0;l<i.length;l++)KC(Y_(t,e),n,i[l].type);!function yne(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Mf(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=ef(t.mergedAttrs,u.hostAttrs),vne(n,t,e,c,u),bne(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function cne(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,b=h?h.outputs:null;c=K3(0,d.inputs,u,c,h?h.inputs:null),l=K3(1,d.outputs,u,l,b);const C=null===c||null===s||DF(e)?null:Cne(c,u,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function X3(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function fJ(){return Fe.lFrame.currentDirectiveIndex}();try{jc(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];eC(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&gne(c,l)}}finally{jc(-1),eC(s)}}function gne(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function IE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function bne(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;ko(e)&&(t[""]=n)}}function vne(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=$c(r.type)),s=new yf(o,ko(r),E);n.blueprint[i]=s,t[i]=s,function hne(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function fne(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Mf(n,t,r.hostVars,qe),r)}function ns(n,e,t,i,r,o){const s=gr(n,e);!function TE(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?He(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Be],s,o,n.value,t,i,r)}function xne(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)$3(i,t,s[a++],s[a++],s[a++],s[a++])}function Cne(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Z3(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function J3(n,e){const t=n.contentQueries;if(null!==t){const i=z(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];v_(t[r]),a.contentQueries(2,e[s],s)}}}finally{z(i)}}}function mb(n,e){return n[tf]?n[RF][Ao]=e:n[tf]=e,n[RF]=e,e}function ME(n,e,t){v_(0);const i=z(null);try{e(n,t)}finally{z(i)}}function e4(n){return n[gu]||(n[gu]=[])}function t4(n){return n.cleanup||(n.cleanup=[])}function n4(n,e,t){return(null===n||ko(n))&&(t=function Wx(n){for(;Array.isArray(n);){if("object"==typeof n[zx])return n;n=n[_n]}return null}(t[e.index])),t[Be]}function _b(n,e){const t=n[Fi],i=t?t.get(Po,null):null;i&&i.handleError(e)}function DE(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];$3(n.data[s],e[s],i,a,c,r)}}function Ene(n,e){const t=$r(e,n),i=t[oe];!function Ine(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[_n];null!==r&&null===t[So]&&(t[So]=DC(r,t[Fi])),AE(i,t,t[Yt])}function AE(n,e,t){iC(e);try{const i=n.viewQuery;null!==i&&ME(1,i,t);const r=n.template;null!==r&&G3(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[js]?.finishViewCreation(n),n.staticContentQueries&&J3(n,e),n.staticViewQueries&&ME(2,n.viewQuery,t);const o=n.components;null!==o&&function Tne(n,e){for(let t=0;t<e.length;t++)Ene(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Me]&=-5,rC()}}function ju(n,e){return!e||null===e.firstChild||I_(n)}function Af(n,e,t,i=!0){const r=e[oe];if(function $te(n,e,t,i){const r=zn+i,o=t.length;i>0&&(t[r-1][Ao]=e),i<o-zn?(e[Ao]=t[r],rL(t,zn+i,e)):(t.push(e),e[Ao]=null),e[Un]=t;const s=e[nf];null!==s&&t!==s&&function Gte(n,e){const t=n[bu];e[Mn]!==e[Un][Un][Mn]&&(n[Me]|=jx.HasTransplantedViews),null===t?n[bu]=[e]:t.push(e)}(s,e);const a=e[js];null!==a&&a.insertView(n),Yx(e),e[Me]|=128}(r,e,n,t),i){const s=mE(t,n),a=e[Be],c=db(a,n[Yo]);null!==c&&function jte(n,e,t,i,r,o){i[_n]=r,i[Zi]=e,pb(n,i,t,1,r,o)}(r,n[Zi],a,e,c,s)}const o=e[So];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Sf(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(zt(o)),er(o)&&o4(o,i);const s=t.type;if(8&s)Sf(n,e,t.child,i);else if(32&s){const a=dE(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=V3(e,t);if(Array.isArray(a))i.push(...a);else{const c=zc(e[Mn]);Sf(c[oe],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function o4(n,e){for(let t=zn;t<n.length;t++){const i=n[t],r=i[oe].firstChild;null!==r&&Sf(i[oe],i,r,e)}n[Yo]!==n[_n]&&e.push(n[Yo])}let s4=[];const Sne={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{lf(n.lView)},consumerOnSignalRead(){this.lView[Bc]=this}};function a4(n){return l4(n[tf])}function c4(n){return l4(n[Ao])}function l4(n){for(;null!==n&&!er(n);)n=n[Ao];return n}function bb(n,e=!0,t=0){const i=n[zs],r=i.rendererFactory;r.begin?.();try{!function Pne(n,e){kE(n,e);let t=0;for(;Qx(n);){if(100===t)throw new j(103,!1);t++,kE(n,1)}}(n,t)}catch(s){throw e&&_b(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function Rne(n,e,t,i){const r=e[Me];if(256==(256&r))return;e[zs].inlineEffectRunner?.flush(),iC(e);let s=null,a=null;(function Nne(n){return 2!==n.type})(n)&&(a=function Mne(n){return n[Bc]??function Dne(n){const e=s4.pop()??Object.create(Sne);return e.lView=n,e}(n)}(e),s=function ge(n){return n&&(n.nextProducerIndex=0),z(n)}(a));try{jF(e),function KF(n){return Fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&G3(n,e,t,2,i);const c=3==(3&r);if(c){const d=n.preOrderCheckHooks;null!==d&&W_(e,d,null)}else{const d=n.preOrderHooks;null!==d&&K_(e,d,0,null),HC(e,0)}if(function Fne(n){for(let e=a4(n);null!==e;e=c4(e)){if(!(e[Me]&jx.HasTransplantedViews))continue;const t=e[bu];for(let i=0;i<t.length;i++){tJ(t[i])}}}(e),d4(e,0),null!==n.contentQueries&&J3(n,e),c){const d=n.contentCheckHooks;null!==d&&W_(e,d)}else{const d=n.contentHooks;null!==d&&K_(e,d,1),HC(e,1)}!function ene(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)jc(~r);else{const o=r,s=t[++i],a=t[++i];hJ(s,o),a(2,e[o])}}}finally{jc(-1)}}(n,e);const l=n.components;null!==l&&f4(e,l,0);const u=n.viewQuery;if(null!==u&&ME(2,u,i),c){const d=n.viewCheckHooks;null!==d&&W_(e,d)}else{const d=n.viewHooks;null!==d&&K_(e,d,2),HC(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[m_]){for(const d of e[m_])d();e[m_]=null}e[Me]&=-73}catch(c){throw lf(e),c}finally{null!==a&&(function Wt(n,e){if(z(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Vs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Fc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function Ane(n){n.lView[Bc]!==n&&(n.lView=null,s4.push(n))}(a)),rC()}}function d4(n,e){for(let t=a4(n);null!==t;t=c4(t))for(let i=zn;i<t.length;i++)h4(t[i],e)}function Lne(n,e,t){h4($r(e,n),t)}function h4(n,e){Kx(n)&&kE(n,e)}function kE(n,e){const i=n[oe],r=n[Me],o=n[Bc];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!fr(o)),o&&(o.dirty=!1),n[Me]&=-9217,s)Rne(i,n,i.template,n[Yt]);else if(8192&r){d4(n,1);const a=i.components;null!==a&&f4(n,a,1)}}function f4(n,e,t){for(let i=0;i<e.length;i++)Lne(n,e[i],t)}function kf(n){for(n[zs].changeDetectionScheduler?.notify();n;){n[Me]|=64;const e=zc(n);if($x(n)&&!e)return n;n=e}return null}class Of{get rootNodes(){const e=this._lView,t=e[oe];return Sf(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yt]}set context(e){this._lView[Yt]=e}get destroyed(){return 256==(256&this._lView[Me])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Un];if(er(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(If(e,i),C_(t,i))}this._attachedToViewContainer=!1}ub(this._lView[oe],this._lView)}onDestroy(e){y_(this._lView,e)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Me]&=-129}reattach(){Yx(this._lView),this._lView[Me]|=128}detectChanges(){this._lView[Me]|=1024,bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,A3(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,Yx(this._lView)}}let is=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Une}return n})();const Vne=is,Bne=class extends Vne{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Df(n,e,t,i){const r=e.tView,a=gb(n,r,t,4096&n[Me]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[nf]=n[e.index];const l=n[js];return null!==l&&(a[js]=l.createEmbeddedView(r)),AE(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new Of(r)}};function Une(){return yb(Nt(),W())}function yb(n,e){return 4&n.type?new Bne(e,n,wu(n,e)):null}class LE{}class cie{}class v4{}class uie{resolveComponentFactory(e){throw function lie(n){const e=Error(`No component factory found for ${ci(n)}.`);return e.ngComponent=n,e}(e)}}let $u=(()=>{class n{static#e=this.NULL=new uie}return n})();class VE{}let Ro=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function die(){const n=W(),t=$r(Nt().index,n);return(Ji(t)?t:n)[Be]}()}return n})(),hie=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>null})}return n})();const BE={};const C4=new Set;function rs(n){C4.has(n)||(C4.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function E4(n){return function x4(n){return"function"==typeof n&&void 0!==n[R]}(n)&&"function"==typeof n.set}function Eb(n){return!!function UE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class T4{constructor(){}supports(e){return Eb(e)}create(e){return new bie(e)}}const _ie=(n,e)=>e;class bie{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_ie}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<D4(i,r,o)?t:i,a=D4(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,b=f+h;u<=b&&b<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Eb(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function mie(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new yie(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new M4),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yie{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vie{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class M4{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new vie,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function D4(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function S4(){return new zE([new T4])}let zE=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:S4});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||S4()),deps:[[n,new _f,new Jt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new j(901,!1)}}return n})(),Gu=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Eie}return n})();function Eie(n){return function Iie(n,e,t){if(Uc(n)&&!t){const i=$r(n.index,e);return new Of(i,i)}return 47&n.type?new Of(e[Mn],e):null}(Nt(),W(),16==(16&n))}let Tb=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Aie;static#t=this.__NG_ENV_ID__=t=>t}return n})();class Die extends Tb{constructor(e){super(),this._lView=e}onDestroy(e){return y_(this._lView,e),()=>function Xx(n,e){if(null===n[Ma])return;const t=n[Ma].indexOf(e);-1!==t&&n[Ma].splice(t,1)}(this._lView,e)}}function Aie(){return new Die(W())}function O4(...n){}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Nie(){const n="function"==typeof Ot.requestAnimationFrame;let e=Ot[n?"requestAnimationFrame":"setTimeout"],t=Ot[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Vie(n){const e=()=>{!function Lie(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,HE(n),n.isCheckStableRunning=!0,jE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),HE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function Bie(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return P4(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),R4(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return P4(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),R4(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,HE(n),jE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new j(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Fie,O4,O4);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Fie={};function jE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function HE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function P4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function R4(n){n._nesting--,jE(n)}class N4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var Xc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xc||{});const F4={destroy(){}};function L4(n,e){!e&&function $_(n){if(!fL()&&!function LJ(){return Eu}())throw new j(-203,!1)}();const t=e?.injector??te($t);if(!function ka(n){return"browser"===(n??te($t)).get(so)}(t))return F4;rs("NgAfterNextRender");const i=t.get(Lf),r=i.handler??=new B4,o=e?.phase??Xc.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Tb).onDestroy(s),c=new V4(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class V4{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Ae),this.errorHandler=e.get(Po,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class B4{constructor(){this.executingCallbacks=!1,this.buckets={[Xc.EarlyRead]:new Set,[Xc.Write]:new Set,[Xc.MixedReadWrite]:new Set,[Xc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Lf=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})();function Db(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Lx(r,a):2==o&&(i=Lx(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class j4 extends $u{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=nt(e);return new Uf(t,this.ngModule)}}function H4(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class Gie{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=P_(i);const r=this.injector.get(e,BE,i);return r!==BE||t===BE?r:this.parentInjector.get(e,t,i)}}class Uf extends v4{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=H4(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return H4(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function jZ(n){return n.map(zZ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof qr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Gie(e,o):e,a=s.get(VE,null);if(null===a)throw new j(407,!1);const d={rendererFactory:a,sanitizer:s.get(hie,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Lf,null),changeDetectionScheduler:s.get(LE,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",b=i?function nne(n,e,t,i){const o=i.get(e3,!1)||t===Mo.ShadowDom,s=n.selectRootElement(e,o);return function ine(n){W3(n)}(s),s}(h,i,this.componentDef.encapsulation,s):lb(h,f,function $ie(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f));let C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let I=null;null!==b&&(I=DC(b,s,!0));const O=CE(0,null,null,1,0,null,null,null,null,null,null),D=gb(null,O,null,C,null,null,d,h,s,null,I);let B,Y;iC(D);try{const ae=this.componentDef;let pe,Ge=null;ae.findHostDirectiveDefs?(pe=[],Ge=new Map,ae.findHostDirectiveDefs(ae,pe,Ge),pe.push(ae)):pe=[ae];const gt=function Wie(n,e){const t=n[oe],i=je;return n[i]=e,zu(t,i,2,"#host",null)}(D,b),ai=function Kie(n,e,t,i,r,o,s){const a=r[oe];!function Qie(n,e,t,i){for(const r of n)e.mergedAttrs=ef(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Db(e,e.mergedAttrs,!0),null!==t&&j3(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=DC(e,r[Fi]));const l=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=gb(r,q3(t),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&IE(a,n,i.length-1),mb(r,d),r[n.index]=d}(gt,b,ae,pe,D,d,h);Y=cf(O,je),b&&function Xie(n,e,t,i){if(i)Ux(n,t,["ng-version","17.2.3"]);else{const{attrs:r,classes:o}=function HZ(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Do(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Ux(n,t,r),o&&o.length>0&&z3(n,t,o.join(" "))}}(h,ae,b,i),void 0!==t&&function Zie(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,t),B=function Yie(n,e,t,i,r,o){const s=Nt(),a=r[oe],c=gr(s,r);Y3(a,r,s,t,null,i);for(let u=0;u<t.length;u++)nr(Kc(r,a,s.directiveStart+u,s),r);X3(a,r,s),c&&nr(c,r);const l=Kc(r,a,s.directiveStart+s.componentOffset,s);if(n[Yt]=r[Yt]=l,null!==o)for(const u of o)u(l,e);return vE(a,s,r),l}(ai,ae,pe,Ge,D,[Jie]),AE(O,D,null)}finally{rC()}return new qie(this.componentType,B,wu(Y,D),D,Y)}}class qie extends cie{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Of(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;DE(o[oe],o,r,e,t),this.previousInputValues.set(e,t),kf($r(this._tNode.index,o))}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Jie(){const n=Nt();q_(W()[oe],n)}let co=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ere}return n})();function ere(){return q4(Nt(),W())}const tre=co,$4=class extends tre{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const e=X_(this._hostTNode,this._hostLView);if(GC(e)){const t=wf(e,this._hostLView),i=vf(e);return new di(t[oe].data[i+8],t)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=G4(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-zn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,ju(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function bf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new Uf(nt(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const C=(s?l:this.parentInjector).get(qr,null);C&&(o=C)}nt(c.componentType??{});const f=c.create(l,r,null,o);return this.insertImpl(f.hostView,a,ju(this._hostTNode,null)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function eJ(n){return er(n[Un])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[Un],l=new $4(c,c[Zi],c[Un]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Af(s,r,o,i),e.attachToViewContainerRef(),rL(WE(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=G4(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=If(this._lContainer,t);i&&(C_(WE(this._lContainer),t),ub(i[oe],i))}detach(e){const t=this._adjustIndex(e,-1),i=If(this._lContainer,t);return i&&null!=C_(WE(this._lContainer),t)?new Of(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function G4(n){return n[8]}function WE(n){return n[8]||(n[8]=[])}function q4(n,e){let t;const i=e[n.index];return er(i)?t=i:(t=Z3(i,e,null,n),e[n.index]=t,mb(e,t)),W4(t,e,n,i),new $4(t,n,e)}let W4=function Q4(n,e,t,i){if(n[Yo])return;let r;r=8&t.type?zt(i):function nre(n,e){const t=n[Be],i=t.createComment(""),r=gr(e,n);return Yc(t,db(t,r),i,function Qte(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Yo]=r},KE=()=>!1;class QE{constructor(e){this.queryList=e,this.matches=null}clone(){return new QE(this.queryList)}setDirty(){this.queryList.setDirty()}}class YE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new YE(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==t1(e,t).matches&&this.queries[t].setDirty()}}class Y4{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function ure(n){return n.split(",").map(e=>e.trim())}(e):e}}class XE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new XE(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ZE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ZE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,sre(t,o)),this.matchTNodeWithReadOption(e,t,Z_(t,e,o,!1,!1))}else i===is?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Z_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ln||r===co||r===is&&4&t.type)this.addMatch(t.index,-2);else{const o=Z_(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function sre(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function cre(n,e,t,i){return-1===t?function are(n,e){return 11&n.type?wu(n,e):4&n.type?yb(n,e):null}(e,n):-2===t?function lre(n,e,t){return t===ln?wu(e,n):t===is?yb(e,n):t===co?q4(e,n):void 0}(n,e,i):Kc(n,n[oe],t,e)}function X4(n,e,t,i){const r=e[js].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:cre(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function JE(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=X4(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=zn;d<u.length;d++){const h=u[d];h[nf]===h[Un]&&JE(h[oe],h,l,i)}if(null!==u[bu]){const d=u[bu];for(let h=0;h<d.length;h++){const f=d[h];JE(f[oe],f,l,i)}}}}}return i}function Z4(n,e,t){const i=new cC(4==(4&t));return function sne(n,e,t,i){const r=e4(e);r.push(t),n.firstCreatePass&&t4(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[js]??=new YE).queries.push(new QE(i))-1}function tV(n,e,t){null===n.queries&&(n.queries=new XE),n.queries.track(new ZE(e,t))}function t1(n,e){return n.queries.getByIndex(e)}function nV(n,e){const t=n[oe],i=t1(t,e);return i.crossesNgTemplate?JE(t,n,e,[]):X4(t,n,i,e)}function xt(n){let e=function fV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(ko(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Sb(n.inputs),s.inputTransforms=Sb(n.inputTransforms),s.declaredInputs=Sb(n.declaredInputs),s.outputs=Sb(n.outputs);const a=r.hostBindings;a&&Ire(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&Cre(n,c),l&&Ere(n,l),wre(n,r),OZ(n.outputs,r.outputs),ko(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===xt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function xre(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ef(r.hostAttrs,t=ef(t,r.hostAttrs))}}(i)}function wre(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function Sb(n){return n===Qo?{}:n===It?[]:n}function Cre(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Ere(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Ire(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function r1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class Zc{}class _V{}class o1 extends Zc{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new j4(this);const r=Xi(e);this._bootstrapComponents=Kr(r.bootstrap),this._r3Injector=YL(e,t,[{provide:Zc,useValue:this},{provide:$u,useValue:this.componentFactoryResolver},...i],ci(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class s1 extends _V{constructor(e){super(),this.moduleType=e}create(e){return new o1(this.moduleType,e,[])}}class bV extends Zc{constructor(e){super(),this.componentFactoryResolver=new j4(this),this.instance=null;const t=new Ou([...e.providers,{provide:Zc,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],e.parent||H_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function kb(n,e,t=null){return new bV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let jf=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ei(n,e,t,i,r,o,s,a){const c=W(),l=dt(),u=n+je,d=l.firstCreatePass?function Nre(n,e,t,i,r,o,s,a,c){const l=e.consts,u=zu(e,n,4,s||null,Xo(l,a));EE(e,t,u,Xo(l,c)),q_(e,u);const d=u.tView=CE(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,o,s):l.data[u];Zo(d,!1);const h=yV(l,c,d,n);x_()&&hb(l,c,h,d),nr(h,c);const f=Z3(h,c,h,d);return c[u]=f,mb(c,f),function K4(n,e,t){return KE(n,e,t)}(f,d,c),b_(d)&&wE(l,c,d),null!=s&&xE(c,d,a),ei}let yV=function vV(n,e,t,i){return Da(!0),e[Be].createComment("")};function Or(n,e,t,i){const r=W();return jn(r,Oo(),e)&&(dt(),ns(Xt(),r,n,e,t,i)),Or}function Bb(n,e){return n<<17|e<<2}function Fa(n){return n>>17&32767}function m1(n){return 2|n}function tl(n){return(131068&n)>>2}function _1(n,e){return-131069&n|e<<2}function b1(n){return 1|n}function XV(n,e,t,i){const r=n[t+1],o=null===e;let s=i?Fa(r):tl(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];yoe(n[s],e)&&(a=!0,n[s+1]=i?b1(l):m1(l)),s=i?Fa(l):tl(l)}a&&(n[t+1]=i?m1(r):b1(r))}function yoe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Cu(n,e)>=0}const hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZV(n){return n.substring(hi.key,hi.keyEnd)}function JV(n,e){const t=hi.textEnd;return t===e?-1:(e=hi.keyEnd=function Coe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,hi.key=e,t),cd(n,e,t))}function cd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ti(n,e,t){const i=W();return jn(i,Oo(),e)&&kr(dt(),Xt(),i,n,e,i[Be],t,!1),ti}function y1(n,e,t,i,r){const s=r?"class":"style";DE(n,t,e.inputs[s],s,i)}function uo(n,e){return function No(n,e,t,i){const r=W(),o=dt(),s=$s(2);o.firstUpdatePass&&a5(o,n,s,i),e!==qe&&jn(r,s,e)&&l5(o,o.data[tr()],r,r[Be],n,r[s+1]=function Roe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ci(Wr(n)))),n}(e,t),i,s)}(n,e,null,!0),uo}function Ub(n){!function Fo(n,e,t,i){const r=dt(),o=$s(2);r.firstUpdatePass&&a5(r,null,o,i);const s=W();if(t!==qe&&jn(s,o,t)){const a=r.data[tr()];if(d5(a,i)&&!s5(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Lx(c,t||"")),y1(r,a,s,t,i)}else!function Poe(n,e,t,i,r,o,s,a){r===qe&&(r=It);let c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let C,b=null;u===d?(c+=2,l+=2,h!==f&&(b=d,C=f)):null===d||null!==u&&u<d?(c+=2,b=u):(l+=2,b=d,C=f),null!==b&&l5(n,e,t,i,b,C,s,a),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}(r,a,s,s[Be],s[o+1],s[o+1]=function koe(n,e,t){if(null==t||""===t)return It;const i=[],r=Wr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(Ooe,as,n,!0)}function as(n,e){for(let t=function woe(n){return function t5(n){hi.key=0,hi.keyEnd=0,hi.value=0,hi.valueEnd=0,hi.textEnd=n.length}(n),JV(n,cd(n,0,hi.textEnd))}(e);t>=0;t=JV(e,t))Gr(n,ZV(e),!0)}function s5(n,e){return e>=n.expandoStartIndex}function a5(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[tr()],s=s5(n,t);d5(o,i)&&null===e&&!s&&(e=!1),e=function Moe(n,e,t,i){const r=tC(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Wf(t=v1(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=v1(r,n,e,t,i),null===o){let c=function Doe(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==tl(i))return n[Fa(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=v1(null,n,e,c[1],i),c=Wf(c,e.attrs,i),function Aoe(n,e,t,i){n[Fa(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function Soe(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Wf(i,n[o].hostAttrs,t);return Wf(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function _oe(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Fa(s),c=tl(s);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Cu(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const h=Fa(n[a+1]);n[i+1]=Bb(h,a),0!==h&&(n[h+1]=_1(n[h+1],i)),n[a+1]=function goe(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Bb(a,0),0!==a&&(n[a+1]=_1(n[a+1],i)),a=i;else n[i+1]=Bb(c,0),0===a?a=i:n[c+1]=_1(n[c+1],i),c=i;l&&(n[i+1]=m1(n[i+1])),XV(n,u,i,!0),XV(n,u,i,!1),function boe(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Cu(o,e)>=0&&(t[i+1]=b1(t[i+1]))}(e,u,n,i,o),s=Bb(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function v1(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Wf(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Wf(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gr(n,s,!!t||e[++o]))}return void 0===n?null:n}function Ooe(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Gr(n,i,t)}function l5(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function moe(n){return 1==(1&n)}(l)?u5(c,e,t,r,tl(l),s):void 0;zb(u)||(zb(o)||function poe(n){return 2==(2&n)}(l)&&(o=u5(c,null,t,r,a,s)),function Zte(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Oa.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Oa.Important),n.setStyle(t,i,r,o))}}(i,s,af(tr(),t),r,o))}function u5(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[r+1];h===qe&&(h=d?It:void 0);let f=d?aC(h,i):u===i?h:void 0;if(l&&!zb(f)&&(f=aC(c,i)),zb(f)&&(a=f,s))return a;const b=n[r+1];r=s?Fa(b):tl(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=aC(c,i))}return a}function zb(n){return void 0!==n}function d5(n,e){return 0!=(n.flags&(e?8:16))}function g(n,e,t,i){const r=W(),o=dt(),s=je+n,a=r[Be],c=o.firstCreatePass?function ise(n,e,t,i,r,o){const s=e.consts,c=zu(e,n,2,i,Xo(s,r));return EE(e,t,c,Xo(s,o)),null!==c.attrs&&Db(c,c.attrs,!1),null!==c.mergedAttrs&&Db(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=g5(o,r,c,a,e,n);r[s]=l;const u=b_(c);return Zo(c,!0),j3(a,l,c),32!=(32&c.flags)&&x_()&&hb(o,r,l,c),0===function nJ(){return Fe.lFrame.elementDepthCount}()&&nr(l,r),function iJ(){Fe.lFrame.elementDepthCount++}(),u&&(wE(o,r,c),vE(o,c,r)),null!==i&&xE(r,c),g}function p(){let n=Nt();Zx()?Jx():(n=n.parent,Zo(n,!1));const e=n;(function oJ(n){return Fe.skipHydrationRootTNode===n})(e)&&function lJ(){Fe.skipHydrationRootTNode=null}(),function rJ(){Fe.lFrame.elementDepthCount--}();const t=dt();return t.firstCreatePass&&(q_(t,n),Hx(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Tee(n){return 0!=(8&n.flags)}(e)&&y1(t,e,W(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Mee(n){return 0!=(16&n.flags)}(e)&&y1(t,e,W(),e.stylesWithoutHost,!1),p}function Q(n,e,t,i){return g(n,e,t,i),p(),Q}let g5=(n,e,t,i,r,o)=>(Da(!0),lb(i,r,function tL(){return Fe.lFrame.currentNamespace}()));function mt(){return W()}function M1(n,e,t){const i=W();if(jn(i,Oo(),e)){const o=dt(),s=Xt();kr(o,s,i,n,e,n4(tC(o.data),s,i),t,!0)}return M1}const ud="en-US";let w5=ud;function J(n,e,t,i){const r=W(),o=dt(),s=Nt();return k1(o,r,r[Be],s,n,e,i),J}function S1(n,e){const t=Nt(),i=W(),r=dt();return k1(r,i,n4(tC(r.data),t,i),t,n,e),S1}function k1(n,e,t,i,r,o,s){const a=b_(i),l=n.firstCreatePass&&t4(n),u=e[Yt],d=e4(e);let h=!0;if(3&i.type||s){const C=gr(i,e),I=s?s(C):C,O=d.length,D=s?Y=>s(zt(Y[i.index])):i.index;let B=null;if(!s&&a&&(B=function oae(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[gu],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,h=!1;else{o=W5(i,e,u,o,!1);const Y=t.listen(I,r,o);d.push(o,Y),l&&l.push(r,D,O,O+1)}}else o=W5(i,e,u,o,!1);const f=i.outputs;let b;if(h&&null!==f&&(b=f[r])){const C=b.length;if(C)for(let I=0;I<C;I+=2){const ae=e[b[I]][b[I+1]].subscribe(o),pe=d.length;d.push(o,ae),l&&l.push(r,i.index,pe,"function"==typeof ae?pe+1:-(pe+1))}}}function q5(n,e,t,i){try{return Jo(6,e,t),!1!==t(i)}catch(r){return _b(n,r),!1}finally{Jo(7,e,t)}}function W5(n,e,t,i,r){return function o(s){if(s===Function)return i;kf(n.componentOffset>-1?$r(n.index,e):e);let c=q5(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=q5(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function tn(n=1){return function gJ(n){return(Fe.lFrame.contextLView=function HF(n,e){for(;n>0;)e=e[mu],n--;return e}(n,Fe.lFrame.contextLView))[Yt]}(n)}function sae(n,e){let t=null;const i=function LZ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?AF(n,o,!0):UZ(i,o))return r}else t=r}return t}function il(n){const e=W()[Mn][Zi];if(!e.projection){const i=e.projection=function E_(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?sae(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Rr(n,e=0,t){const i=W(),r=dt(),o=zu(r,je+n,16,null,t||null);null===o.projection&&(o.projection=e),Jx(),(!i[So]||vu())&&32!=(32&o.flags)&&function Yte(n,e,t){U3(e[Be],0,e,t,pE(n,t,e),R3(t.parent||e[Zi],t,e))}(r,i,o)}function P1(n,e,t,i){!function eV(n,e,t,i){const r=dt();if(r.firstCreatePass){const o=Nt();tV(r,new Y4(e,t,i),o.index),function dre(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}return Z4(r,W(),t)}(n,e,t,i)}function Pn(n,e,t){!function J4(n,e,t){const i=dt();return i.firstCreatePass&&(tV(i,new Y4(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),Z4(i,W(),e)}(n,e,t)}function bn(n){const e=W(),t=dt(),i=nC();v_(i+1);const r=t1(t,i);if(n.dirty&&function JZ(n){return 4==(4&n[Me])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=nV(e,i);n.reset(o,iL),n.notifyOnChanges()}return!0}return!1}function yn(){return function e1(n,e){return n[js].queries[e].queryList}(W(),nC())}function un(n){return function yu(n,e){return n[e]}(function uJ(){return Fe.lFrame.contextLView}(),je+n)}function v(n,e=""){const t=W(),i=dt(),r=n+je,o=i.firstCreatePass?zu(i,r,1,e,null):i.data[r],s=hB(i,t,o,e,n);t[r]=s,x_()&&hb(i,t,s,o),Zo(o,!1)}let hB=(n,e,t,i,r)=>(Da(!0),function cb(n,e){return n.createText(e)}(e[Be],i));function We(n){return Se("",n,""),We}function Se(n,e,t){const i=W(),r=function ed(n,e,t,i){return jn(n,Oo(),t)?e+He(t)+i:qe}(i,n,e,t);return r!==qe&&function qs(n,e,t){const i=af(e,n);!function D3(n,e,t){n.setValue(e,t)}(n[Be],i,t)}(i,tr(),r),Se}function ot(n,e,t){E4(e)&&(e=e());const i=W();return jn(i,Oo(),e)&&kr(dt(),Xt(),i,n,e,i[Be],t,!1),ot}function ht(n,e){const t=E4(n);return t&&n.set(e),t}function st(n,e){const t=W(),i=dt(),r=Nt();return k1(i,t,t[Be],r,n,e),st}function R1(n,e,t,i,r){if(n=Ne(n),Array.isArray(n))for(let o=0;o<n.length;o++)R1(n[o],e,t,i,r);else{const o=dt(),s=W(),a=Nt();let c=qc(n)?n:Ne(n.provide);const l=ML(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(qc(n)||!n.multi){const f=new yf(l,r,E),b=F1(c,e,r?u:u+h,d);-1===b?(KC(Y_(a,s),o,c),N1(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[b]=f,s[b]=f)}else{const f=F1(c,e,u+h,d),b=F1(c,e,u,u+h),I=b>=0&&t[b];if(r&&!I||!r&&!(f>=0&&t[f])){KC(Y_(a,s),o,c);const O=function Iae(n,e,t,i,r){const o=new yf(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,wB(o,r,i&&!t),o}(r?Eae:Cae,t.length,r,i,l);!r&&I&&(t[b].providerFactory=O),N1(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else N1(o,n,f>-1?f:b,wB(t[r?b:f],l,!r&&i));!r&&i&&I&&t[b].componentProviders++}}}function N1(n,e,t,i){const r=qc(e),o=function tee(n){return!!n.useClass}(e);if(r||o){const c=(o?Ne(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function wB(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function F1(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Cae(n,e,t,i){return L1(this.multi,[])}function Eae(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Kc(t,t[oe],this.providerFactory.index,i);o=a.slice(0,s),L1(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],L1(r,o);return o}function L1(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function vn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function xae(n,e,t){const i=dt();if(i.firstCreatePass){const r=ko(n);R1(t,i.data,i.blueprint,r,!0),R1(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let Tae=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=RC(0,t.type),r=i.length>0?kb([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=re({token:n,providedIn:"environment",factory:()=>new n($(qr))})}return n})();function ho(n){rs("NgStandalone"),n.getStandaloneInjector=e=>e.get(Tae).getOrCreateStandaloneInjector(n)}class La{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const wce=new La("17.2.3");let YB=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const tU=new X(""),Qb=new X("");let q1,$1=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,q1||(function Wce(n){q1=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)($(Ae),$(G1),$(Qb))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),G1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return q1?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ip(n){return!!n&&"function"==typeof n.then}function nU(n){return!!n&&"function"==typeof n.subscribe}const rp=new X("");let W1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=te(rp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(ip(o))t.push(o);else if(nU(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const K1=new X("");function oU(n,e){return Array.isArray(e)?e.reduce(oU,n):{...n,...e}}let cs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=te(ZL),this.afterRenderEffectManager=te(Lf),this.componentTypes=[],this.components=[],this.isStable=te(jf).hasPendingTasks.pipe(Ve(t=>!t)),this._injector=te(qr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof v4;if(!this._injector.get(W1).done)throw!r&&function Ta(n){const e=nt(n)||li(n)||Ni(n);return null!==e&&e.standalone}(t),new j(405,!1);let s;s=r?t:this._injector.get($u).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Kce(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zc),l=s.create($t.NULL,[],i||s.selector,a),u=l.location.nativeElement,d=l.injector.get(tU,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Yb(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new j(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const i=this.afterRenderEffectManager;for(;;){if(100===t)throw new j(103,!1);const r=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!r&&!Q1(o)||this.detectChangesInView(o,s,r);if(t++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Q1(o))&&(i.execute(),!this._views.some(({_lView:o})=>Q1(o))))break}}detectChangesInView(t,i,r){let o;r?(o=0,t[Me]|=1024):o=64&t[Me]?0:1,bb(t,i,o)}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Yb(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(K1,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Q1(n){return Qx(n)}class Yce{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let sU=(()=>{class n{compileModuleSync(t){return new s1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Kr(Xi(t).declarations).reduce((s,a)=>{const c=nt(a);return c&&s.push(new Uf(c)),s},[]);return new Yce(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jce=(()=>{class n{constructor(){this.zone=te(Ae),this.applicationRef=te(cs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ele(){const n=te(Ae),e=te(Po);return t=>n.runOutsideAngular(()=>e.handleError(t))}let nle=(()=>{class n{constructor(){this.subscription=new bi,this.initialized=!1,this.zone=te(Ae),this.pendingTasks=te(jf)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ls=new X("",{providedIn:"root",factory:()=>te(ls,lt.Optional|lt.SkipSelf)||function ile(){return typeof $localize<"u"&&$localize.locale||ud}()}),Y1=new X("");let uU=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Uie(n="zone.js",e){return"noop"===n?new N4:"zone.js"===n?new Ae(e):n}(i?.ngZone,function lU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Ore(n,e,t){return new o1(n,e,t)}(t.moduleType,this.injector,function cU(n){return[{provide:Ae,useFactory:n},{provide:Gc,multi:!0,useFactory:()=>{const e=te(Jce,{optional:!0});return()=>e.initialize()}},{provide:Gc,multi:!0,useFactory:()=>{const e=te(nle);return()=>{e.initialize()}}},{provide:ZL,useFactory:ele}]}(()=>r)),s=o.injector.get(Po,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Yb(this._modules,o),a.unsubscribe()})}),function rU(n,e,t){try{const i=t();return ip(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(W1);return a.runInitializers(),a.donePromise.then(()=>(function x5(n){"string"==typeof n&&(w5=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ls,ud)||ud),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=oU({},i);return function Zce(n,e,t){const i=new s1(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(cs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new j(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Y1,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)($($t))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Va=null;const dU=new X("");function hU(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=X1();if(!s||s.injector.get(dU,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function sle(n){if(Va&&!Va.get(dU,!1))throw new j(400,!1);(function iU(){!function uZ(n){aF=n}(()=>{throw new j(600,!1)})})(),Va=n;const e=n.get(uU);(function pU(n){n.get(dL,null)?.forEach(t=>t())})(n)}(function fU(n=[],e){return $t.create({name:e,providers:[{provide:LC,useValue:"platform"},{provide:Y1,useValue:new Set([()=>Va=null])},...n]})}(a,i))}return function ale(n){const e=X1();if(!e)throw new j(401,!1);return e}()}}function X1(){return Va?.get(uU)??null}const ple=hU(null,"core",[]);let gle=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)($(cs))};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({})}return n})();function us(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let VU=null;function Ba(){return VU}class qle{}const ft=new X("");let rI=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>te(Kle),providedIn:"platform"})}return n})();const Wle=new X("");let Kle=(()=>{class n extends rI{constructor(){super(),this._doc=te(ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ba().getBaseHref(this._doc)}onPopState(t){const i=Ba().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ba().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function oI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function BU(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ws(n){return n&&"?"!==n[0]?"?"+n:n}let Ua=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>te(zU),providedIn:"root"})}return n})();const UU=new X("");let zU=(()=>{class n extends Ua{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??te(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ws(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Ws(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Ws(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(rI),$(UU,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jU=(()=>{class n extends Ua{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=oI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Ws(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Ws(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(rI),$(UU,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),vi=(()=>{class n{constructor(t){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Xle(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(BU(HU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ws(i))}normalize(t){return n.stripTrailingSlash(function Yle(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,HU(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ws(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ws(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Ws;static#t=this.joinWithSlash=oI;static#n=this.stripTrailingSlash=BU;static#i=this.\u0275fac=function(i){return new(i||n)($(Ua))};static#r=this.\u0275prov=re({token:n,factory:()=>function Qle(){return new vi($(Ua))}(),providedIn:"root"})}return n})();function HU(n){return n.replace(/\/index.html$/,"")}class Vue{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let go=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Vue(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),ez(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ez(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(E(co),E(is),E(zE))};static#t=this.\u0275dir=be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function ez(n,e){n.context.$implicit=e.item}let mI=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Bue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tz("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tz("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(E(co),E(is))};static#t=this.\u0275dir=be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Bue{constructor(){this.$implicit=null,this.ngIf=null}}function tz(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ci(e)}'.`)}let za=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({})}return n})();const rz="browser";function my(n){return n===rz}function oz(n){return"server"===n}let pde=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>my(te(so))?new gde(te(ft),window):new _de})}return n})();class gde{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function mde(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class _de{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class qde extends qle{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xI extends qde{static makeCurrent(){!function Gle(n){VU??=n}(new xI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wde(){return up=up||document.querySelector("base"),up?up.getAttribute("href"):null}();return null==t?null:function Kde(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){up=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Nue(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let up=null,Yde=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const CI=new X("");let pz=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)($(CI),$(Ae))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class gz{constructor(e){this._doc=e}}const EI="ng-app-id";let mz=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oz(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${EI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(EI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(EI,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)($(ft),$(S_),$(dC,8),$(so))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const II={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},TI=/%COMP%/g,ehe=new X("",{providedIn:"root",factory:()=>!0});function bz(n,e){return e.map(t=>t.replace(TI,n))}let MI=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=oz(a),this.defaultRenderer=new DI(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Mo.ShadowDom&&(i={...i,encapsulation:Mo.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof vz?r.applyToHost(t):r instanceof AI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Mo.Emulated:o=new vz(c,l,i,this.appId,u,s,a,d);break;case Mo.ShadowDom:return new rhe(c,l,t,i,s,a,this.nonce,d);default:o=new AI(c,l,i,u,s,a,d)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)($(pz),$(mz),$(S_),$(ehe),$(ft),$(so),$(Ae),$(dC))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class DI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(II[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(yz(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(yz(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new j(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=II[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=II[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Oa.DashCase|Oa.Important)?e.style.setProperty(t,i,r&Oa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Oa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Ba().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function yz(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class rhe extends DI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=bz(r.id,r.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AI extends DI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?bz(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vz extends AI{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function the(n){return"_ngcontent-%COMP%".replace(TI,n)}(l),this.hostAttr=function nhe(n){return"_nghost-%COMP%".replace(TI,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let ohe=(()=>{class n extends gz{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)($(ft))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const wz=["alt","control","meta","shift"],she={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ahe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let che=(()=>{class n extends gz{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ba().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),wz.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=she[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),wz.forEach(s=>{s!==r&&(0,ahe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)($(ft))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const Cz=[{provide:so,useValue:rz},{provide:dL,useValue:function lhe(){xI.makeCurrent()},multi:!0},{provide:ft,useFactory:function dhe(){return function xJ(n){lC=n}(document),document},deps:[]}],hhe=hU(ple,"browser",Cz),fhe=new X(""),Ez=[{provide:Qb,useClass:class Qde{addToWindow(e){Ot.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new j(5103,!1);return o},Ot.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ot.getAllAngularRootElements=()=>e.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(i=>{const r=Ot.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ba().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:tU,useClass:$1,deps:[Ae,G1,Qb]},{provide:$1,useClass:$1,deps:[Ae,G1,Qb]}],Iz=[{provide:LC,useValue:"root"},{provide:Po,useFactory:function uhe(){return new Po},deps:[]},{provide:CI,useClass:ohe,multi:!0,deps:[ft,Ae,so]},{provide:CI,useClass:che,multi:!0,deps:[ft]},MI,mz,pz,{provide:VE,useExisting:MI},{provide:class bde{},useClass:Yde,deps:[]},[]];let Tz=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:S_,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)($(fhe,12))};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({providers:[...Iz,...Ez],imports:[za,gle]})}return n})(),phe=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)($(ft))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PI(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function ja(n){return this instanceof ja?(this.v=n,this):new ja(n)}function Pz(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function NI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const FI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Rz(n){return wt(n?.then)}function Nz(n){return wt(n[Nx])}function Fz(n){return Symbol.asyncIterator&&wt(n?.[Symbol.asyncIterator])}function Lz(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vz=function Bhe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bz(n){return wt(n?.[Vz])}function Uz(n){return function Oz(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(b,C){o.push([h,f,b,C])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof ja?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(i[h](f))}catch(b){d(o[0][3],b)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield ja(t.read());if(r)return yield ja(void 0);yield yield ja(i)}}finally{t.releaseLock()}})}function zz(n){return wt(n?.getReader)}function Vi(n){if(n instanceof Qt)return n;if(null!=n){if(Nz(n))return function Uhe(n){return new Qt(e=>{const t=n[Nx]();if(wt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(FI(n))return function zhe(n){return new Qt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Rz(n))return function jhe(n){return new Qt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fF)})}(n);if(Fz(n))return jz(n);if(Bz(n))return function Hhe(n){return new Qt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(zz(n))return function $he(n){return jz(Uz(n))}(n)}throw Lz(n)}function jz(n){return new Qt(e=>{(function Ghe(n,e){var t,i,r,o;return function Sz(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Pz(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ys(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function yy(n,e=0){return Tn((t,i)=>{t.subscribe(mn(i,r=>Ys(i,n,()=>i.next(r),e),()=>Ys(i,n,()=>i.complete(),e),r=>Ys(i,n,()=>i.error(r),e)))})}function vy(n,e=0){return Tn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Hz(n,e){if(!n)throw new Error("Iterable cannot be null");return new Qt(t=>{Ys(t,e,()=>{const i=n[Symbol.asyncIterator]();Ys(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function pi(n,e){return e?function Xhe(n,e){if(null!=n){if(Nz(n))return function qhe(n,e){return Vi(n).pipe(vy(e),yy(e))}(n,e);if(FI(n))return function Khe(n,e){return new Qt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Rz(n))return function Whe(n,e){return Vi(n).pipe(vy(e),yy(e))}(n,e);if(Fz(n))return Hz(n,e);if(Bz(n))return function Qhe(n,e){return new Qt(t=>{let i;return Ys(t,e,()=>{i=n[Vz](),Ys(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>wt(i?.return)&&i.return()})}(n,e);if(zz(n))return function Yhe(n,e){return Hz(Uz(n),e)}(n,e)}throw Lz(n)}(n,e):Vi(n)}const{isArray:Zhe}=Array,{getPrototypeOf:Jhe,prototype:efe,keys:tfe}=Object;function $z(n){if(1===n.length){const e=n[0];if(Zhe(e))return{args:e,keys:null};if(function nfe(n){return n&&"object"==typeof n&&Jhe(n)===efe}(e)){const t=tfe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function Gz(n){return n&&wt(n.schedule)}function LI(n){return n[n.length-1]}function qz(n){return wt(LI(n))?n.pop():void 0}function hp(n){return Gz(LI(n))?n.pop():void 0}const{isArray:rfe}=Array;function VI(n){return Ve(e=>function ofe(n,e){return rfe(e)?n(...e):n(e)}(n,e))}function Wz(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Qz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ro),E(ln))};static#t=this.\u0275dir=be({type:n})}return n})(),ol=(()=>{class n extends Qz{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,features:[xt]})}return n})();const ds=new X(""),afe={provide:ds,useExisting:Zt(()=>Bi),multi:!0},lfe=new X("");let Bi=(()=>{class n extends Qz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cfe(){const n=Ba()?Ba().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ro),E(ln),E(lfe,8))};static#t=this.\u0275dir=be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&J("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[vn([afe]),xt]})}return n})();function Ha(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ir=new X(""),$a=new X("");function wy(n){return null}function sj(n){return null!=n}function aj(n){return ip(n)?pi(n):n}function cj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lj(n,e){return e.map(t=>t(n))}function uj(n){return n.map(e=>function dfe(n){return!n.validate}(e)?e:t=>e.validate(t))}function BI(n){return null!=n?function dj(n){if(!n)return null;const e=n.filter(sj);return 0==e.length?null:function(t){return cj(lj(t,e))}}(uj(n)):null}function hj(n){if(!n)return null;const e=n.filter(sj);return 0==e.length?null:function(t){return function Kz(...n){const e=qz(n),{args:t,keys:i}=$z(n),r=new Qt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Vi(t[u]).subscribe(mn(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?Wz(i,a):a),o.complete())}))}});return e?r.pipe(VI(e)):r}(lj(t,e).map(aj)).pipe(Ve(cj))}}function UI(n){return null!=n?hj(uj(n)):null}function fj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zI(n){return n?Array.isArray(n)?n:[n]:[]}function xy(n,e){return Array.isArray(n)?n.includes(e):n===e}function mj(n,e){const t=zI(e);return zI(n).forEach(r=>{xy(t,r)||t.push(r)}),t}function _j(n,e){return zI(e).filter(t=>!xy(n,t))}class bj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vr extends bj{get formDirective(){return null}get path(){return null}}class Ga extends bj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wr=(()=>{class n extends yj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ga,2))};static#t=this.\u0275dir=be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&uo("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[xt]})}return n})(),Rn=(()=>{class n extends yj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(vr,10))};static#t=this.\u0275dir=be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&uo("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[xt]})}return n})();const fp="VALID",Ey="INVALID",gd="PENDING",pp="DISABLED";function $I(n){return(Iy(n)?n.validators:n)||null}function GI(n,e){return(Iy(e)?e.asyncValidators:n)||null}function Iy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Cj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fp}get invalid(){return this.status===Ey}get pending(){return this.status==gd}get disabled(){return this.status===pp}get enabled(){return this.status!==pp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_j(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_j(e,this._rawAsyncValidators))}hasValidator(e){return xy(this._rawValidators,e)}hasAsyncValidator(e){return xy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fp||this.status===gd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pp:fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gd,this._hasOwnPendingAsyncValidator=!0;const t=aj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?pp:this.errors?Ey:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gd)?gd:this._anyControlsHaveStatus(Ey)?Ey:fp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Iy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gfe(n){return Array.isArray(n)?BI(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mfe(n){return Array.isArray(n)?UI(n):n||null}(this._rawAsyncValidators)}}class qI extends Cj{constructor(e,t,i){super($I(t),GI(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function xj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new j(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function wj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new j(1e3,"");if(!i[t])throw new j(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const md=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Ty}),Ty="always";function gp(n,e,t=Ty){WI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function yfe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ej(n,e)})}(n,e),function wfe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function vfe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ej(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bfe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ay(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function WI(n,e){const t=function pj(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(fj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function gj(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(fj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ay(e._rawValidators,r),Ay(e._rawAsyncValidators,r)}function Ej(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Tfe={provide:vr,useExisting:Zt(()=>wn)},mp=(()=>Promise.resolve())();let wn=(()=>{class n extends vr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qe,this.form=new qI({},BI(t),UI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),gp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){mp.then(()=>{const i=this._findContainer(t.path),r=new qI({});(function Ij(n,e){WI(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){mp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Tj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(E(ir,10),E($a,10),E(md,8))};static#t=this.\u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&J("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[ut.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vn([Tfe]),xt]})}return n})();function Mj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Dj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Aj=class extends Cj{constructor(e=null,t,i){super($I(t),GI(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Dj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Mj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Mj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Dj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Afe={provide:Ga,useExisting:Zt(()=>rr)},Oj=(()=>Promise.resolve())();let rr=(()=>{class n extends Ga{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Aj,this._registered=!1,this.name="",this.update=new Qe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function YI(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Bi?t=o:function Efe(n){return Object.getPrototypeOf(n.constructor)===ol}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function QI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Oj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&us(i);Oj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function My(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(E(vr,9),E(ir,10),E($a,10),E(ds,10),E(Gu,8),E(md,8))};static#t=this.\u0275dir=be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ut.None,"disabled","isDisabled"],model:[ut.None,"ngModel","model"],options:[ut.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vn([Afe]),xt,ao]})}return n})(),Nn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Sfe={provide:ds,useExisting:Zt(()=>XI),multi:!0};let XI=(()=>{class n extends ol{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&J("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[vn([Sfe]),xt]})}return n})();const Bfe={provide:ds,useExisting:Zt(()=>tT),multi:!0};function Bj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let tT=(()=>{class n extends ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=Bj(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Ufe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&J("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([Bfe]),xt]})}return n})(),_p=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Bj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(E(ln),E(Ro),E(tT,9))};static#t=this.\u0275dir=be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const zfe={provide:ds,useExisting:Zt(()=>nT),multi:!0};function Uj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let nT=(()=>{class n extends ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);r.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function jfe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&J("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([zfe]),xt]})}return n})(),bp=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Uj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Uj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(E(ln),E(Ro),E(nT,9))};static#t=this.\u0275dir=be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();function jj(n){return"number"==typeof n?n:parseFloat(n)}let sl=(()=>{class n{constructor(){this._validator=wy}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):wy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=be({type:n,features:[ao]})}return n})();const Hfe={provide:ir,useExisting:Zt(()=>iT),multi:!0};let iT=(()=>{class n extends sl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>jj(t),this.createValidator=t=>function Jz(n){return e=>{if(Ha(e.value)||Ha(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Or("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[vn([Hfe]),xt]})}return n})();const $fe={provide:ir,useExisting:Zt(()=>rT),multi:!0};let rT=(()=>{class n extends sl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>jj(t),this.createValidator=t=>function Zz(n){return e=>{if(Ha(e.value)||Ha(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Or("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[vn([$fe]),xt]})}return n})(),Xfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({})}return n})(),yp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:md,useValue:t.callSetDisabledState??Ty}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[Xfe]})}return n})();function Ce(...n){return pi(n,hp(n))}function ky(...n){const e=hp(n),t=qz(n),{args:i,keys:r}=$z(n);if(0===i.length)return pi([],e);const o=new Qt(function epe(n,e,t=Ea){return i=>{Kj(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)Kj(e,()=>{const l=pi(n[c],e);let u=!1;l.subscribe(mn(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>Wz(r,s):Ea));return t?o.pipe(VI(t)):o}function Kj(n,e,t){n?Ys(t,n,e):e()}const Oy=Ax(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function wi(n,e,t=1/0){return wt(e)?wi((i,r)=>Ve((o,s)=>e(i,o,r,s))(Vi(n(i,r))),t):("number"==typeof e&&(t=e),Tn((i,r)=>function tpe(n,e,t,i,r,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=C=>l<i?b(C):c.push(C),b=C=>{o&&e.next(C),l++;let I=!1;Vi(t(C,u++)).subscribe(mn(e,O=>{r?.(O),o?f(O):e.next(O)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<i;){const O=c.shift();s?Ys(e,s,()=>b(O)):b(O)}h()}catch(O){e.error(O)}}))};return n.subscribe(mn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function _d(n=1/0){return wi(Ea,n)}function bd(...n){return function npe(){return _d(1)}()(pi(n,hp(n)))}function vp(n){return new Qt(e=>{Vi(n()).subscribe(e)})}function yd(n,e){const t=wt(n)?n:()=>n,i=r=>r.error(t());return new Qt(e?r=>e.schedule(i,0,r):i)}const hs=new Qt(n=>n.complete());function sT(){return Tn((n,e)=>{let t=null;n._refCount++;const i=mn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class aT extends Qt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_F(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bi;const t=this.getSubject();e.add(this.source.subscribe(mn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bi.EMPTY)}return e}refCount(){return sT()(this)}}function Nr(n,e){return Tn((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(mn(i,c=>{r?.unsubscribe();let l=0;const u=o++;Vi(n(c,u)).subscribe(r=mn(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function qn(n){return n<=0?()=>hs:Tn((e,t)=>{let i=0;e.subscribe(mn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function cT(...n){const e=hp(n);return Tn((t,i)=>{(e?bd(n,t,e):bd(n,t)).subscribe(i)})}function Wn(n,e){return Tn((t,i)=>{let r=0;t.subscribe(mn(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Py(n){return Tn((e,t)=>{let i=!1;e.subscribe(mn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Qj(n=rpe){return Tn((e,t)=>{let i=!1;e.subscribe(mn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function rpe(){return new Oy}function al(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Wn((r,o)=>n(r,o,i)):Ea,qn(1),t?Py(e):Qj(()=>new Oy))}function vd(n,e){return wt(e)?wi(n,e,1):wi(n,1)}function Kn(n,e,t){const i=wt(n)||e||t?{next:n,error:e,complete:t}:n;return i?Tn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(mn(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Ea}function cl(n){return Tn((e,t)=>{let o,i=null,r=!1;i=e.subscribe(mn(t,void 0,void 0,s=>{o=Vi(n(s,cl(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function lT(n){return n<=0?()=>hs:Tn((e,t)=>{let i=[];e.subscribe(mn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Yj(n){return Ve(()=>n)}function Ry(n){return Tn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ny(n){return Tn((e,t)=>{Vi(n).subscribe(mn(t,()=>t.complete(),Yh)),!t.closed&&e.subscribe(t)})}const Ze="primary",wp=Symbol("RouteTitle");class cpe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wd(n){return new cpe(n)}function lpe(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fs(n,e){const t=n?uT(n):void 0,i=e?uT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Xj(n[r],e[r]))return!1;return!0}function uT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Xj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Zj(n){return n.length>0?n[n.length-1]:null}function qa(n){return function Jfe(n){return!!n&&(n instanceof Qt||wt(n.lift)&&wt(n.subscribe))}(n)?n:ip(n)?pi(Promise.resolve(n)):Ce(n)}const dpe={exact:function t9(n,e,t){if(!ll(n.segments,e.segments)||!Fy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!t9(n.children[i],e.children[i],t))return!1;return!0},subset:n9},Jj={exact:function hpe(n,e){return fs(n,e)},subset:function fpe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xj(n[t],e[t]))},ignored:()=>!0};function e9(n,e,t){return dpe[t.paths](n.root,e.root,t.matrixParams)&&Jj[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function n9(n,e,t){return i9(n,e,e.segments,t)}function i9(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ll(r,t)||e.hasChildren()||!Fy(r,t,i))}if(n.segments.length===t.length){if(!ll(n.segments,t)||!Fy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!n9(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ll(n.segments,r)&&Fy(n.segments,r,i)&&n.children[Ze])&&i9(n.children[Ze],e,o,i)}}function Fy(n,e,t){return e.every((i,r)=>Jj[t](n[r].parameters,i.parameters))}class xd{constructor(e=new jt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=wd(this.queryParams),this._queryParamMap}toString(){return mpe.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ly(this)}}class xp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=wd(this.parameters),this._parameterMap}toString(){return s9(this)}}function ll(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Cd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>new dT,providedIn:"root"})}return n})();class dT{parse(e){const t=new Mpe(e);return new xd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Cp(e.root,!0)}`,i=function ype(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Vy(t)}=${Vy(r)}`).join("&"):`${Vy(t)}=${Vy(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function _pe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mpe=new dT;function Ly(n){return n.segments.map(e=>s9(e)).join("/")}function Cp(n,e){if(!n.hasChildren())return Ly(n);if(e){const t=n.children[Ze]?Cp(n.children[Ze],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ze&&i.push(`${r}:${Cp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function gpe(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ze&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ze&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Ze?[Cp(n.children[Ze],!1)]:[`${r}:${Cp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ze]?`${Ly(n)}/${t[0]}`:`${Ly(n)}/(${t.join("//")})`}}function r9(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vy(n){return r9(n).replace(/%3B/gi,";")}function hT(n){return r9(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function By(n){return decodeURIComponent(n)}function o9(n){return By(n.replace(/\+/g,"%20"))}function s9(n){return`${hT(n.path)}${function bpe(n){return Object.entries(n).map(([e,t])=>`;${hT(e)}=${hT(t)}`).join("")}(n.parameters)}`}const vpe=/^[^\/()?;#]+/;function fT(n){const e=n.match(vpe);return e?e[0]:""}const wpe=/^[^\/()?;=#]+/,Cpe=/^[^=?&#]+/,Ipe=/^[^&#]+/;class Mpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ze]=new jt(e,t)),i}parseSegment(){const e=fT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new xp(By(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function xpe(n){const e=n.match(wpe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=fT(this.remaining);r&&(i=r,this.capture(i))}e[By(t)]=By(i)}parseQueryParam(e){const t=function Epe(n){const e=n.match(Cpe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Tpe(n){const e=n.match(Ipe);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=o9(t),o=o9(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=fT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new j(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ze);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Ze]:new jt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}}function a9(n){return n.segments.length>0?new jt([],{[Ze]:n}):n}function c9(n){const e={};for(const[i,r]of Object.entries(n.children)){const o=c9(r);if(i===Ze&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Dpe(n){if(1===n.numberOfChildren&&n.children[Ze]){const e=n.children[Ze];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function Ed(n){return n instanceof xd}function l9(n){let e;const r=a9(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new jt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function u9(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return pT(r,r,r,t,i);const o=function Spe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new h9(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new h9(t,e,i)}(e);if(o.toRoot())return pT(r,r,new jt([],{}),t,i);const s=function kpe(n,e,t){if(n.isAbsolute)return new zy(e,!0,0);if(!t)return new zy(e,!1,NaN);if(null===t.parent)return new zy(t,!0,0);const i=Uy(n.commands[0])?0:1;return function Ope(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new j(4005,!1);r=i.segments.length}return new zy(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Ip(s.segmentGroup,s.index,o.commands):f9(s.segmentGroup,s.index,o.commands);return pT(r,s.segmentGroup,a,t,i)}function Uy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ep(n){return"object"==typeof n&&null!=n&&n.outlets}function pT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:d9(n,e,t);const a=a9(c9(s));return new xd(a,o,r)}function d9(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:d9(o,e,t)}),new jt(n.segments,i)}class h9{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Uy(i[0]))throw new j(4003,!1);const r=i.find(Ep);if(r&&r!==Zj(i))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function f9(n,e,t){if(n??=new jt([],{}),0===n.segments.length&&n.hasChildren())return Ip(n,e,t);const i=function Rpe(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Ep(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!g9(c,l,s))return o;i+=2}else{if(!g9(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new jt(n.segments.slice(0,i.pathIndex),{});return o.children[Ze]=new jt(n.segments.slice(i.pathIndex),n.children),Ip(o,0,r)}return i.match&&0===r.length?new jt(n.segments,{}):i.match&&!n.hasChildren()?gT(n,e,t):i.match?Ip(n,0,r):gT(n,e,t)}function Ip(n,e,t){if(0===t.length)return new jt(n.segments,{});{const i=function Ppe(n){return Ep(n[0])?n[0].outlets:{[Ze]:n}}(t),r={};if(Object.keys(i).some(o=>o!==Ze)&&n.children[Ze]&&1===n.numberOfChildren&&0===n.children[Ze].segments.length){const o=Ip(n.children[Ze],e,t);return new jt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=f9(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new jt(n.segments,r)}}function gT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Ep(o)){const c=Npe(o.outlets);return new jt(i,c)}if(0===r&&Uy(t[0])){i.push(new xp(n.segments[e].path,p9(t[0]))),r++;continue}const s=Ep(o)?o.outlets[Ze]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Uy(a)?(i.push(new xp(s,p9(a))),r+=2):(i.push(new xp(s,{})),r++)}return new jt(i,{})}function Npe(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=gT(new jt([],{}),0,i))}),e}function p9(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function g9(n,e,t){return n==t.path&&fs(e,t.parameters)}const Tp="imperative";var _t=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(_t||{});class ps{constructor(e,t){this.id=e,this.url=t}}class jy extends ps{constructor(e,t,i="imperative",r=null){super(e,t),this.type=_t.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xs extends ps{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=_t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var mo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(mo||{}),Hy=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Hy||{});class Id extends ps{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=_t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Td extends ps{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=_t.NavigationSkipped}}class $y extends ps{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=_t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class m9 extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fpe extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lpe extends ps{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=_t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vpe extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bpe extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Upe{constructor(e){this.route=e,this.type=_t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zpe{constructor(e){this.route=e,this.type=_t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jpe{constructor(e){this.snapshot=e,this.type=_t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hpe{constructor(e){this.snapshot=e,this.type=_t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $pe{constructor(e){this.snapshot=e,this.type=_t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gpe{constructor(e){this.snapshot=e,this.type=_t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _9{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=_t.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mT{}class _T{constructor(e){this.url=e}}class qpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mp,this.attachRef=null}}let Mp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new qpe,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class b9{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=bT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return yT(e,this._root).map(t=>t.value)}}function bT(n,e){if(n===e.value)return e;for(const t of e.children){const i=bT(n,t);if(i)return i}return null}function yT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=yT(n,t);if(i.length)return i.unshift(e),i}return[]}class Bo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Md(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class y9 extends b9{constructor(e,t){super(e),this.snapshot=t,xT(this,e)}toString(){return this.snapshot.toString()}}function v9(n){const e=function Wpe(n){const o=new wT([],{},{},"",{},Ze,n,null,{});return new w9("",new Bo(o,[]))}(n),t=new pr([new xp("",{})]),i=new pr({}),r=new pr({}),o=new pr({}),s=new pr(""),a=new at(t,i,o,s,r,Ze,n,e.root);return a.snapshot=e.root,new y9(new Bo(a,[]),e)}class at{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ve(l=>l[wp]))??Ce(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ve(e=>wd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ve(e=>wd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vT(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&C9(r)&&(i.resolve[wp]=r.title),i}class wT{get title(){return this.data?.[wp]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w9 extends b9{constructor(e,t){super(t),this.url=e,xT(this,t)}toString(){return x9(this._root)}}function xT(n,e){e.value._routerState=n,e.children.forEach(t=>xT(n,t))}function x9(n){const e=n.children.length>0?` { ${n.children.map(x9).join(", ")} } `:"";return`${n.value}${e}`}function CT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fs(e.params,t.params)||n.paramsSubject.next(t.params),function upe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),fs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ET(n,e){const t=fs(n.params,e.params)&&function ppe(n,e){return ll(n,e)&&n.every((t,i)=>fs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ET(n.parent,e.parent))}function C9(n){return"string"==typeof n.title||null===n.title}let ul=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ze,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=te(Mp),this.location=te(co),this.changeDetector=te(Gu),this.environmentInjector=te(qr),this.inputBinder=te(Gy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Kpe(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=be({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ao]})}return n})();class Kpe{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===at?this.route:e===Mp?this.childContexts:this.parent.get(e,t)}}const Gy=new X("");let E9=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=ky([i.queryParams,i.params,i.data]).pipe(Nr(([o,s,a],c)=>(a={...o,...s,...a},0===c?Ce(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function $le(n){const e=nt(n);if(!e)return null;const t=new Uf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function Dp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Ype(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Dp(n,i,r);return Dp(n,i)})}(n,e,t);return new Bo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Dp(n,a)),s}}const i=function Xpe(n){return new at(new pr(n.url),new pr(n.params),new pr(n.queryParams),new pr(n.fragment),new pr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Dp(n,o));return new Bo(i,r)}}const I9="ngNavigationCancelingError";function T9(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ed(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=M9(!1,mo.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function M9(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[I9]=!0,t.cancellationCode=e,t}function D9(n){return!!n&&n[I9]}let A9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Te({type:n,selectors:[["ng-component"]],standalone:!0,features:[ho],decls:1,vars:0,template:function(i,r){1&i&&Q(0,"router-outlet")},dependencies:[ul],encapsulation:2})}return n})();function IT(n){const e=n.children&&n.children.map(IT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ze&&(t.component=A9),t}function gs(n){return n.outlet||Ze}function Ap(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oge{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),CT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Md(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Md(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Md(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Md(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Gpe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Hpe(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(CT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),CT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Ap(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class S9{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qy{constructor(e,t){this.component=e,this.route=t}}function sge(n,e,t){const i=n._root;return Sp(i,e?e._root:null,t,[i.value])}function Dd(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function CJ(n){return null!==M_(n)}(n)?e.get(n):n:i}function Sp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Md(e);return n.children.forEach(s=>{(function cge(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function lge(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ll(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ll(n.url,e.url)||!fs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ET(n,e)||!fs(n.queryParams,e.queryParams);default:return!ET(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new S9(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Sp(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new qy(a.outlet.component,s))}else s&&kp(e,a,r),r.canActivateChecks.push(new S9(i)),Sp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>kp(a,t.getContext(s),r)),r}function kp(n,e,t){const i=Md(n),r=n.value;Object.entries(i).forEach(([o,s])=>{kp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new qy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Op(n){return"function"==typeof n}function k9(n){return n instanceof Oy||"EmptyError"===n?.name}const Wy=Symbol("INITIAL_VALUE");function Ad(){return Nr(n=>ky(n.map(e=>e.pipe(qn(1),cT(Wy)))).pipe(Ve(e=>{for(const t of e)if(!0!==t){if(t===Wy)return Wy;if(!1===t||t instanceof xd)return t}return!0}),Wn(e=>e!==Wy),qn(1)))}function O9(n){return function CZ(...n){return pF(n)}(Kn(e=>{if(Ed(e))throw T9(0,e)}),Ve(e=>!0===e))}class TT{constructor(e){this.segmentGroup=e||null}}class MT extends Error{constructor(e){super(),this.urlTree=e}}function Sd(n){return yd(new TT(n))}class Dge{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ce(i);if(r.numberOfChildren>1||!r.children[Ze])return yd(new j(4e3,!1));r=r.children[Ze]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new MT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new xd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new jt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const DT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Age(n,e,t,i,r){const o=AT(n,e,t);return o.matched?(i=function Jpe(n,e){return n.providers&&!n._injector&&(n._injector=kb(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Ige(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ce(r.map(s=>{const a=Dd(s,n);return qa(function gge(n){return n&&Op(n.canMatch)}(a)?a.canMatch(e,t):Wc(n,()=>a(e,t)))})).pipe(Ad(),O9()):Ce(!0)}(i,e,t).pipe(Ve(s=>!0===s?o:{...DT}))):Ce(o)}function AT(n,e,t){if("**"===e.path)return function Sge(n){return{matched:!0,parameters:n.length>0?Zj(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...DT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||lpe)(t,n,e);if(!r)return{...DT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function P9(n,e,t,i){return t.length>0&&function Pge(n,e,t){return t.some(i=>Ky(n,e,i)&&gs(i)!==Ze)}(n,t,i)?{segmentGroup:new jt(e,Oge(i,new jt(t,n.children))),slicedSegments:[]}:0===t.length&&function Rge(n,e,t){return t.some(i=>Ky(n,e,i))}(n,t,i)?{segmentGroup:new jt(n.segments,kge(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new jt(n.segments,n.children),slicedSegments:t}}function kge(n,e,t,i){const r={};for(const o of t)if(Ky(n,e,o)&&!i[gs(o)]){const s=new jt([],{});r[gs(o)]=s}return{...i,...r}}function Oge(n,e){const t={};t[Ze]=e;for(const i of n)if(""===i.path&&gs(i)!==Ze){const r=new jt([],{});t[gs(i)]=r}return t}function Ky(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Lge{}class Uge{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Dge(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){const e=P9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ve(t=>{const i=new wT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ze,this.rootComponentType,null,{}),r=new Bo(i,t),o=new w9("",r),s=function Ape(n,e,t=null,i=null){return u9(l9(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ze).pipe(cl(i=>{if(i instanceof MT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof TT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=vT(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(Ve(o=>o instanceof Bo?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return pi(r).pipe(vd(o=>{const s=i.children[o],a=function ige(n,e){const t=n.filter(i=>gs(i)===e);return t.push(...n.filter(i=>gs(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function spe(n,e){return Tn(function ope(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(mn(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Py(null),function ape(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Wn((r,o)=>n(r,o,i)):Ea,lT(1),t?Py(e):Qj(()=>new Oy))}(),wi(o=>{if(null===o)return Sd(i);const s=R9(o);return function zge(n){n.sort((e,t)=>e.value.outlet===Ze?-1:t.value.outlet===Ze?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Ce(s)}))}processSegment(e,t,i,r,o,s){return pi(t).pipe(vd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(cl(c=>{if(c instanceof TT)return Ce(null);throw c}))),al(a=>!!a),cl(a=>{if(k9(a))return function Fge(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?Ce(new Lge):Sd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function Nge(n,e,t,i){return!!(gs(n)===i||i!==Ze&&Ky(e,t,n))&&AT(e,n,t).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Sd(r):Sd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=AT(t,r,o);if(!a)return Sd(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(wi(h=>this.processSegment(e,i,t,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){const s=Age(t,i,r,e);return"**"===i.path&&(t.children={}),s.pipe(Nr(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Nr(({routes:c})=>{const l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new wT(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Hge(n){return n.data||{}}(i),gs(i),i.component??i._loadedComponent??null,i,function $ge(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:C}=P9(t,u,d,c);if(0===C.length&&b.hasChildren())return this.processChildren(l,c,b).pipe(Ve(O=>null===O?null:new Bo(f,O)));if(0===c.length&&0===C.length)return Ce(new Bo(f,[]));const I=gs(i)===o;return this.processSegment(l,c,b,C,I?Ze:o,!0).pipe(Ve(O=>new Bo(f,O instanceof Bo?[O]:[])))})):Sd(t)))}getChildConfig(e,t,i){return t.children?Ce({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ce({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ege(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ce(!0):Ce(r.map(s=>{const a=Dd(s,n);return qa(function dge(n){return n&&Op(n.canLoad)}(a)?a.canLoad(e,t):Wc(n,()=>a(e,t)))})).pipe(Ad(),O9())}(e,t,i).pipe(wi(r=>r?this.configLoader.loadChildren(e,t).pipe(Kn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Mge(n){return yd(M9(!1,mo.GuardRejected))}())):Ce({routes:[],injector:e})}}function jge(n){const e=n.value.routeConfig;return e&&""===e.path}function R9(n){const e=[],t=new Set;for(const i of n){if(!jge(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=R9(i.children);e.push(new Bo(i.value,r))}return e.filter(i=>!t.has(i))}function N9(n){const e=n.children.map(t=>N9(t)).flat();return[n,...e]}function ST(n){return Nr(e=>{const t=n(e);return t?pi(t).pipe(Ve(()=>e)):Ce(e)})}let F9=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ze);return i}getResolvedTitleForRoute(t){return t.data[wp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>te(Yge),providedIn:"root"})}return n})(),Yge=(()=>{class n extends F9{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)($(phe))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kd=new X("",{providedIn:"root",factory:()=>({})}),Od=new X("");let kT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(sU)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ce(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=qa(t.loadComponent()).pipe(Ve(L9),Kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ry(()=>{this.componentLoaders.delete(t)})),r=new aT(i,()=>new Dt).pipe(sT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ce({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Xge(n,e,t,i){return qa(n.loadChildren()).pipe(Ve(L9),wi(r=>r instanceof _V||Array.isArray(r)?Ce(r):pi(e.compileModuleAsync(r))),Ve(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Od,[],{optional:!0,self:!0}).flat()),{routes:s.map(IT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Ry(()=>{this.childrenLoaders.delete(i)})),s=new aT(o,()=>new Dt).pipe(sT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L9(n){return function Zge(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let OT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>te(Jge),providedIn:"root"})}return n})(),Jge=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const V9=new X(""),B9=new X("");function eme(n,e,t){const i=n.get(B9),r=n.get(ft);return n.get(Ae).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),function tme(n){return new Promise(e=>{L4(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&Wc(n,()=>c({transition:a,from:e,to:t})),s})}let Qy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt,this.transitionAbortSubject=new Dt,this.configLoader=te(kT),this.environmentInjector=te(qr),this.urlSerializer=te(Cd),this.rootContexts=te(Mp),this.location=te(vi),this.inputBindingEnabled=null!==te(Gy,{optional:!0}),this.titleStrategy=te(F9),this.options=te(kd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(OT),this.createViewTransition=te(V9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new zpe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Upe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new pr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wn(o=>0!==o.id),Ve(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Nr(o=>{this.currentTransition=o;let s=!1,a=!1;return Ce(o).pipe(Kn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nr(c=>{const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Td(c.id,this.urlSerializer.serialize(c.rawUrl),d,Hy.IgnoredSameUrlNavigation)),c.resolve(null),hs}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ce(c).pipe(Nr(d=>{const h=this.transitions?.getValue();return this.events.next(new jy(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?hs:Promise.resolve(d)}),function Gge(n,e,t,i,r,o){return wi(s=>function Vge(n,e,t,i,r,o,s="emptyOnly"){return new Uge(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Ve(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Kn(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new m9(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:b,extras:C}=c,I=new jy(d,this.urlSerializer.serialize(h),f,b);this.events.next(I);const O=v9(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:O,urlAfterRedirects:h,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,Ce(o)}{const d="";return this.events.next(new Td(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Hy.IgnoredByUrlHandlingStrategy)),c.resolve(null),hs}}),Kn(c=>{const l=new Fpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ve(c=>(this.currentTransition=o={...c,guards:sge(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function mge(n,e){return wi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Ce({...t,guardsResult:!0}):function _ge(n,e,t,i){return pi(n).pipe(wi(r=>function Cge(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ce(o.map(a=>{const c=Ap(e)??r,l=Dd(a,c);return qa(function pge(n){return n&&Op(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):Wc(c,()=>l(n,e,t,i))).pipe(al())})).pipe(Ad()):Ce(!0)}(r.component,r.route,t,e,i)),al(r=>!0!==r,!0))}(s,i,r,n).pipe(wi(a=>a&&function uge(n){return"boolean"==typeof n}(a)?function bge(n,e,t,i){return pi(e).pipe(vd(r=>bd(function vge(n,e){return null!==n&&e&&e(new jpe(n)),Ce(!0)}(r.route.parent,i),function yge(n,e){return null!==n&&e&&e(new $pe(n)),Ce(!0)}(r.route,i),function xge(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function age(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>vp(()=>Ce(s.guards.map(c=>{const l=Ap(s.node)??t,u=Dd(c,l);return qa(function fge(n){return n&&Op(n.canActivateChild)}(u)?u.canActivateChild(i,n):Wc(l,()=>u(i,n))).pipe(al())})).pipe(Ad())));return Ce(o).pipe(Ad())}(n,r.path,t),function wge(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ce(!0);const r=i.map(o=>vp(()=>{const s=Ap(e)??t,a=Dd(o,s);return qa(function hge(n){return n&&Op(n.canActivate)}(a)?a.canActivate(e,n):Wc(s,()=>a(e,n))).pipe(al())}));return Ce(r).pipe(Ad())}(n,r.route,t))),al(r=>!0!==r,!0))}(i,o,n,e):Ce(a)),Ve(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Kn(c=>{if(o.guardsResult=c.guardsResult,Ed(c.guardsResult))throw T9(0,c.guardsResult);const l=new Lpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Wn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",mo.GuardRejected),!1)),ST(c=>{if(c.guards.canActivateChecks.length)return Ce(c).pipe(Kn(l=>{const u=new Vpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Nr(l=>{let u=!1;return Ce(l).pipe(function qge(n,e){return wi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ce(t);const o=new Set(r.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of N9(c))s.add(l);let a=0;return pi(s).pipe(vd(c=>o.has(c)?function Wge(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!C9(r)&&(o[wp]=r.title),function Kge(n,e,t,i){const r=uT(n);if(0===r.length)return Ce({});const o={};return pi(r).pipe(wi(s=>function Qge(n,e,t,i){const r=Ap(e)??i,o=Dd(n,r);return qa(o.resolve?o.resolve(e,t):Wc(r,()=>o(e,t)))}(n[s],e,t,i).pipe(al(),Kn(a=>{o[s]=a}))),lT(1),Yj(o),cl(s=>k9(s)?hs:yd(s)))}(o,n,e,i).pipe(Ve(s=>(n._resolvedData=s,n.data=vT(n,n.parent,t).resolve,null)))}(c,i,n,e):(c.data=vT(c,c.parent,n).resolve,Ce(void 0))),Kn(()=>a++),lT(1),wi(c=>a===s.size?Ce(t):hs))})}(this.paramsInheritanceStrategy,this.environmentInjector),Kn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",mo.NoDataFromResolver)}}))}),Kn(l=>{const u=new Bpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),ST(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Kn(h=>{u.component=h}),Ve(()=>{})));for(const h of u.children)d.push(...l(h));return d};return ky(l(c.targetSnapshot.root)).pipe(Py(null),qn(1))}),ST(()=>this.afterPreactivation()),Nr(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?pi(u).pipe(Ve(()=>o)):Ce(o)}),Ve(c=>{const l=function Qpe(n,e,t){const i=Dp(n,e._root,t?t._root:void 0);return new y9(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),Kn(()=>{this.events.next(new mT)}),((n,e,t,i)=>Ve(r=>(new oge(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),qn(1),Kn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ny(this.transitionAbortSubject.pipe(Kn(c=>{throw c}))),Ry(()=>{s||a||this.cancelNavigationTransition(o,"",mo.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cl(c=>{if(a=!0,D9(c))this.events.next(new Id(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Zpe(n){return D9(n)&&Ed(n.url)}(c)?this.events.next(new _T(c.url)):o.resolve(!1);else{this.events.next(new $y(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return hs}))}))}cancelNavigationTransition(t,i,r){const o=new Id(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nme(n){return n!==Tp}let ime=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>te(ome),providedIn:"root"})}return n})();class rme{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ome=(()=>{class n extends rme{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>te(sme),providedIn:"root"})}return n})(),sme=(()=>{class n extends U9{constructor(){super(...arguments),this.location=te(vi),this.urlSerializer=te(Cd),this.options=te(kd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(OT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=v9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof jy)this.stateMemento=this.createStateMemento();else if(t instanceof Td)this.rawUrlTree=i.initialUrl;else if(t instanceof m9){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof mT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Id&&(t.code===mo.GuardRejected||t.code===mo.NoDataFromResolver)?this.restoreHistory(i):t instanceof $y?this.restoreHistory(i,!0):t instanceof Xs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Pp||{});function z9(n,e){n.events.pipe(Wn(t=>t instanceof Xs||t instanceof Id||t instanceof $y||t instanceof Td),Ve(t=>t instanceof Xs||t instanceof Td?Pp.COMPLETE:t instanceof Id&&(t.code===mo.Redirect||t.code===mo.SupersededByNewNavigation)?Pp.REDIRECTING:Pp.FAILED),Wn(t=>t!==Pp.REDIRECTING),qn(1)).subscribe(()=>{e()})}function ame(n){throw n}const cme={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lme={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ke=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=te(YB),this.stateManager=te(U9),this.options=te(kd,{optional:!0})||{},this.pendingTasks=te(jf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(Qy),this.urlSerializer=te(Cd),this.location=te(vi),this.urlHandlingStrategy=te(OT),this._events=new Dt,this.errorHandler=this.options.errorHandler||ame,this.navigated=!1,this.routeReuseStrategy=te(ime),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(Od,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(Gy,{optional:!0}),this.eventsSubscription=new bi,this.isNgZoneEnabled=te(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Id&&i.code!==mo.Redirect&&i.code!==mo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xs)this.navigated=!0;else if(i instanceof _T){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nme(r.source)};this.scheduleNavigation(s,Tp,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function dme(n){return!(n instanceof mT||n instanceof _T)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(IT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=l9(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return u9(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ed(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Tp,null,i)}navigate(t,i={skipLocationChange:!1}){return function ume(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new j(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...cme}:!1===i?{...lme}:i,Ed(t))return e9(this.currentUrlTree,t,r);const o=this.parseUrl(t);return e9(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return z9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class j9{}let pme=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Wn(t=>t instanceof Xs),vd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=kb(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return pi(r).pipe(_d())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ce(null);const o=r.pipe(wi(s=>null===s?Ce(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?pi([o,this.loader.loadComponent(i)]).pipe(_d()):o})}static#e=this.\u0275fac=function(i){return new(i||n)($(ke),$(sU),$(qr),$(j9),$(kT))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const RT=new X("");let H9=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Td&&t.code===Hy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _9&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _9(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){bE()};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function ms(n,e){return{\u0275kind:n,\u0275providers:e}}function G9(){const n=te($t);return e=>{const t=n.get(cs);if(e!==t.components[0])return;const i=n.get(ke),r=n.get(q9);1===n.get(NT)&&i.initialNavigation(),n.get(W9,null,lt.Optional)?.setUpPreloading(),n.get(RT,null,lt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const q9=new X("",{factory:()=>new Dt}),NT=new X("",{providedIn:"root",factory:()=>1}),W9=new X("");function bme(n){return ms(0,[{provide:W9,useExisting:pme},{provide:j9,useExisting:n}])}function vme(n){return ms(9,[{provide:V9,useValue:eme},{provide:B9,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const K9=new X("ROUTER_FORROOT_GUARD"),wme=[vi,{provide:Cd,useClass:dT},ke,Mp,{provide:at,useFactory:function $9(n){return n.routerState.root},deps:[ke]},kT,[]];let Fr=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[wme,[],{provide:Od,multi:!0,useValue:t},{provide:K9,useFactory:Ime,deps:[[ke,new Jt,new _f]]},{provide:kd,useValue:i||{}},i?.useHash?{provide:Ua,useClass:jU}:{provide:Ua,useClass:zU},{provide:RT,useFactory:()=>{const n=te(pde),e=te(Ae),t=te(kd),i=te(Qy),r=te(Cd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new H9(r,i,n,e,t)}},i?.preloadingStrategy?bme(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Tme(i):[],i?.bindToComponentInputs?ms(8,[E9,{provide:Gy,useExisting:E9}]).\u0275providers:[],i?.enableViewTransitions?vme().\u0275providers:[],[{provide:Q9,useFactory:G9},{provide:K1,multi:!0,useExisting:Q9}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Od,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)($(K9,8))};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({})}return n})();function Ime(n){return"guarded"}function Tme(n){return["disabled"===n.initialNavigation?ms(3,[{provide:rp,multi:!0,useFactory:()=>{const e=te(ke);return()=>{e.setUpLocationChangeListener()}}},{provide:NT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ms(2,[{provide:NT,useValue:0},{provide:rp,multi:!0,deps:[$t],useFactory:e=>{const t=e.get(Wle,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(ke),o=e.get(q9);z9(r,()=>{i(!0)}),e.get(Qy).afterPreactivation=()=>(i(!0),o.closed?Ce(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const Q9=new X(""),ue=function(n,e){if(!n)throw Pd(e)},Pd=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},Y9=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},Yy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Y9(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const l=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==d)throw new Ame;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==d&&i.push(l<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ame extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X9=function(n){const e=Y9(n);return Yy.encodeByteArray(e,!0)},Xy=function(n){return X9(n).replace(/\./g,"")},Zy=function(n){try{return Yy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sme(n){return Z9(void 0,n)}function Z9(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!kme(t)||(n[t]=Z9(n[t],e[t]));return n}function kme(n){return"__proto__"!==n}const Jy=()=>{try{return function Ome(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Zy(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},J9=n=>{var e,t;return null===(t=null===(e=Jy())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},LT=n=>{const e=J9(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},e6=()=>{var n;return null===(n=Jy())||void 0===n?void 0:n.config},t6=n=>{var e;return null===(e=Jy())||void 0===e?void 0:e[`_${n}`]};class Rd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function n6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xy(JSON.stringify({alg:"none",type:"JWT"})),Xy(JSON.stringify(s)),""].join(".")}function Qn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function VT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function BT(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function i6(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wa(){try{return"object"==typeof indexedDB}catch{return!1}}function Rp(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function UT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _o extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_s.prototype.create)}}class _s{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function Ume(n,e){return n.replace(zme,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new _o(r,`${this.serviceName}: ${s} (${r}).`,i)}}const zme=/\{\$([^}]+)}/g;function Np(n){return JSON.parse(n)}function Ui(n){return JSON.stringify(n)}const ev=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=Np(Zy(o[0])||""),t=Np(Zy(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function Js(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Nd(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function zT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function tv(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function nv(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(r6(o)&&r6(s)){if(!nv(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function r6(n){return null!==n&&"object"==typeof n}function Fp(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Lp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Vp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class $me{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let l,u,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+l+c+u+i[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class qme{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function Wme(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=jT),void 0===r.error&&(r.error=jT),void 0===r.complete&&(r.complete=jT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jT(){}const rv=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},Qme=1e3,Yme=2,Xme=144e5,Zme=.5;function HT(n,e=Qme,t=Yme){const i=e*Math.pow(t,n),r=Math.round(Zme*i*(Math.random()-.5)*2);return Math.min(Xme,i+r)}function xn(n){return n&&n._delegate?n._delegate:n}class xi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const dl="[DEFAULT]";class e_e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Rd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function n_e(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=dl){return this.instances.has(e)}getOptions(e=dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===dl?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=dl){return this.component?this.component.multipleInstances?e:dl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class i_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new e_e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const $T=[];var bt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(bt||{});const o6={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},r_e=bt.INFO,o_e={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},s_e=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=o_e[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class hl{constructor(e){this.name=e,this._logLevel=r_e,this._logHandler=s_e,this._userLogHandler=null,$T.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const a_e=(n,e)=>e.some(t=>n instanceof t);let s6,a6;const c6=new WeakMap,GT=new WeakMap,l6=new WeakMap,qT=new WeakMap,WT=new WeakMap;let KT={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return GT.get(n);if("objectStoreNames"===e)return n.objectStoreNames||l6.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ka(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function p_e(n){return"function"==typeof n?function f_e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function l_e(){return a6||(a6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(QT(this),e),Ka(c6.get(this))}:function(...e){return Ka(n.apply(QT(this),e))}:function(e,...t){const i=n.call(QT(this),e,...t);return l6.set(i,e.sort?e.sort():[e]),Ka(i)}}(n):(n instanceof IDBTransaction&&function d_e(n){if(GT.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});GT.set(n,e)}(n),a_e(n,function c_e(){return s6||(s6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,KT):n)}function Ka(n){if(n instanceof IDBRequest)return function u_e(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ka(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&c6.set(t,n)}).catch(()=>{}),WT.set(e,n),e}(n);if(qT.has(n))return qT.get(n);const e=p_e(n);return e!==n&&(qT.set(n,e),WT.set(e,n)),e}const QT=n=>WT.get(n),m_e=["get","getKey","getAll","getAllKeys","count"],__e=["put","add","delete","clear"],YT=new Map;function u6(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(YT.get(e))return YT.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=__e.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!m_e.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return YT.set(e,o),o}!function h_e(n){KT=n(KT)}(n=>({...n,get:(e,t,i)=>u6(e,t)||n.get(e,t,i),has:(e,t)=>!!u6(e,t)||n.has(e,t)}));class b_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function y_e(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const XT="@firebase/app",fl=new hl("@firebase/app"),ov="[DEFAULT]",G_e={[XT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pl=new Map,sv=new Map;function q_e(n,e){try{n.container.addComponent(e)}catch(t){fl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zi(n){const e=n.name;if(sv.has(e))return fl.debug(`There were multiple attempts to register component ${e}.`),!1;sv.set(e,n);for(const t of pl.values())q_e(t,n);return!0}function Qa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ea=new _s("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class K_e{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}const Ya="9.23.0";function h6(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:ov,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw ea.create("bad-app-name",{appName:String(r)});if(t||(t=e6()),!t)throw ea.create("no-options");const o=pl.get(r);if(o){if(nv(t,o.options)&&nv(i,o.config))return o;throw ea.create("duplicate-app",{appName:r})}const s=new i_e(r);for(const c of sv.values())s.addComponent(c);const a=new K_e(t,i,s);return pl.set(r,a),a}function Bp(n=ov){const e=pl.get(n);if(!e&&n===ov&&e6())return h6();if(!e)throw ea.create("no-app",{appName:n});return e}function f6(){return Array.from(pl.values())}function Ht(n,e,t){var i;let r=null!==(i=G_e[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void fl.warn(a.join(" "))}zi(new xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Q_e="firebase-heartbeat-database",Y_e=1,Up="firebase-heartbeat-store";let JT=null;function p6(){return JT||(JT=function g_e(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Ka(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Ka(s.result),c.oldVersion,c.newVersion,Ka(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Q_e,Y_e,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Up)}}).catch(n=>{throw ea.create("idb-open",{originalErrorMessage:n.message})})),JT}function eM(){return(eM=_(function*(n){try{return yield(yield p6()).transaction(Up).objectStore(Up).get(m6(n))}catch(e){if(e instanceof _o)fl.warn(e.message);else{const t=ea.create("idb-get",{originalErrorMessage:e?.message});fl.warn(t.message)}}})).apply(this,arguments)}function g6(n,e){return tM.apply(this,arguments)}function tM(){return(tM=_(function*(n,e){try{const i=(yield p6()).transaction(Up,"readwrite");yield i.objectStore(Up).put(e,m6(n)),yield i.done}catch(t){if(t instanceof _o)fl.warn(t.message);else{const i=ea.create("idb-set",{originalErrorMessage:t?.message});fl.warn(i.message)}}})).apply(this,arguments)}function m6(n){return`${n.name}!${n.options.appId}`}class ebe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nbe(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return _(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_6();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=_6(),{heartbeatsToSend:i,unsentEntries:r}=function tbe(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),b6(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),b6(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Xy(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function _6(){return(new Date).toISOString().substring(0,10)}class nbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Wa()&&Rp().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function X_e(n){return eM.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return g6(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return g6(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function b6(n){return Xy(JSON.stringify({version:2,heartbeats:n})).length}!function ibe(n){zi(new xi("platform-logger",e=>new b_e(e),"PRIVATE")),zi(new xi("heartbeat",e=>new ebe(e),"PRIVATE")),Ht(XT,"0.9.13",n),Ht(XT,"0.9.13","esm2017"),Ht("fire-js","")}(""),Ht("firebase","9.23.0","app");const sbe=(n,e)=>e.some(t=>n instanceof t);let y6,v6;const w6=new WeakMap,nM=new WeakMap,x6=new WeakMap,iM=new WeakMap,rM=new WeakMap;let oM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return nM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||x6.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xa(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function fbe(n){return"function"==typeof n?function hbe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cbe(){return v6||(v6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(sM(this),e),Xa(w6.get(this))}:function(...e){return Xa(n.apply(sM(this),e))}:function(e,...t){const i=n.call(sM(this),e,...t);return x6.set(i,e.sort?e.sort():[e]),Xa(i)}}(n):(n instanceof IDBTransaction&&function ube(n){if(nM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});nM.set(n,e)}(n),sbe(n,function abe(){return y6||(y6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,oM):n)}function Xa(n){if(n instanceof IDBRequest)return function lbe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Xa(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&w6.set(t,n)}).catch(()=>{}),rM.set(e,n),e}(n);if(iM.has(n))return iM.get(n);const e=fbe(n);return e!==n&&(iM.set(n,e),rM.set(e,n)),e}const sM=n=>rM.get(n),gbe=["get","getKey","getAll","getAllKeys","count"],mbe=["put","add","delete","clear"],aM=new Map;function C6(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(aM.get(e))return aM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=mbe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!gbe.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return aM.set(e,o),o}!function dbe(n){oM=n(oM)}(n=>({...n,get:(e,t,i)=>C6(e,t)||n.get(e,t,i),has:(e,t)=>!!C6(e,t)||n.has(e,t)}));const E6="@firebase/installations",cM="0.6.4",I6=1e4,T6=`w:${cM}`,M6="FIS_v2",_be="https://firebaseinstallations.googleapis.com/v1",bbe=36e5,ta=new _s("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function D6(n){return n instanceof _o&&n.code.includes("request-failed")}function lM({projectId:n}){return`${_be}/projects/${n}/installations`}function A6(n){return{token:n.token,requestStatus:2,expiresIn:xbe(n.expiresIn),creationTime:Date.now()}}function uM(n,e){return dM.apply(this,arguments)}function dM(){return(dM=_(function*(n,e){const i=(yield e.json()).error;return ta.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function S6({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hM(n){return fM.apply(this,arguments)}function fM(){return(fM=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function xbe(n){return Number(n.replace("s","000"))}function pM(){return(pM=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=lM(n),r=S6(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:M6,appId:n.appId,sdkVersion:T6})},c=yield hM(()=>fetch(i,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:A6(l.authToken)}}throw yield uM("Create Installation",c)})).apply(this,arguments)}function O6(n){return new Promise(e=>{setTimeout(e,n)})}const Tbe=/^[cdef][\w-]{21}$/,gM="";function Mbe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Dbe(n){return function Ibe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Tbe.test(t)?t:gM}catch{return gM}}function Fd(n){return`${n.appName}!${n.appId}`}const Ld=new Map;function P6(n,e){const t=Fd(n);R6(t,e),function kbe(n,e){const t=function N6(){return!gl&&"BroadcastChannel"in self&&(gl=new BroadcastChannel("[Firebase] FID Change"),gl.onmessage=n=>{R6(n.data.key,n.data.fid)}),gl}();t&&t.postMessage({key:n,fid:e}),function F6(){0===Ld.size&&gl&&(gl.close(),gl=null)}()}(t,e)}function R6(n,e){const t=Ld.get(n);if(t)for(const i of t)i(e)}let gl=null;const Obe="firebase-installations-database",Pbe=1,ml="firebase-installations-store";let mM=null;function _M(){return mM||(mM=function pbe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Xa(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Xa(s.result),c.oldVersion,c.newVersion,Xa(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(Obe,Pbe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ml)}})),mM}function av(n,e){return bM.apply(this,arguments)}function bM(){return(bM=_(function*(n,e){const t=Fd(n),r=(yield _M()).transaction(ml,"readwrite"),o=r.objectStore(ml),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&P6(n,e.fid),e})).apply(this,arguments)}function yM(n){return vM.apply(this,arguments)}function vM(){return(vM=_(function*(n){const e=Fd(n),i=(yield _M()).transaction(ml,"readwrite");yield i.objectStore(ml).delete(e),yield i.done})).apply(this,arguments)}function zp(n,e){return wM.apply(this,arguments)}function wM(){return(wM=_(function*(n,e){const t=Fd(n),r=(yield _M()).transaction(ml,"readwrite"),o=r.objectStore(ml),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&P6(n,a.fid),a})).apply(this,arguments)}function xM(n){return CM.apply(this,arguments)}function CM(){return CM=_(function*(n){let e;const t=yield zp(n.appConfig,i=>{const r=function Rbe(n){return V6(n||{fid:Mbe(),registrationStatus:0})}(i),o=function Nbe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ta.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function Fbe(n,e){return EM.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Lbe(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===gM?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),CM.apply(this,arguments)}function EM(){return EM=_(function*(n,e){try{const t=yield function Ebe(n,e){return pM.apply(this,arguments)}(n,e);return av(n.appConfig,t)}catch(t){throw D6(t)&&409===t.customData.serverCode?yield yM(n.appConfig):yield av(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),EM.apply(this,arguments)}function Lbe(n){return IM.apply(this,arguments)}function IM(){return(IM=_(function*(n){let e=yield L6(n.appConfig);for(;1===e.registrationStatus;)yield O6(100),e=yield L6(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield xM(n);return i||t}return e})).apply(this,arguments)}function L6(n){return zp(n,e=>{if(!e)throw ta.create("installation-not-found");return V6(e)})}function V6(n){return function Vbe(n){return 1===n.registrationStatus&&n.registrationTime+I6<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function TM(){return(TM=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function Ube(n,{fid:e}){return`${lM(n)}/${e}/authTokens:generate`}(n,t),r=function k6(n,{refreshToken:e}){const t=S6(n);return t.append("Authorization",function Cbe(n){return`${M6} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:T6,appId:n.appId}})},c=yield hM(()=>fetch(i,a));if(c.ok)return A6(yield c.json());throw yield uM("Generate Auth Token",c)})).apply(this,arguments)}function MM(n){return DM.apply(this,arguments)}function DM(){return DM=_(function*(n,e=!1){let t;const i=yield zp(n.appConfig,o=>{if(!U6(o))throw ta.create("not-registered");const s=o.authToken;if(!e&&function Hbe(n){return 2===n.requestStatus&&!function $be(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+bbe}(n)}(s))return o;if(1===s.requestStatus)return t=function zbe(n,e){return AM.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw ta.create("app-offline");const a=function Gbe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function jbe(n,e){return SM.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),DM.apply(this,arguments)}function AM(){return(AM=_(function*(n,e){let t=yield B6(n.appConfig);for(;1===t.authToken.requestStatus;)yield O6(100),t=yield B6(n.appConfig);const i=t.authToken;return 0===i.requestStatus?MM(n,e):i})).apply(this,arguments)}function B6(n){return zp(n,e=>{if(!U6(e))throw ta.create("not-registered");return function qbe(n){return 1===n.requestStatus&&n.requestTime+I6<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function SM(){return SM=_(function*(n,e){try{const t=yield function Bbe(n,e){return TM.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield av(n.appConfig,i),t}catch(t){if(!D6(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield av(n.appConfig,i)}else yield yM(n.appConfig);throw t}}),SM.apply(this,arguments)}function U6(n){return void 0!==n&&2===n.registrationStatus}function kM(){return(kM=_(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield xM(e);return i?i.catch(console.error):MM(e).catch(console.error),t.fid})).apply(this,arguments)}function OM(){return OM=_(function*(n,e=!1){const t=n;return yield function Qbe(n){return PM.apply(this,arguments)}(t),(yield MM(t,e)).token}),OM.apply(this,arguments)}function PM(){return(PM=_(function*(n){const{registrationPromise:e}=yield xM(n);e&&(yield e)})).apply(this,arguments)}function FM(n){return ta.create("missing-app-config-values",{valueName:n})}const z6="installations",eye=n=>{const e=n.getProvider("app").getImmediate(),t=function Zbe(n){if(!n||!n.options)throw FM("App Configuration");if(!n.name)throw FM("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw FM(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Qa(e,"heartbeat"),_delete:()=>Promise.resolve()}},tye=n=>{const t=Qa(n.getProvider("app").getImmediate(),z6).getImmediate();return{getId:()=>function Wbe(n){return kM.apply(this,arguments)}(t),getToken:r=>function Kbe(n){return OM.apply(this,arguments)}(t,r)}};(function nye(){zi(new xi(z6,eye,"PUBLIC")),zi(new xi("installations-internal",tye,"PRIVATE"))})(),Ht(E6,cM),Ht(E6,cM,"esm2017");const LM="@firebase/remote-config",Lr=new _s("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fye{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function pye(n=navigator){return n.languages&&n.languages[0]||n.language}class gye{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:pye()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((O,D)=>{e.signal.addEventListener(()=>{const B=new Error("The operation was aborted.");B.name="AbortError",D(B)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(O){let D="fetch-client-network";throw"AbortError"===O?.name&&(D="fetch-timeout"),Lr.create(D,{originalErrorMessage:O?.message})}let f=h.status;const b=h.headers.get("ETag")||void 0;let C,I;if(200===h.status){let O;try{O=yield h.json()}catch(D){throw Lr.create("fetch-client-parse",{originalErrorMessage:D?.message})}C=O.entries,I=O.state}if("INSTANCE_STATE_UNSPECIFIED"===I?f=500:"NO_CHANGE"===I?f=304:("NO_TEMPLATE"===I||"EMPTY_CONFIG"===I)&&(C={}),304!==f&&200!==f)throw Lr.create("fetch-status",{httpStatus:f});return{status:f,eTag:b,config:C}})()}}class bye{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return _(function*(){yield function mye(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function _ye(n){if(!(n instanceof _o&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+HT(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class wye{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lv(n,e){const t=n.target.error||void 0;return Lr.create(e,{originalErrorMessage:t&&t?.message})}const _l="app_namespace_store";class Iye{constructor(e,t,i,r=function Eye(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(lv(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_l,{keyPath:"compositeKey"})}}catch(t){e(Lr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([_l],"readonly").objectStore(_l),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(lv(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(l){o(Lr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var i=this;return _(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const c=r.transaction([_l],"readwrite").objectStore(_l),l=i.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(lv(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(Lr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([_l],"readwrite").objectStore(_l),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(lv(u,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){o(Lr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Tye{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Dye(){return jM.apply(this,arguments)}function jM(){return(jM=_(function*(){if(!Wa())return!1;try{return yield Rp()}catch{return!1}})).apply(this,arguments)}!function Mye(){zi(new xi("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Lr.create("registration-window");if(!Wa())throw Lr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw Lr.create("registration-project-id");if(!s)throw Lr.create("registration-api-key");if(!a)throw Lr.create("registration-app-id");const c=new Iye(a,i.name,t=t||"firebase"),l=new Tye(c),u=new hl(LM);u.logLevel=bt.ERROR;const d=new gye(r,Ya,t,o,s,a),h=new bye(d,c),f=new fye(h,c,l,u),b=new wye(i,f,l,c,u);return function uye(n){const e=xn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(b),b},"PUBLIC").setMultipleInstances(!0)),Ht(LM,"0.4.4"),Ht(LM,"0.4.4","esm2017")}();const Aye=(n,e)=>e.some(t=>n instanceof t);let G6,q6;const W6=new WeakMap,HM=new WeakMap,K6=new WeakMap,$M=new WeakMap,GM=new WeakMap;let qM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return HM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||K6.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return na(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Fye(n){return"function"==typeof n?function Nye(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kye(){return q6||(q6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(WM(this),e),na(W6.get(this))}:function(...e){return na(n.apply(WM(this),e))}:function(e,...t){const i=n.call(WM(this),e,...t);return K6.set(i,e.sort?e.sort():[e]),na(i)}}(n):(n instanceof IDBTransaction&&function Pye(n){if(HM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});HM.set(n,e)}(n),Aye(n,function Sye(){return G6||(G6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,qM):n)}function na(n){if(n instanceof IDBRequest)return function Oye(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(na(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&W6.set(t,n)}).catch(()=>{}),GM.set(e,n),e}(n);if($M.has(n))return $M.get(n);const e=Fye(n);return e!==n&&($M.set(n,e),GM.set(e,n)),e}const WM=n=>GM.get(n);function Q6(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=na(s);return i&&s.addEventListener("upgradeneeded",c=>{i(na(s.result),c.oldVersion,c.newVersion,na(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function KM(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),na(t).then(()=>{})}const Lye=["get","getKey","getAll","getAllKeys","count"],Vye=["put","add","delete","clear"],QM=new Map;function Y6(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(QM.get(e))return QM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Vye.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Lye.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return QM.set(e,o),o}!function Rye(n){qM=n(qM)}(n=>({...n,get:(e,t,i)=>Y6(e,t)||n.get(e,t,i),has:(e,t)=>!!Y6(e,t)||n.has(e,t)}));const Bye="/firebase-messaging-sw.js",Uye="/firebase-cloud-messaging-push-scope",X6="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zye="https://fcmregistrations.googleapis.com/v1",Z6="google.c.a.c_id",jye="google.c.a.c_l",Hye="google.c.a.ts";var uv=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(uv||{});function ia(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qye(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const YM="fcm_token_details_db",Wye=5,J6="fcm_token_object_Store";function XM(){return XM=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(YM))return null;let e=null;return(yield Q6(YM,Wye,{upgrade:(i=_(function*(r,o,s,a){var c;if(o<2||!r.objectStoreNames.contains(J6))return;const l=a.objectStore(J6),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ia(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ia(d.auth),p256dh:ia(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ia(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ia(d.auth),p256dh:ia(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ia(d.vapidKey)}}}}),function(o,s,a,c){return i.apply(this,arguments)})})).close(),yield KM(YM),yield KM("fcm_vapid_details_db"),yield KM("undefined"),function Qye(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),XM.apply(this,arguments)}const Yye="firebase-messaging-database",Xye=1,bl="firebase-messaging-store";let ZM=null;function JM(){return ZM||(ZM=Q6(Yye,Xye,{upgrade:(n,e)=>{0===e&&n.createObjectStore(bl)}})),ZM}function e7(n){return eD.apply(this,arguments)}function eD(){return eD=_(function*(n){const e=rD(n),i=yield(yield JM()).transaction(bl).objectStore(bl).get(e);if(i)return i;{const r=yield function Kye(n){return XM.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield tD(n,r),r}}),eD.apply(this,arguments)}function tD(n,e){return nD.apply(this,arguments)}function nD(){return(nD=_(function*(n,e){const t=rD(n),r=(yield JM()).transaction(bl,"readwrite");return yield r.objectStore(bl).put(e,t),yield r.done,e})).apply(this,arguments)}function iD(){return(iD=_(function*(n){const e=rD(n),i=(yield JM()).transaction(bl,"readwrite");yield i.objectStore(bl).delete(e),yield i.done})).apply(this,arguments)}function rD({appConfig:n}){return n.appId}const ji=new _s("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function eve(n,e){return oD.apply(this,arguments)}function oD(){return(oD=_(function*(n,e){const t=yield lD(n),i=n7(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(cD(n.appConfig),r)).json()}catch(s){throw ji.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw ji.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw ji.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function sD(){return(sD=_(function*(n,e){const t=yield lD(n),i=n7(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${cD(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw ji.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw ji.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw ji.create("token-update-no-token");return o.token})).apply(this,arguments)}function t7(n,e){return aD.apply(this,arguments)}function aD(){return(aD=_(function*(n,e){const i={method:"DELETE",headers:yield lD(n)};try{const o=yield(yield fetch(`${cD(n.appConfig)}/${e}`,i)).json();if(o.error)throw ji.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw ji.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function cD({projectId:n}){return`${zye}/projects/${n}/registrations`}function lD(n){return uD.apply(this,arguments)}function uD(){return(uD=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function n7({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==X6&&(r.web.applicationPubKey=i),r}const nve=6048e5;function dD(){return dD=_(function*(n){const e=yield function ove(n,e){return gD.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ia(e.getKey("auth")),p256dh:ia(e.getKey("p256dh"))},i=yield e7(n.firebaseDependencies);if(i){if(function sve(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+nve?function rve(n,e){return fD.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield t7(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return r7(n.firebaseDependencies,t)}return r7(n.firebaseDependencies,t)}),dD.apply(this,arguments)}function hD(){return hD=_(function*(n){const e=yield e7(n.firebaseDependencies);e&&(yield t7(n.firebaseDependencies,e.token),yield function Zye(n){return iD.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),hD.apply(this,arguments)}function fD(){return fD=_(function*(n,e){try{const t=yield function tve(n,e){return sD.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield tD(n.firebaseDependencies,i),t}catch(t){throw yield function i7(n){return hD.apply(this,arguments)}(n),t}}),fD.apply(this,arguments)}function r7(n,e){return pD.apply(this,arguments)}function pD(){return(pD=_(function*(n,e){const i={token:yield eve(n,e),createTime:Date.now(),subscriptionOptions:e};return yield tD(n,i),i.token})).apply(this,arguments)}function gD(){return(gD=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qye(e)})})).apply(this,arguments)}function o7(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function ave(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function cve(n,e){e.data&&(n.data=e.data)}(e,n),function lve(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function s7(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function mD(n){return ji.create("missing-app-config-values",{valueName:n})}s7("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),s7("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hve{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function dve(n){if(!n||!n.options)throw mD("App Configuration Object");if(!n.name)throw mD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw mD(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function _D(){return(_D=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Bye,{scope:Uye}),n.swRegistration.update().catch(()=>{})}catch(e){throw ji.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function bD(){return(bD=_(function*(n,e){if(!e&&!n.swRegistration&&(yield function a7(n){return _D.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ji.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function yD(){return(yD=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=X6)})).apply(this,arguments)}function vD(){return vD=_(function*(n,e){if(!navigator)throw ji.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ji.create("permission-blocked");return yield function pve(n,e){return yD.apply(this,arguments)}(n,e?.vapidKey),yield function fve(n,e){return bD.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function ive(n){return dD.apply(this,arguments)}(n)}),vD.apply(this,arguments)}function wD(){return(wD=_(function*(n,e,t){const i=function mve(n){switch(n){case uv.NOTIFICATION_CLICKED:return"notification_open";case uv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[Z6],message_name:t[jye],message_time:t[Hye],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xD(){return xD=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===uv.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(o7(t)):n.onMessageHandler.next(o7(t)));const i=t.data;(function uve(n){return"object"==typeof n&&!!n&&Z6 in n})(i)&&"1"===i["google.c.a.e"]&&(yield function gve(n,e,t){return wD.apply(this,arguments)}(n,t.messageType,i))}),xD.apply(this,arguments)}const l7="@firebase/messaging",bve=n=>{const e=new hve(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function _ve(n,e){return xD.apply(this,arguments)}(e,t)),e},yve=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function c7(n,e){return vD.apply(this,arguments)}(e,i)}};function d7(){return CD.apply(this,arguments)}function CD(){return(CD=_(function*(){try{yield Rp()}catch{return!1}return typeof window<"u"&&Wa()&&UT()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vve(){zi(new xi("messaging",bve,"PUBLIC")),zi(new xi("messaging-internal",yve,"PRIVATE")),Ht(l7,"0.12.4"),Ht(l7,"0.12.4","esm2017")}();const dv="analytics",Cve="firebase_id",Eve="origin",Ive=6e4,Tve="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TD="https://www.googletagmanager.com/gtag/js",Ci=new hl("@firebase/analytics"),xr=new _s("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Dve(n){if(!n.startsWith(TD)){const e=xr.create("invalid-gtag-resource",{gtagURL:n});return Ci.warn(e.message),""}return n}function h7(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function MD(){return(MD=_(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const c=(yield h7(t)).find(l=>l.measurementId===r);c&&(yield e[c.appId])}}catch(a){Ci.error(a)}n("config",r,o)})).apply(this,arguments)}function DD(){return(DD=_(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield h7(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){Ci.error(o)}})).apply(this,arguments)}const Lve=30,f7=new class Bve{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Uve(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function AD(){return(AD=_(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Uve(i)},o=Tve.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw xr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function SD(){return(SD=_(function*(n,e=f7,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw xr.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw xr.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Gve;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:Ive),p7({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function p7(n,e,t){return kD.apply(this,arguments)}function kD(){return kD=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=f7){var o;const{appId:s,measurementId:a}=n;try{yield function Hve(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(c){if(a)return Ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function zve(n){return AD.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function $ve(n){if(!(n instanceof _o&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(r.deleteThrottleMetadata(s),a)return Ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?HT(t,r.intervalMillis,Lve):HT(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),Ci.debug(`Calling attemptFetch again in ${u} millis`),p7(n,d,i,r)}}),kD.apply(this,arguments)}class Gve{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let OD,BD;function PD(){return(PD=_(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function UD(){return(UD=_(function*(){if(!Wa())return Ci.warn(xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Rp()}catch(n){return Ci.warn(xr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function zD(){return zD=_(function*(n,e,t,i,r,o,s){var a;const c=function jve(n){return SD.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Ci.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ci.error(f)),e.push(c);const l=function Zve(){return UD.apply(this,arguments)}().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([c,l]);(function Fve(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(TD)&&t.src.includes(n))return t;return null})(o)||function Sve(n,e){const t=function Ave(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Dve}),i=document.createElement("script"),r=`${TD}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,u.measurementId),BD&&(r("consent","default",BD),function g7(n){BD=n}(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Eve]="firebase",h.update=!0,null!=d&&(h[Cve]=d),r("config",u.measurementId,h),OD&&(r("set",OD),function m7(n){OD=n}(void 0)),u.measurementId}),zD.apply(this,arguments)}class e0e{constructor(e){this.app=e}_delete(){return delete bs[this.app.options.appId],Promise.resolve()}}let bs={},_7=[];const b7={};let v7,ys,hv="dataLayer",jD=!1;function n0e(n,e,t){!function t0e(){const n=[];if(BT()&&n.push("This is a browser extension environment."),UT()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=xr.create("invalid-analytics-context",{errorInfo:e});Ci.warn(t.message)}}();const i=n.options.appId;if(!i)throw xr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw xr.create("no-api-key");Ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bs[i])throw xr.create("already-exists",{id:i});if(!jD){!function kve(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(hv);const{wrappedGtag:o,gtagCore:s}=function Nve(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function Rve(n,e,t,i){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function Pve(n,e,t,i,r){return DD.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function Ove(n,e,t,i,r,o){return MD.apply(this,arguments)}(n,e,t,i,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,u]=a;n("get",c,l,u)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){Ci.error(c)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(bs,_7,b7,hv,"gtag");ys=o,v7=s,jD=!0}return bs[i]=function Jve(n,e,t,i,r,o,s){return zD.apply(this,arguments)}(n,_7,b7,e,v7,hv,t),new e0e(n)}function r0e(){return HD.apply(this,arguments)}function HD(){return(HD=_(function*(){if(BT()||!UT()||!Wa())return!1;try{return yield Rp()}catch{return!1}})).apply(this,arguments)}const w7="@firebase/analytics";!function s0e(){zi(new xi(dv,(e,{options:t})=>n0e(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),zi(new xi("analytics-internal",function n(e){try{const t=e.getProvider(dv).getImmediate();return{logEvent:(i,r,o)=>function o0e(n,e,t,i){n=xn(n),function qve(n,e,t,i,r){return PD.apply(this,arguments)}(ys,bs[n.app.options.appId],e,t,i).catch(r=>Ci.error(r))}(t,i,r,o)}}catch(t){throw xr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ht(w7,"0.10.0"),Ht(w7,"0.10.0","esm2017")}();class a0e extends bi{constructor(e,t){super()}schedule(e,t=0){return this}}const fv={setInterval(n,e,...t){const{delegate:i}=fv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=fv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class pv extends a0e{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return fv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&fv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,l_(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const C7={now:()=>(C7.delegate||Date).now(),delegate:void 0};class jp{constructor(e,t=jp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}jp.now=C7.now;class gv extends jp{constructor(e,t=jp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const u0e=new class l0e extends gv{}(class c0e extends pv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Hp=new gv(pv),d0e=Hp,Vd=new La("7.6.1"),GD="__angularfire_symbol__analyticsIsSupportedValue",qD="__angularfire_symbol__analyticsIsSupported",WD="__angularfire_symbol__remoteConfigIsSupportedValue",KD="__angularfire_symbol__remoteConfigIsSupported",QD="__angularfire_symbol__messagingIsSupportedValue",YD="__angularfire_symbol__messagingIsSupported";function $p(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[qD]||(globalThis[qD]=r0e().then(n=>globalThis[GD]=n).catch(()=>globalThis[GD]=!1)),globalThis[YD]||(globalThis[YD]=d7().then(n=>globalThis[QD]=n).catch(()=>globalThis[QD]=!1)),globalThis[KD]||(globalThis[KD]=Dye().then(n=>globalThis[WD]=n).catch(()=>globalThis[WD]=!1));const Gp=(n,e)=>{const t=e?[e]:f6(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function Bd(){}class E7{constructor(e,t=u0e){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class h0e{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bd,{},Bd,Bd)),t.pipe(Kn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qp=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new E7(Zone.current)),this.insideAngular=t.run(()=>new E7(Zone.current,Hp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)($(Ae))},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function vl(n){return yl().ngZone.run(()=>n())}function p0e(n){return yl(),function g0e(n){return function(t){return(t=t.lift(new h0e(n.ngZone))).pipe(vy(n.outsideAngular),yy(n.insideAngular))}}(yl())(n)}const m0e=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),vl(()=>n.apply(void 0,i))},Ei=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=vl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bd,{},Bd,Bd)))),i[o]=m0e(i[o],t));const r=function f0e(n){return yl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Qt){const o=yl();return r.pipe(vy(o.outsideAngular),yy(o.insideAngular))}return vl(()=>r)}return r instanceof Qt?r.pipe(p0e):r instanceof Promise?vl(()=>new Promise((o,s)=>r.then(a=>vl(()=>o(a)),a=>vl(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:vl(()=>r)};class Za{constructor(e){return e}}class Wp{constructor(){return f6()}}const ZD=new X("angularfire2._apps"),b0e={provide:Za,useFactory:function _0e(n){return n&&1===n.length?n[0]:new Za(Bp())},deps:[[new Jt,ZD]]},y0e={provide:Wp,deps:[[new Jt,ZD]]};function v0e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Za(i)}}let w0e=(()=>{class n{constructor(t){Ht("angularfire",Vd.full,"core"),Ht("angularfire",Vd.full,"app"),Ht("angular",wce.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)($(so))},n.\u0275mod=tt({type:n}),n.\u0275inj=Je({providers:[b0e,y0e]}),n})();function x0e(n,...e){return{ngModule:w0e,providers:[{provide:ZD,useFactory:v0e(n),multi:!0,deps:[Ae,$t,qp,...e]}]}}const C0e=Ei(h6,!0),JD=new Map,I7={activated:!1,tokenObservers:[]},E0e={initialized:!1,enabled:!1};function Fn(n){return JD.get(n)||Object.assign({},I7)}function mv(){return E0e}const eA="https://content-firebaseappcheck.googleapis.com/v1",D0e="exchangeDebugToken",T7={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class S0e{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Rd,yield function k0e(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hi=new _s("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tA(n){if(!Fn(n).activated)throw Hi.create("use-before-activation",{appName:n.name})}function yv(n,e){return iA.apply(this,arguments)}function iA(){return(iA=_(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw Hi.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Hi.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Hi.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Hi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function M7(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${eA}/projects/${t}/apps/${i}:${D0e}?key=${r}`,body:{debug_token:e}}}const N0e="firebase-app-check-database",F0e=1,Kp="firebase-app-check-store";let vv=null;function rA(){return(rA=_(function*(n,e){const i=(yield function A7(){return vv||(vv=new Promise((n,e)=>{try{const t=indexedDB.open(N0e,F0e);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Hi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Kp,{keyPath:"compositeKey"})}}catch(t){e(Hi.create("storage-open",{originalErrorMessage:t?.message}))}}),vv)}()).transaction(Kp,"readwrite"),o=i.objectStore(Kp).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(Hi.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Qp=new hl("@firebase/app-check");function aA(n,e){return Wa()?function V0e(n,e){return function S7(n,e){return rA.apply(this,arguments)}(function O7(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Qp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lA(){return mv().enabled}function uA(){return dA.apply(this,arguments)}function dA(){return(dA=_(function*(){const n=mv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $0e={error:"UNKNOWN_ERROR"};function G0e(n){return Yy.encodeString(JSON.stringify(n),!1)}function wv(n){return hA.apply(this,arguments)}function hA(){return(hA=_(function*(n,e=!1){const t=n.app;tA(t);const i=Fn(t);let o,r=i.token;if(r&&!Ud(r)&&(i.token=void 0,r=void 0),!r){const c=yield i.cachedTokenPromise;c&&(Ud(c)?r=c:yield aA(t,void 0))}if(!e&&r&&Ud(r))return{token:r.token};let a,s=!1;if(lA()){i.exchangeTokenPromise||(i.exchangeTokenPromise=yv(M7(t,yield uA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const c=yield i.exchangeTokenPromise;return yield aA(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Fn(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Qp.warn(c.message):Qp.error(c),o=c}return r?o?a=Ud(r)?{token:r.token,internalError:o}:F7(o):(a={token:r.token},i.token=r,yield aA(t,r)):a=F7(o),s&&function N7(n,e){const t=Fn(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function P7(n){return fA.apply(this,arguments)}function fA(){return(fA=_(function*(n){const e=n.app;tA(e);const{provider:t}=Fn(e);if(lA()){const i=yield uA(),{token:r}=yield yv(M7(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function gA(n,e){const t=Fn(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function R7(n){const{app:e}=n,t=Fn(e);let i=t.tokenRefresher;i||(i=function q0e(n){const{app:e}=n;return new S0e(_(function*(){let i;if(i=Fn(e).token?yield wv(n,!0):yield wv(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Fn(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},T7.RETRIAL_MIN_WAIT,T7.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Ud(n){return n.expireTimeMillis-Date.now()>0}function F7(n){return{token:G0e($0e),error:n}}class W0e{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fn(this.app);for(const t of e)gA(this.app,t.next);return Promise.resolve()}}const $7="app-check-internal";!function awe(){zi(new xi("app-check",n=>function K0e(n,e){return new W0e(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($7).initialize()})),zi(new xi($7,n=>function Q0e(n){return{getToken:e=>wv(n,e),getLimitedUseToken:()=>P7(n),addTokenListener:e=>function pA(n,e,t,i){const{app:r}=n,o=Fn(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&Ud(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),R7(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>R7(n))}(n,"INTERNAL",e),removeTokenListener:e=>gA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ht("@firebase/app-check","0.8.0")}();class Yp{constructor(){return Gp("app-check")}}typeof window<"u"&&window;const hwe=function q7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},W7=new _s("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cv=new hl("@firebase/auth");function Ev(n,...e){Cv.logLevel<=bt.ERROR&&Cv.error(`Auth (${Ya}): ${n}`,...e)}function Vr(n,...e){throw vA(n,...e)}function vs(n,...e){return vA(n,...e)}function vA(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return W7.create(n,...e)}function se(n,e,...t){if(!n)throw vA(e,...t)}function ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ev(e),new Error(e)}function Ja(n,e){n||ws(e)}function Xp(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Q7(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Zp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ja(t>e,"Short delay should be less than long delay!"),this.isMobile=VT()||i6()}get(){return function pwe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function wA(){return"http:"===Q7()||"https:"===Q7()}()||BT()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xA(n,e){Ja(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Y7{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mwe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_we=new Zp(3e4,6e4);function Dn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ln(n,e,t,i){return CA.apply(this,arguments)}function CA(){return(CA=_(function*(n,e,t,i,r={}){return X7(n,r,_(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=Fp(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),Y7.fetch()(Z7(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function X7(n,e,t){return EA.apply(this,arguments)}function EA(){return(EA=_(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},mwe),e);try{const r=new bwe(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Jp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Jp(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Jp(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw Jp(n,"user-disabled",s);const u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function K7(n,e,t){const i=Object.assign(Object.assign({},hwe()),{[e]:t});return new _s("auth","Firebase",i).create(e,{appName:n.name})}(n,u,l);Vr(n,u)}}catch(r){if(r instanceof _o)throw r;Vr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function ra(n,e,t,i){return IA.apply(this,arguments)}function IA(){return(IA=_(function*(n,e,t,i,r={}){const o=yield Ln(n,e,t,i,r);return"mfaPendingCredential"in o&&Vr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function Z7(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?xA(n.config,r):`${n.config.apiScheme}://${r}`}class bwe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(vs(this.auth,"network-request-failed")),_we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jp(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=vs(n,e,i);return r.customData._tokenResponse=t,r}function TA(){return(TA=_(function*(n,e){return Ln(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function DA(){return(DA=_(function*(n,e){return Ln(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function eg(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AA(){return(AA=_(function*(n,e=!1){const t=xn(n),i=yield t.getIdToken(e),r=Iv(i);se(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:eg(SA(r.auth_time)),issuedAtTime:eg(SA(r.iat)),expirationTime:eg(SA(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function SA(n){return 1e3*Number(n)}function Iv(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return Ev("JWT malformed, contained fewer than 3 sections"),null;try{const r=Zy(t);return r?JSON.parse(r):(Ev("Failed to decode base64 JWT payload"),null)}catch(r){return Ev("Caught error parsing JWT payload as JSON",r?.toString()),null}}function oa(n,e){return kA.apply(this,arguments)}function kA(){return(kA=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof _o&&function Ewe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Iwe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),i)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class J7{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eg(this.lastLoginAt),this.creationTime=eg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tg(n){return OA.apply(this,arguments)}function OA(){return OA=_(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield oa(n,function wwe(n,e){return DA.apply(this,arguments)}(t,{idToken:i}));se(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Dwe(n){return n.map(e=>{var{providerId:t}=e,i=PI(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function Mwe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new J7(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),OA.apply(this,arguments)}function PA(){return(PA=_(function*(n){const e=xn(n);yield tg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function RA(){return(RA=_(function*(n,e){const t=yield X7(n,{},_(function*(){const i=Fp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=Z7(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y7.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class ng{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cwe(n){const e=Iv(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return _(function*(){return se(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return _(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Awe(n,e){return RA.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new ng;return i&&(se("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(se("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(se("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ng,this.toJSON())}_performRefresh(){return ws("not implemented")}}function ec(n,e){se("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class wl{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=PI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iwe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new J7(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const i=yield oa(t,t.stsTokenManager.getToken(t.auth,e));return se(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function xwe(n){return AA.apply(this,arguments)}(this,e)}reload(){return function Twe(n){return PA.apply(this,arguments)}(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return _(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield tg(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield oa(e,function ywe(n,e){return TA.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=t.photoURL)&&void 0!==s?s:void 0,C=null!==(a=t.tenantId)&&void 0!==a?a:void 0,I=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,O=null!==(l=t.createdAt)&&void 0!==l?l:void 0,D=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:B,emailVerified:Y,isAnonymous:ae,providerData:pe,stsTokenManager:Ge}=t;se(B&&Ge,e,"internal-error");const gt=ng.fromJSON(this.name,Ge);se("string"==typeof B,e,"internal-error"),ec(d,e.name),ec(h,e.name),se("boolean"==typeof Y,e,"internal-error"),se("boolean"==typeof ae,e,"internal-error"),ec(f,e.name),ec(b,e.name),ec(C,e.name),ec(I,e.name),ec(O,e.name),ec(D,e.name);const ai=new wl({uid:B,auth:e,email:h,emailVerified:Y,displayName:d,isAnonymous:ae,photoURL:b,phoneNumber:f,tenantId:C,stsTokenManager:gt,createdAt:O,lastLoginAt:D});return pe&&Array.isArray(pe)&&(ai.providerData=pe.map(Yi=>Object.assign({},Yi))),I&&(ai._redirectEventId=I),ai}static _fromIdTokenResponse(e,t,i=!1){return _(function*(){const r=new ng;r.updateFromServerResponse(t);const o=new wl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield tg(o),o})()}}const eH=new Map;function sa(n){Ja(n instanceof Function,"Expected a class definition");let e=eH.get(n);return e?(Ja(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eH.set(n,e),e)}const tH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,i){var r=this;return _(function*(){r.storage[t]=i})()}_get(t){var i=this;return _(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return _(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function Tv(n,e,t){return`firebase:${n}:${e}:${t}`}class jd{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Tv(this.userKey,r.apiKey,o),this.fullPersistenceKey=Tv("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?wl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return _(function*(){if(!t.length)return new jd(sa(tH),e,i);const r=(yield Promise.all(t.map(function(){var l=_(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=r[0]||sa(tH);const s=Tv(i,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=wl._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new jd(o,e,i)):new jd(o,e,i)})()}}function nH(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aH(e))return"Blackberry";if(cH(e))return"Webos";if(NA(e))return"Safari";if((e.includes("chrome/")||rH(e))&&!e.includes("edge/"))return"Chrome";if(sH(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function iH(n=Qn()){return/firefox\//i.test(n)}function NA(n=Qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rH(n=Qn()){return/crios\//i.test(n)}function oH(n=Qn()){return/iemobile/i.test(n)}function sH(n=Qn()){return/android/i.test(n)}function aH(n=Qn()){return/blackberry/i.test(n)}function cH(n=Qn()){return/webos/i.test(n)}function Mv(n=Qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lH(n=Qn()){return Mv(n)||sH(n)||cH(n)||aH(n)||/windows phone/i.test(n)||oH(n)}function uH(n,e=[]){let t;switch(n){case"Browser":t=nH(Qn());break;case"Worker":t=`${nH(Qn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ya}/${i}`}function dH(n,e){return LA.apply(this,arguments)}function LA(){return(LA=_(function*(n,e){return Ln(n,"GET","/v2/recaptchaConfig",Dn(n,e))})).apply(this,arguments)}function fH(n){return void 0!==n&&void 0!==n.enterprise}class pH{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function VA(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=vs("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function Rwe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function gH(n){return`__${n}${Math.floor(1e6*Math.random())}`}class mH{constructor(e){this.type="recaptcha-enterprise",this.auth=Ii(e)}verify(e="verify",t=!1){var i=this;return _(function*(){function o(){return o=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,u){dH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new pH(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;fH(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(l=>{if(!t&&fH(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));VA("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function tc(n,e,t){return BA.apply(this,arguments)}function BA(){return(BA=_(function*(n,e,t,i=!1){const r=new mH(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Vwe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class Bwe{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _H(this),this.idTokenSubscription=new _H(this),this.beforeStateQueue=new Vwe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=sa(t)),this._initializationPromise=this.queue(_(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield jd.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return se(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield tg(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function gwe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const i=e?xn(e):null;return i&&se(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return _(function*(){if(!i._deleted)return e&&se(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(_(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(sa(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const t=yield dH(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new pH(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new mH(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _s("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return _(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const i=e&&sa(e)||t._popupRedirectResolver;se(i,t,"argument-error"),t.redirectPersistenceManager=yield jd.create(t,[sa(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var i,r;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return se(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function fwe(n,...e){Cv.logLevel<=bt.WARN&&Cv.warn(`Auth (${Ya}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ii(n){return xn(n)}class _H{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Gme(n,e){const t=new qme(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yH(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class vH{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,t){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}function xH(n,e){return zA.apply(this,arguments)}function zA(){return(zA=_(function*(n,e){return Ln(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function HA(n,e){return $A.apply(this,arguments)}function $A(){return($A=_(function*(n,e){return ra(n,"POST","/v1/accounts:signInWithPassword",Dn(n,e))})).apply(this,arguments)}function ZA(){return(ZA=_(function*(n,e){return ra(n,"POST","/v1/accounts:signInWithEmailLink",Dn(n,e))})).apply(this,arguments)}function JA(){return(JA=_(function*(n,e){return ra(n,"POST","/v1/accounts:signInWithEmailLink",Dn(n,e))})).apply(this,arguments)}class ig extends vH{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ig(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ig(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield tc(e,r,"signInWithPassword");return HA(e,o)}return HA(e,r).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield tc(e,r,"signInWithPassword");return HA(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Kwe(n,e){return ZA.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Vr(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return _(function*(){switch(i.signInMethod){case"password":return xH(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function Qwe(n,e){return JA.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Vr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function aa(n,e){return eS.apply(this,arguments)}function eS(){return(eS=_(function*(n,e){return ra(n,"POST","/v1/accounts:signInWithIdp",Dn(n,e))})).apply(this,arguments)}class sg{constructor(e){var t,i,r,o,s,a;const c=Lp(Vp(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(i=c.oobCode)&&void 0!==i?i:null,d=function nxe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);se(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function ixe(n){const e=Lp(Vp(n)).link,t=e?Lp(Vp(e)).deep_link_id:null,i=Lp(Vp(n)).deep_link_id;return(i?Lp(Vp(i)).link:null)||i||t||e||n}(e);try{return new sg(t)}catch{return null}}}let CH=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return ig._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=sg.parseLink(i);return se(r,"argument-error"),ig._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class nc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rxe extends nc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Sv(n,e){return sS.apply(this,arguments)}function sS(){return(sS=_(function*(n,e){return ra(n,"POST","/v1/accounts:signUp",Dn(n,e))})).apply(this,arguments)}class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return _(function*(){const o=yield wl._fromIdTokenResponse(e,i,r),s=EH(i);return new bo({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return _(function*(){yield e._updateTokensIfNecessary(i,!0);const r=EH(i);return new bo({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function EH(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class kv extends _o{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,kv.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new kv(e,t,i,r)}}function IH(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?kv._fromErrorAndOperation(n,o,e,i):o})}function uS(){return(uS=_(function*(n,e,t=!1){const i=yield oa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return bo._forOperation(n,"link",i)})).apply(this,arguments)}function hS(){return(hS=_(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield oa(n,IH(i,r,e,n),t);se(o.idToken,i,"internal-error");const s=Iv(o.idToken);se(s,i,"internal-error");const{sub:a}=s;return se(n.uid===a,i,"user-mismatch"),bo._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&Vr(i,"user-mismatch"),o}})).apply(this,arguments)}function DH(n,e){return fS.apply(this,arguments)}function fS(){return(fS=_(function*(n,e,t=!1){const i="signIn",r=yield IH(n,i,e),o=yield bo._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function gS(){return(gS=_(function*(n,e){return DH(Ii(n),e)})).apply(this,arguments)}function dxe(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=_(function*(n,e,t){var i;const r=Ii(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const l=yield tc(r,o,"signUpPassword");s=Sv(r,l)}else s=Sv(r,o).catch(function(){var l=_(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield tc(r,o,"signUpPassword");return Sv(r,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield bo._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c}),DS.apply(this,arguments)}function hxe(n,e,t){return function pS(n,e){return gS.apply(this,arguments)}(xn(n),CH.credential(e,t))}function xxe(n,e,t,i){return xn(n).onAuthStateChanged(e,t,i)}function Cxe(n){return xn(n).signOut()}const Pv="__sak";class SH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pv,"1"),this.storage.removeItem(Pv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kxe=(()=>{class n extends SH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dxe(){const n=Qn();return NA(n)||Mv(n)}()&&function Owe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function kwe(){return function Lme(){const n=Qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return _(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return _(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return _(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),kH=(()=>{class n extends SH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let Pxe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return _(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,c=i.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=_(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Oxe(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(l);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function HS(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class Rxe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=HS("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function ii(){return window}function $S(){return typeof ii().WorkerGlobalScope<"u"&&"function"==typeof ii().importScripts}function GS(){return(GS=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const OH="firebaseLocalStorageDb",Rv="firebaseLocalStorage",PH="fbase_key";class cg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nv(n,e){return n.transaction([Rv],e?"readwrite":"readonly").objectStore(Rv)}function qS(){const n=indexedDB.open(OH,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Rv,{keyPath:PH})}catch(r){t(r)}}),n.addEventListener("success",_(function*(){const i=n.result;i.objectStoreNames.contains(Rv)?e(i):(i.close(),yield function Uxe(){const n=indexedDB.deleteDatabase(OH);return new cg(n).toPromise()}(),e(yield qS()))}))})}function RH(n,e,t){return WS.apply(this,arguments)}function WS(){return(WS=_(function*(n,e,t){const i=Nv(n,!0).put({[PH]:e,value:t});return new cg(i).toPromise()})).apply(this,arguments)}function KS(){return(KS=_(function*(n,e){const t=Nv(n,!1).get(e),i=yield new cg(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function NH(n,e){const t=Nv(n,!0).delete(e);return new cg(t).toPromise()}const $xe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield qS()),t.db})()}_withRetries(t){var i=this;return _(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return $S()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=Pxe._getInstance(function Vxe(){return $S()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=_(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=_(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var i,r;if(t.activeServiceWorker=yield function Fxe(){return GS.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Rxe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return _(function*(){if(i.sender&&i.activeServiceWorker&&function Lxe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield qS();return yield RH(t,Pv,"1"),yield NH(t,Pv),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return _(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(o=>RH(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return _(function*(){const r=yield i._withRetries(o=>function zxe(n,e){return KS.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(r=>NH(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const i=yield t._withRetries(s=>{const a=Nv(s,!1).getAll();return new cg(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();gH("rcb"),new Zp(3e4,6e4);class ik extends vH{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sCe(n){return DH(n.auth,new ik(n),n.bypassAuthState)}function aCe(n){const{auth:e,user:t}=n;return se(t,e,"internal-error"),function MH(n,e){return hS.apply(this,arguments)}(t,new ik(n),n.bypassAuthState)}function cCe(n){return rk.apply(this,arguments)}function rk(){return(rk=_(function*(n){const{auth:e,user:t}=n;return se(t,e,"internal-error"),function lS(n,e){return uS.apply(this,arguments)}(t,new ik(n),n.bypassAuthState)})).apply(this,arguments)}class lCe{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sCe;case"linkViaPopup":case"linkViaRedirect":return cCe;case"reauthViaPopup":case"reauthViaRedirect":return aCe;default:Vr(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Zp(2e3,1e4);const uCe="pendingRedirect",lg=new Map;class dCe extends lCe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let i=lg.get(t.auth._key());if(!i){try{const o=(yield function hCe(n,e){return lk.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}lg.set(t.auth._key(),i)}return t.bypassAuthState||lg.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function lk(){return(lk=_(function*(n,e){const t=function VH(n){return Tv(uCe,n.config.apiKey,n.name)}(e),i=function LH(n){return sa(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function fCe(n,e){lg.set(n._key(),e)}function BH(n,e){return mk.apply(this,arguments)}function mk(){return(mk=_(function*(n,e,t=!1){const i=Ii(n),r=function Cl(n,e){return e?sa(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new dCe(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class bCe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function yCe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jH(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!jH(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(vs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zH(e))}saveEventToCache(e){this.cachedEventUids.add(zH(e)),this.lastProcessedEventTime=Date.now()}}function zH(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jH({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function bk(){return(bk=_(function*(n,e={}){return Ln(n,"GET","/v1/projects",e)})).apply(this,arguments)}const wCe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xCe=/^https?/;function yk(){return yk=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function vCe(n){return bk.apply(this,arguments)}(n);for(const t of e)try{if(ECe(t))return}catch{}Vr(n,"unauthorized-domain")}),yk.apply(this,arguments)}function ECe(n){const e=Xp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!xCe.test(t))return!1;if(wCe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const ICe=new Zp(3e4,6e4);function HH(){const n=ii().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Lv=null;const DCe=new Zp(5e3,15e3),ACe="__/auth/iframe",SCe="emulator/auth/iframe",kCe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OCe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PCe(n){const e=n.config;se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xA(e,SCe):`https://${n.config.authDomain}/${ACe}`,i={apiKey:e.apiKey,appName:n.name,v:Ya},r=OCe.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Fp(i).slice(1)}`}function vk(){return vk=_(function*(n){const e=yield function MCe(n){return Lv=Lv||function TCe(n){return new Promise((e,t)=>{var i,r,o;function s(){HH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HH(),t(vs(n,"network-request-failed"))},timeout:ICe.get()})}if(null!==(r=null===(i=ii().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=ii().gapi)||void 0===o||!o.load){const a=gH("iframefcb");return ii()[a]=()=>{gapi.load?s():t(vs(n,"network-request-failed"))},VA(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw Lv=null,e})}(n),Lv}(n),t=ii().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:PCe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kCe,dontclear:!0},i=>new Promise(function(){var r=_(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=vs(n,"network-request-failed"),c=ii().setTimeout(()=>{s(a)},DCe.get());function l(){ii().clearTimeout(c),o(i)}i.ping(l).then(l,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),vk.apply(this,arguments)}const NCe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $H{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jCe="__/auth/handler",HCe="emulator/auth/handler",$Ce=encodeURIComponent("fac");function GH(n,e,t,i,r,o){return wk.apply(this,arguments)}function wk(){return(wk=_(function*(n,e,t,i,r,o){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ya,eventId:r};if(e instanceof nc){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",zT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof rxe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${$Ce}=${encodeURIComponent(c)}`:"";return`${function GCe({config:n}){return n.emulator?xA(n,HCe):`https://${n.authDomain}/${jCe}`}(n)}?${Fp(a).slice(1)}${l}`})).apply(this,arguments)}const xk="webStorageSupport",WCe=class qCe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kH,this._completeRedirectFn=BH,this._overrideRedirectResult=fCe}_openPopup(e,t,i,r){var o=this;return _(function*(){var s;Ja(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield GH(e,t,i,Xp(),r);return function UCe(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},NCe),{width:i.toString(),height:r.toString(),top:o,left:s}),l=Qn().toLowerCase();t&&(a=rH(l)?"_blank":t),iH(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,b])=>`${h}${f}=${b},`,"");if(function Swe(n=Qn()){var e;return Mv(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function zCe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new $H(null);const d=window.open(e||"",a,u);se(d,n,"popup-blocked");try{d.focus()}catch{}return new $H(d)}(e,a,HS())})()}_openRedirect(e,t,i,r){var o=this;return _(function*(){return yield o._originValidation(e),function Nxe(n){ii().location.href=n}(yield GH(e,t,i,Xp(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Ja(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return _(function*(){const i=yield function RCe(n){return vk.apply(this,arguments)}(e),r=new bCe(e);return i.register("authEvent",o=>(se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xk,{type:xk},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[xk];void 0!==s&&t(!!s),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function CCe(n){return yk.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lH()||NA()||Mv()}};var KH="@firebase/auth";class KCe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ZCe=t6("authIdTokenMaxAge")||300;let YH=null;const JCe=n=>function(){var e=_(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>ZCe)return;const o=i?.token;YH!==o&&(YH=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function eEe(n=Bp()){const e=Qa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Uwe(n,e){const t=Qa(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(nv(t.getOptions(),e??{}))return r;Vr(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:WCe,persistence:[$xe,kxe,kH]}),i=t6("authTokenSyncURL");if(i){const o=JCe(i);(function wxe(n,e,t){xn(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function vxe(n,e,t,i){xn(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=J9("auth");return r&&function jwe(n,e,t){const i=Ii(n);se(i._canInitEmulator,i,"emulator-config-failed"),se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=bH(e),{host:s,port:a}=function Hwe(n){const e=bH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:yH(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:yH(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function $we(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}!function YCe(n){zi(new xi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uH(n)},l=new Bwe(i,r,o,c);return function zwe(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(sa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),zi(new xi("auth-internal",e=>{const t=Ii(e.getProvider("auth").getImmediate());return new KCe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(KH,"0.23.2",function QCe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ht(KH,"0.23.2","esm2017")}("Browser");class Ue{constructor(e){return e}}class Bv{constructor(){return Gp("auth")}}const Ek=new X("angularfire2.auth-instances");function nEe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Ue(i)}}const iEe={provide:Bv,deps:[[new Jt,Ek]]},rEe={provide:Ue,useFactory:function tEe(n,e){const t=$p("auth",n,e);return t&&new Ue(t)},deps:[[new Jt,Ek],Za]};let oEe=(()=>{class n{constructor(){Ht("angularfire",Vd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Je({providers:[rEe,iEe]}),n})();function sEe(n,...e){return{ngModule:oEe,providers:[{provide:Ek,useFactory:nEe(n),multi:!0,deps:[Ae,$t,qp,Wp,[new Jt,Yp],...e]}]}}const ZH=Ei(dxe,!0),Uo=Ei(eEe,!0),xs=Ei(xxe,!0),Ik=Ei(hxe,!0),gi=Ei(Cxe,!0);let JH=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){gi(this.auth).then(()=>{}).catch(t=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(ke))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-auth"]],decls:12,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText",3,"click"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"span",2),J("click",function(){return r.Home()}),v(3,"Gestion de Muestras"),p()(),Q(4,"div",3)(5,"div",4),g(6,"div",5),J("click",function(){return r.Login()}),Q(7,"div",6),g(8,"span",7),v(9,"Ingersar"),p(),Q(10,"div",8),p()(),Q(11,"router-outlet"))},dependencies:[ul],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:20px;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;right:175px;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:10%;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:225%;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0;cursor:pointer}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:24%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})();var he,aEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zo={},Tk=Tk||{},$e=aEe||self;function Uv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ug(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Mk="closure_uid_"+(1e9*Math.random()>>>0),lEe=0;function uEe(n,e,t){return n.call.apply(n.bind,arguments)}function dEe(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uEe:dEe).apply(null,arguments)}function zv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ti(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function ic(){this.s=this.s,this.o=this.o}ic.prototype.s=!1,ic.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function cEe(n){Object.prototype.hasOwnProperty.call(n,Mk)&&n[Mk]||(n[Mk]=++lEe)}(this)},ic.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const e8=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Dk(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function t8(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Uv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function sr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}sr.prototype.h=function(){this.defaultPrevented=!0};var fEe=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return n}();function dg(n){return/^[\s\xa0]*$/.test(n)}function jv(){var n=$e.navigator;return n&&(n=n.userAgent)?n:""}function Cs(n){return-1!=jv().indexOf(n)}function Ak(n){return Ak[" "](n),n}Ak[" "]=function(){};var kk,n,gEe=Cs("Opera"),$d=Cs("Trident")||Cs("MSIE"),n8=Cs("Edge"),Sk=n8||$d,i8=Cs("Gecko")&&!(-1!=jv().toLowerCase().indexOf("webkit")&&!Cs("Edge"))&&!(Cs("Trident")||Cs("MSIE"))&&!Cs("Edge"),mEe=-1!=jv().toLowerCase().indexOf("webkit")&&!Cs("Edge");function r8(){var n=$e.document;return n?n.documentMode:void 0}e:{var Ok="",Pk=(n=jv(),i8?/rv:([^\);]+)(\)|;)/.exec(n):n8?/Edge\/([\d\.]+)/.exec(n):$d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):mEe?/WebKit\/(\S+)/.exec(n):gEe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pk&&(Ok=Pk?Pk[1]:""),$d){var Rk=r8();if(null!=Rk&&Rk>parseFloat(Ok)){kk=String(Rk);break e}}kk=Ok}var _Ee=$e.document&&$d&&(r8()||parseInt(kk,10))||void 0;function hg(n,e){if(sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(i8){e:{try{Ak(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bEe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hg.$.h.call(this)}}Ti(hg,sr);var bEe={2:"touch",3:"pen",4:"mouse"};hg.prototype.h=function(){hg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fg="closure_listenable_"+(1e6*Math.random()|0),yEe=0;function vEe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++yEe,this.fa=this.ia=!1}function Hv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Fk(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function s8(n){const e={};for(const t in n)e[t]=n[t];return e}const a8="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c8(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<a8.length;o++)t=a8[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function $v(n){this.src=n,this.g={},this.h=0}function Lk(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=e8(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Hv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vk(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}$v.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Vk(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new vEe(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var Bk="closure_lm_"+(1e6*Math.random()|0),Uk={};function l8(n,e,t,i,r){if(i&&i.once)return d8(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)l8(n,e[o],t,i,r);return null}return t=$k(t),n&&n[fg]?n.O(e,t,ug(i)?!!i.capture:!!i,r):u8(n,e,t,!1,i,r)}function u8(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=ug(r)?!!r.capture:!!r,a=jk(n);if(a||(n[Bk]=a=new $v(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function xEe(){const e=CEe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)fEe||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(f8(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function d8(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)d8(n,e[o],t,i,r);return null}return t=$k(t),n&&n[fg]?n.P(e,t,ug(i)?!!i.capture:!!i,r):u8(n,e,t,!0,i,r)}function h8(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)h8(n,e[o],t,i,r);else i=ug(i)?!!i.capture:!!i,t=$k(t),n&&n[fg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vk(o=n.g[e],t,i,r))&&(Hv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=jk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vk(e,t,i,r)),(t=-1<n?e[n]:null)&&zk(t))}function zk(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[fg])Lk(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(f8(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=jk(e))?(Lk(t,n),0==t.h&&(t.src=null,e[Bk]=null)):Hv(n)}}}function f8(n){return n in Uk?Uk[n]:Uk[n]="on"+n}function CEe(n,e){if(n.fa)n=!0;else{e=new hg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&zk(n),n=t.call(i,e)}return n}function jk(n){return(n=n[Bk])instanceof $v?n:null}var Hk="__closure_events_fn_"+(1e9*Math.random()>>>0);function $k(n){return"function"==typeof n?n:(n[Hk]||(n[Hk]=function(e){return n.handleEvent(e)}),n[Hk])}function Mi(){ic.call(this),this.i=new $v(this),this.S=this,this.J=null}function $i(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new sr(e,n);else if(e instanceof sr)e.target=e.target||n;else{var r=e;c8(e=new sr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Gv(s,i,!0,e)&&r}if(r=Gv(s=e.g=n,i,!0,e)&&r,r=Gv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Gv(s=e.g=t[o],i,!1,e)&&r}function Gv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&Lk(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Ti(Mi,ic),Mi.prototype[fg]=!0,Mi.prototype.removeEventListener=function(n,e,t,i){h8(this,n,e,t,i)},Mi.prototype.N=function(){if(Mi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Hv(t[i]);delete n.g[e],n.h--}}this.J=null},Mi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Mi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Gk=$e.JSON.stringify;function IEe(){var n=qk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var p8=new class EEe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new MEe,n=>n.reset());class MEe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DEe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function AEe(n){$e.setTimeout(()=>{throw n},0)}let pg,gg=!1,qk=new class TEe{constructor(){this.h=this.g=null}add(e,t){const i=p8.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},g8=()=>{const n=$e.Promise.resolve(void 0);pg=()=>{n.then(SEe)}};var SEe=()=>{for(var n;n=IEe();){try{n.h.call(n.g)}catch(t){AEe(t)}var e=p8;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gg=!1};function qv(n,e){Mi.call(this),this.h=n||1,this.g=e||$e,this.j=or(this.qb,this),this.l=Date.now()}function Wk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Kk(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:$e.setTimeout(n,e||0)}function m8(n){n.g=Kk(()=>{n.g=null,n.i&&(n.i=!1,m8(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ti(qv,Mi),(he=qv.prototype).ga=!1,he.T=null,he.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$i(this,"tick"),this.ga&&(Wk(this),this.start()))}},he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.N=function(){qv.$.N.call(this),Wk(this),delete this.g};class kEe extends ic{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:m8(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mg(n){ic.call(this),this.h=n,this.g={}}Ti(mg,ic);var _8=[];function b8(n,e,t,i){Array.isArray(t)||(t&&(_8[0]=t.toString()),t=_8);for(var r=0;r<t.length;r++){var o=l8(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function y8(n){Fk(n.g,function(e,t){this.g.hasOwnProperty(t)&&zk(e)},n),n.g={}}function Wv(){this.g=!0}function Gd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function NEe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return Gk(t)}catch{return e}}(n,t)+(i?" "+i:"")})}mg.prototype.N=function(){mg.$.N.call(this),y8(this)},mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wv.prototype.Ea=function(){this.g=!1},Wv.prototype.info=function(){};var El={},v8=null;function Kv(){return v8=v8||new Mi}function w8(n){sr.call(this,El.Ta,n)}function _g(n){const e=Kv();$i(e,new w8(e))}function x8(n,e){sr.call(this,El.STAT_EVENT,n),this.stat=e}function Cr(n){const e=Kv();$i(e,new x8(e,n))}function C8(n,e){sr.call(this,El.Ua,n),this.size=e}function bg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){n()},e)}El.Ta="serverreachability",Ti(w8,sr),El.STAT_EVENT="statevent",Ti(x8,sr),El.Ua="timingevent",Ti(C8,sr);var Qv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},E8={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qk(){}function T8(){}Qk.prototype.h=null;var Zk,yg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yk(){sr.call(this,"d")}function Xk(){sr.call(this,"c")}function Yv(){}function vg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new mg(this),this.P=FEe,this.V=new qv(n=Sk?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M8}function M8(){this.i=null,this.g="",this.h=!1}Ti(Yk,sr),Ti(Xk,sr),Ti(Yv,Qk),Yv.prototype.g=function(){return new XMLHttpRequest},Yv.prototype.i=function(){return{}},Zk=new Yv;var FEe=45e3,Jk={},Xv={};function eO(n,e,t){n.L=1,n.v=t0(ca(e)),n.s=t,n.S=!0,D8(n,null)}function D8(n,e){n.G=Date.now(),wg(n),n.A=ca(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),V8(t.i,"t",i),n.C=0,t=n.l.J,n.h=new M8,n.g=c$(n.l,t?e:null,!n.s),0<n.O&&(n.M=new kEe(or(n.Pa,n,n.g),n.O)),b8(n.U,n.g,"readystatechange",n.nb),e=n.I?s8(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),_g(),function OEe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function A8(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function S8(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=LEe(n,t),r==Xv){4==e&&(n.o=4,Cr(14),i=!1),Gd(n.j,n.m,null,"[Incomplete Response]");break}if(r==Jk){n.o=4,Cr(15),Gd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Gd(n.j,n.m,r,null),tO(n,r)}A8(n)&&r!=Xv&&r!=Jk&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Cr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),cO(e),e.M=!0,Cr(11))):(Gd(n.j,n.m,t,"[Invalid Chunked Response]"),Il(n),xg(n))}function LEe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Xv:(t=Number(e.substring(t,i)),isNaN(t)?Jk:(i+=1)+t>e.length?Xv:(e=e.slice(i,i+t),n.C=i+t,e))}function wg(n){n.Y=Date.now()+n.P,k8(n,n.P)}function k8(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bg(or(n.lb,n),e)}function Zv(n){n.B&&($e.clearTimeout(n.B),n.B=null)}function xg(n){0==n.l.H||n.J||r$(n.l,n)}function Il(n){Zv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Wk(n.V),y8(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||nO(t.i,n)))if(!n.K&&nO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;c0(t),s0(t)}aO(t),Cr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=bg(or(t.ib,t),6e3));if(1>=z8(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ml(t,11)}else if((n.K||t.g==n)&&c0(t),!dg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const b=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(iO(o,o.h),o.h=null))}if(i.F){const C=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,dn(i.I,i.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=a$(i,i.J?i.pa:null,i.Y),s.K){j8(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(Zv(a),wg(a)),i.g=s}else n$(i);0<t.j.length&&a0(t)}else"stop"!=l[0]&&"close"!=l[0]||Ml(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ml(t,7):sO(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}_g()}catch{}}function O8(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function BEe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Uv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function VEe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Uv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(he=vg.prototype).setTimeout=function(n){this.P=n},he.nb=function(n){n=n.target;const e=this.M;e&&3==Es(n)?e.l():this.Pa(n)},he.Pa=function(n){try{if(n==this.g)e:{const u=Es(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Sk||this.g&&(this.h.h||this.g.ja()||Y8(this.g)))){this.J||4!=u||7==e||_g(),Zv(this);var t=this.g.da();this.ca=t;t:if(A8(this)){var i=Y8(this.g);n="";var r=i.length,o=4==Es(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Il(this),xg(this);var s="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function PEe(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Cr(12),Il(this),xg(this);break e}Gd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tO(this,t)}this.S?(S8(this,u,s),Sk&&this.i&&3==u&&(b8(this.U,this.V,"tick",this.mb),this.V.start())):(Gd(this.j,this.m,s,null),tO(this,s)),4==u&&Il(this),this.i&&!this.J&&(4==u?r$(this.l,this):(this.i=!1,wg(this)))}else(function i1e(n){const e={};n=(n.g&&2<=Es(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(dg(n[i]))continue;var t=DEe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function wEe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Cr(12)):(this.o=0,Cr(13)),Il(this),xg(this)}}}catch{}},he.mb=function(){if(this.g){var n=Es(this.g),e=this.g.ja();this.C<e.length&&(Zv(this),S8(this,n,e),this.i&&4!=n&&wg(this))}},he.cancel=function(){this.J=!0,Il(this)},he.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function REe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_g(),Cr(17)),Il(this),this.o=2,xg(this)):k8(this,this.Y-n)};var P8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Tl){this.h=n.h,Jv(this,n.j),this.s=n.s,this.g=n.g,e0(this,n.m),this.l=n.l;var e=n.i,t=new Ig;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),R8(this,t),this.o=n.o}else n&&(e=String(n).match(P8))?(this.h=!1,Jv(this,e[1]||"",!0),this.s=Cg(e[2]||""),this.g=Cg(e[3]||"",!0),e0(this,e[4]),this.l=Cg(e[5]||"",!0),R8(this,e[6]||"",!0),this.o=Cg(e[7]||"")):(this.h=!1,this.i=new Ig(null,this.h))}function ca(n){return new Tl(n)}function Jv(n,e,t){n.j=t?Cg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function e0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function R8(n,e,t){e instanceof Ig?(n.i=e,function qEe(n,e){e&&!n.j&&(rc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(F8(this,i),V8(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Eg(e,$Ee)),n.i=new Ig(e,n.h))}function dn(n,e,t){n.i.set(e,t)}function t0(n){return dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Eg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zEe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zEe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Tl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Eg(e,N8,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Eg(e,N8,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Eg(t,"/"==t.charAt(0)?HEe:jEe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Eg(t,GEe)),n.join("")};var N8=/[#\/\?@]/g,jEe=/[#\?:]/g,HEe=/[#\?]/g,$Ee=/[#\?@]/g,GEe=/#/g;function Ig(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function UEe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function F8(n,e){rc(n),e=qd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function L8(n,e){return rc(n),e=qd(n,e),n.g.has(e)}function V8(n,e,t){F8(n,e),0<t.length&&(n.i=null,n.g.set(qd(n,e),Dk(t)),n.h+=t.length)}function qd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(he=Ig.prototype).add=function(n,e){rc(this),this.i=null,n=qd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},he.forEach=function(n,e){rc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},he.ta=function(){rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},he.Z=function(n){rc(this);let e=[];if("string"==typeof n)L8(this,n)&&(e=e.concat(this.g.get(qd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},he.set=function(n,e){return rc(this),this.i=null,L8(this,n=qd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},he.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var WEe=class{constructor(n,e){this.g=n,this.map=e}};function B8(n){this.l=n||KEe,n=$e.PerformanceNavigationTiming?0<(n=$e.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KEe=10;function U8(n){return!!n.h||!!n.g&&n.g.size>=n.j}function z8(n){return n.h?1:n.g?n.g.size:0}function nO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function iO(n,e){n.g?n.g.add(e):n.h=e}function j8(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function H8(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Dk(n.i)}B8.prototype.cancel=function(){if(this.i=H8(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var QEe=class{stringify(n){return $e.JSON.stringify(n,void 0)}parse(n){return $e.JSON.parse(n,void 0)}};function YEe(){this.g=new QEe}function XEe(n,e,t){const i=t||"";try{O8(n,function(r,o){let s=r;ug(r)&&(s=Gk(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function n0(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Tg(n){this.l=n.fc||null,this.j=n.ob||!1}function r0(n,e){Mi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=rO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ti(Tg,Qk),Tg.prototype.g=function(){return new r0(this.l,this.j)},Tg.prototype.i=function(n){return function(){return n}}({}),Ti(r0,Mi);var rO=0;function $8(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Mg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dg(n)}function Dg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(he=r0.prototype).open=function(n,e){if(this.readyState!=rO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dg(this)},he.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mg(this)),this.readyState=rO},he.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dg(this)),this.g&&(this.readyState=3,Dg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$8(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},he.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Mg(this):Dg(this),3==this.readyState&&$8(this)}},he.Za=function(n){this.g&&(this.response=this.responseText=n,Mg(this))},he.Ya=function(n){this.g&&(this.response=n,Mg(this))},he.ka=function(){this.g&&Mg(this)},he.setRequestHeader=function(n,e){this.v.append(n,e)},he.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(r0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JEe=$e.JSON.parse;function Vn(n){Mi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=G8,this.L=this.M=!1}Ti(Vn,Mi);var G8="",e1e=/^https?$/i,t1e=["POST","PUT"];function q8(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,W8(n),o0(n)}function W8(n){n.F||(n.F=!0,$i(n,"complete"),$i(n,"error"))}function K8(n){if(n.h&&typeof Tk<"u"&&(!n.C[1]||4!=Es(n)||2!=n.da()))if(n.v&&4==Es(n))Kk(n.La,0,n);else if($i(n,"readystatechange"),4==Es(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(P8)[1]||null;!r&&$e.self&&$e.self.location&&(r=$e.self.location.protocol.slice(0,-1)),i=!e1e.test(r?r.toLowerCase():"")}t=i}if(t)$i(n,"complete"),$i(n,"success");else{n.m=6;try{var o=2<Es(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",W8(n)}}finally{o0(n)}}}function o0(n,e){if(n.g){Q8(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$i(n,"ready");try{t.onreadystatechange=i}catch{}}}function Q8(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($e.clearTimeout(n.A),n.A=null)}function Es(n){return n.g?n.g.readyState:0}function Y8(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case G8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function X8(n){let e="";return Fk(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function oO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=X8(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):dn(n,e,t))}function Ag(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Z8(n){this.Ga=0,this.j=[],this.l=new Wv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ag("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ag("baseRetryDelayMs",5e3,n),this.hb=Ag("retryDelaySeedMs",1e4,n),this.eb=Ag("forwardChannelMaxRetries",2,n),this.xa=Ag("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new B8(n&&n.concurrentRequestLimit),this.Ja=new YEe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sO(n){if(J8(n),3==n.H){var e=n.W++,t=ca(n.I);if(dn(t,"SID",n.K),dn(t,"RID",e),dn(t,"TYPE","terminate"),Sg(n,t),(e=new vg(n,n.l,e)).L=2,e.v=t0(ca(t)),t=!1,$e.navigator&&$e.navigator.sendBeacon)try{t=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$e.Image&&((new Image).src=e.v,t=!0),t||(e.g=c$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wg(e)}s$(n)}function s0(n){n.g&&(cO(n),n.g.cancel(),n.g=null)}function J8(n){s0(n),n.u&&($e.clearTimeout(n.u),n.u=null),c0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$e.clearTimeout(n.m),n.m=null)}function a0(n){if(!U8(n.i)&&!n.m){n.m=!0;var e=n.Na;pg||g8(),gg||(pg(),gg=!0),qk.add(e,n),n.C=0}}function e$(n,e){var t;t=e?e.m:n.W++;const i=ca(n.I);dn(i,"SID",n.K),dn(i,"RID",t),dn(i,"AID",n.V),Sg(n,i),n.o&&n.s&&oO(i,n.o,n.s),t=new vg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=t$(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),iO(n.i,t),eO(t,i,e)}function Sg(n,e){n.na&&Fk(n.na,function(t,i){dn(e,i,t)}),n.h&&O8({},function(t,i){dn(e,i,t)})}function t$(n,e,t){t=Math.min(n.j.length,t);var i=n.h?or(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g;const u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{XEe(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function n$(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;pg||g8(),gg||(pg(),gg=!0),qk.add(e,n),n.A=0}}function aO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=bg(or(n.Ma,n),o$(n,n.A)),n.A++,0))}function cO(n){null!=n.B&&($e.clearTimeout(n.B),n.B=null)}function i$(n){n.g=new vg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ca(n.wa);dn(e,"RID","rpc"),dn(e,"SID",n.K),dn(e,"AID",n.V),dn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&dn(e,"TO",n.qa),dn(e,"TYPE","xmlhttp"),Sg(n,e),n.o&&n.s&&oO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=t0(ca(e)),t.s=null,t.S=!0,D8(t,n)}function c0(n){null!=n.v&&($e.clearTimeout(n.v),n.v=null)}function r$(n,e){var t=null;if(n.g==e){c0(n),cO(n),n.g=null;var i=2}else{if(!nO(n.i,e))return;t=e.F,j8(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;$i(i=Kv(),new C8(i,t)),a0(n)}else n$(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function r1e(n,e){return!(z8(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=bg(or(n.Na,n,e),o$(n,n.C)),n.C++,0)))}(n,e)||2==i&&aO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ml(n,5);break;case 4:Ml(n,10);break;case 3:Ml(n,6);break;default:Ml(n,2)}}function o$(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ml(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=or(n.pb,n);t||(t=new Tl("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||Jv(t,"https"),t0(t)),function ZEe(n,e){const t=new Wv;if($e.Image){const i=new Image;i.onload=zv(n0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=zv(n0,t,i,"TestLoadImage: error",!1,e),i.onabort=zv(n0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=zv(n0,t,i,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Cr(2);n.H=0,n.h&&n.h.za(e),s$(n),J8(n)}function s$(n){if(n.H=0,n.ma=[],n.h){const e=H8(n.i);(0!=e.length||0!=n.j.length)&&(t8(n.ma,e),t8(n.ma,n.j),n.i.i.length=0,Dk(n.j),n.j.length=0),n.h.ya()}}function a$(n,e,t){var i=t instanceof Tl?ca(t):new Tl(t);if(""!=i.g)e&&(i.g=e+"."+i.g),e0(i,i.m);else{var r=$e.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Tl(null);i&&Jv(o,i),e&&(o.g=e),r&&e0(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&dn(i,t,e),dn(i,"VER",n.ra),Sg(n,i),i}function c$(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(t&&n.Ha&&!n.va?new Tg({ob:!0}):n.va)).Oa(n.J),e}function l$(){}function l0(){if($d&&!(10<=Number(_Ee)))throw Error("Environmental error: no available transport.")}function Xr(n,e){Mi.call(this),this.g=new Z8(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!dg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wd(this)}function u$(n){Yk.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function d$(){Xk.call(this),this.status=1}function Wd(n){this.g=n}function jo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lO(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ft(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(he=Vn.prototype).Oa=function(n){this.M=n},he.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zk.g(),this.C=function I8(n){return n.h||(n.h=n.i())}(this.u?this.u:Zk),this.g.onreadystatechange=or(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void q8(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=$e.FormData&&n instanceof $e.FormData,!(0<=e8(t1e,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Q8(this),0<this.B&&((this.L=function n1e(n){return $d&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.ua,this)):this.A=Kk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){q8(this,o)}},he.ua=function(){typeof Tk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))},he.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$i(this,"complete"),$i(this,"abort"),o0(this))},he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),o0(this,!0)),Vn.$.N.call(this)},he.La=function(){this.s||(this.G||this.v||this.l?K8(this):this.kb())},he.kb=function(){K8(this)},he.isActive=function(){return!!this.g},he.da=function(){try{return 2<Es(this)?this.g.status:-1}catch{return-1}},he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JEe(e)}},he.Ia=function(){return this.m},he.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=Z8.prototype).ra=8,he.H=1,he.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new vg(this,this.l,n);let o=this.s;if(this.U&&(o?(o=s8(o),c8(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=t$(this,r,e),dn(t=ca(this.I),"RID",n),dn(t,"CVER",22),this.F&&dn(t,"X-HTTP-Session-Id",this.F),Sg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(X8(o)))+"&"+e:this.o&&oO(t,this.o,o)),iO(this.i,r),this.bb&&dn(t,"TYPE","init"),this.P?(dn(t,"$req",e),dn(t,"SID","null"),r.aa=!0,eO(r,t,null)):eO(r,t,e),this.H=2}}else 3==this.H&&(n?e$(this,n):0==this.j.length||U8(this.i)||e$(this))},he.Ma=function(){if(this.u=null,i$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=bg(or(this.jb,this),n)}},he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cr(10),s0(this),i$(this))},he.ib=function(){null!=this.v&&(this.v=null,s0(this),aO(this),Cr(19))},he.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Cr(2)):(this.l.info("Failed to ping google.com"),Cr(1))},he.isActive=function(){return!!this.h&&this.h.isActive(this)},(he=l$.prototype).Ba=function(){},he.Aa=function(){},he.za=function(){},he.ya=function(){},he.isActive=function(){return!0},he.Va=function(){},l0.prototype.g=function(n,e){return new Xr(n,e)},Ti(Xr,Mi),Xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Cr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=a$(n,null,n.Y),a0(n)},Xr.prototype.close=function(){sO(this.g)},Xr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Gk(n),n=t);e.j.push(new WEe(e.fb++,n)),3==e.H&&a0(e)},Xr.prototype.N=function(){this.g.h=null,delete this.j,sO(this.g),delete this.g,Xr.$.N.call(this)},Ti(u$,Yk),Ti(d$,Xk),Ti(Wd,l$),Wd.prototype.Ba=function(){$i(this.g,"a")},Wd.prototype.Aa=function(n){$i(this.g,new u$(n))},Wd.prototype.za=function(n){$i(this.g,new d$)},Wd.prototype.ya=function(){$i(this.g,"b")},Ti(jo,function o1e(){this.blockSize=-1}),jo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},jo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)lO(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){lO(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){lO(this,i),r=0;break}}this.h=r,this.i+=e},jo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var s1e={};function uO(n){return-128<=n&&128>n?function pEe(n,e){var t=s1e;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ft([0|e],0>e?-1:0)}):new Ft([0|n],0>n?-1:0)}function Is(n){if(isNaN(n)||!isFinite(n))return Kd;if(0>n)return Gi(Is(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=dO;return new Ft(e,0)}var dO=4294967296,Kd=uO(0),hO=uO(1),f$=uO(16777216);function la(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function yo(n){return-1==n.h}function Gi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ft(t,~n.h).add(hO)}function u0(n,e){return n.add(Gi(e))}function d0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function kg(n,e){this.g=n,this.h=e}function h0(n,e){if(la(e))throw Error("division by zero");if(la(n))return new kg(Kd,Kd);if(yo(n))return e=h0(Gi(n),e),new kg(Gi(e.g),Gi(e.h));if(yo(e))return e=h0(n,Gi(e)),new kg(Gi(e.g),e.h);if(30<n.g.length){if(yo(n)||yo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=hO,i=e;0>=i.X(n);)t=p$(t),i=p$(i);var r=Qd(t,1),o=Qd(i,1);for(i=Qd(i,2),t=Qd(t,2);!la(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Qd(i,1),t=Qd(t,1)}return e=u0(n,r.R(e)),new kg(r,e)}for(r=Kd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Is(t)).R(e);yo(s)||0<s.X(n);)s=(o=Is(t-=i)).R(e);la(o)&&(o=hO),r=r.add(o),n=u0(n,s)}return new kg(r,n)}function p$(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ft(t,n.h)}function Qd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Ft(r,n.h)}(he=Ft.prototype).ea=function(){if(yo(this))return-Gi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:dO+i)*e,e*=dO}return n},he.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(la(this))return"0";if(yo(this))return"-"+Gi(this).toString(n);for(var e=Is(Math.pow(n,6)),t=this,i="";;){var r=h0(t,e).g,o=((0<(t=u0(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(la(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},he.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},he.X=function(n){return yo(n=u0(this,n))?-1:la(n)?0:1},he.abs=function(){return yo(this)?Gi(this):this},he.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Ft(t,-2147483648&t[t.length-1]?-1:0)},he.R=function(n){if(la(this)||la(n))return Kd;if(yo(this))return yo(n)?Gi(this).R(Gi(n)):Gi(Gi(this).R(n));if(yo(n))return Gi(this.R(Gi(n)));if(0>this.X(f$)&&0>n.X(f$))return Is(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,d0(t,2*i+2*r),t[2*i+2*r+1]+=o*c,d0(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,d0(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,d0(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ft(t,0)},he.gb=function(n){return h0(this,n).h},he.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ft(t,this.h&n.h)},he.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ft(t,this.h|n.h)},he.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ft(t,this.h^n.h)},l0.prototype.createWebChannel=l0.prototype.g,Xr.prototype.send=Xr.prototype.u,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,Qv.NO_ERROR=0,Qv.TIMEOUT=8,Qv.HTTP_ERROR=6,E8.COMPLETE="complete",T8.EventType=yg,yg.OPEN="a",yg.CLOSE="b",yg.ERROR="c",yg.MESSAGE="d",Mi.prototype.listen=Mi.prototype.O,Vn.prototype.listenOnce=Vn.prototype.P,Vn.prototype.getLastError=Vn.prototype.Sa,Vn.prototype.getLastErrorCode=Vn.prototype.Ia,Vn.prototype.getStatus=Vn.prototype.da,Vn.prototype.getResponseJson=Vn.prototype.Wa,Vn.prototype.getResponseText=Vn.prototype.ja,Vn.prototype.send=Vn.prototype.ha,Vn.prototype.setWithCredentials=Vn.prototype.Oa,jo.prototype.digest=jo.prototype.l,jo.prototype.reset=jo.prototype.reset,jo.prototype.update=jo.prototype.j,Ft.prototype.add=Ft.prototype.add,Ft.prototype.multiply=Ft.prototype.R,Ft.prototype.modulo=Ft.prototype.gb,Ft.prototype.compare=Ft.prototype.X,Ft.prototype.toNumber=Ft.prototype.ea,Ft.prototype.toString=Ft.prototype.toString,Ft.prototype.getBits=Ft.prototype.D,Ft.fromNumber=Is,Ft.fromString=function h$(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gi(h$(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Is(Math.pow(e,8)),i=Kd,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Is(Math.pow(e,o)),i=i.R(o).add(Is(s))):i=(i=i.R(t)).add(Is(s))}return i};var a1e=zo.createWebChannelTransport=function(){return new l0},c1e=zo.getStatEventTarget=function(){return Kv()},fO=zo.ErrorCode=Qv,l1e=zo.EventType=E8,u1e=zo.Event=El,g$=zo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},d1e=zo.FetchXmlHttpFactory=Tg,f0=zo.WebChannel=T8,h1e=zo.XhrIo=Vn,f1e=zo.Md5=jo,Yd=zo.Integer=Ft;const m$="@firebase/firestore";class Di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");let Xd="9.23.0";const oc=new hl("@firebase/firestore");function pO(){return oc.logLevel}function ie(n,...e){if(oc.logLevel<=bt.DEBUG){const t=e.map(gO);oc.debug(`Firestore (${Xd}): ${n}`,...t)}}function Yn(n,...e){if(oc.logLevel<=bt.ERROR){const t=e.map(gO);oc.error(`Firestore (${Xd}): ${n}`,...t)}}function Ho(n,...e){if(oc.logLevel<=bt.WARN){const t=e.map(gO);oc.warn(`Firestore (${Xd}): ${n}`,...t)}}function gO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function me(n="Unexpected state"){const e=`FIRESTORE (${Xd}) INTERNAL ASSERTION FAILED: `+n;throw Yn(e),new Error(e)}function we(n,e){n||me()}function de(n,e){return n}const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends _o{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Di.UNAUTHENTICATED))}shutdown(){}}class g1e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class m1e{constructor(e){this.t=e,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(_(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we("string"==typeof i.accessToken),new _$(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(null===e||"string"==typeof e),new Di(e)}}class _1e{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class b1e{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new _1e(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y1e{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we("string"==typeof t.token),this.T=t.token,new b$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function v1e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class y${static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=v1e(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function Zd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function v$(n){return n+"\0"}class An{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ee(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new An(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new An(0,0))}static max(){return new xe(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Og{constructor(e,t,i){void 0===t?t=0:t>e.length&&me(),void 0===i?i=e.length-t:i>e.length-t&&me(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Og.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Og?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ct extends Og{construct(e,t,i){return new Ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ee(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Ct(t)}static emptyPath(){return new Ct([])}}const w1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Og{construct(e,t,i){return new Xn(e,t,i)}static isValidIdentifier(e){return w1e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ee(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ee(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ee(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ee(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ct.fromString(e))}static fromName(e){return new ce(Ct.fromString(e).popFirst(5))}static empty(){return new ce(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ct.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ct(e.slice()))}}class p0{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function mO(n){return n.fields.find(e=>2===e.kind)}function Dl(n){return n.fields.filter(e=>2!==e.kind)}p0.UNKNOWN_ID=-1;class g0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pg(0,Zr.min())}}function x$(n){return new Zr(n.readTime,n.key,-1)}class Zr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Zr(xe.min(),ce.empty(),-1)}static max(){return new Zr(xe.max(),ce.empty(),-1)}}function _O(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ce.comparator(n.documentKey,e.documentKey),0!==t?t:ze(n.largestBatchId,e.largestBatchId))}const C$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sc(n){return bO.apply(this,arguments)}function bO(){return bO=_(function*(n){if(n.code!==V.FAILED_PRECONDITION||n.message!==C$)throw n;ie("LocalStore","Unexpectedly lost primary lease")}),bO.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,i)=>{t(e)})}static reject(e){return new L((t,i)=>{i(e)})}static waitFor(e){return new L((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=L.resolve(!1);for(const i of e)t=t.next(r=>r?L.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new L((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new L((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class m0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new mi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Rg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=yO(i.target.error);this.v.reject(new Rg(e,r))}}static open(e,t,i,r){try{return new m0(t,e.transaction(r,i))}catch(o){throw new Rg(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new I1e(t)}}class $o{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===$o.S(Qn())&&Yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ie("SimpleDb","Removing database:",e),Al(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Wa())return!1;if($o.C())return!0;const e=Qn(),t=$o.S(e),i=0<t&&t<10,r=$o.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return _(function*(){return t.db||(ie("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Rg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ee(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ee(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Rg(e,a))},o.onupgradeneeded=s=>{ie("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{ie("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return _(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=m0.open(o.db,e,s?"readonly":"readwrite",i),l=r(c).next(u=>(c.P(),u)).catch(u=>(c.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(ie("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class E1e{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Al(this.L.delete())}}class Rg extends ee{constructor(e,t){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ac(n){return"IndexedDbTransactionError"===n.name}class I1e{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ie("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Al(i)}add(e){return ie("SimpleDb","ADD",this.store.name,e,e),Al(this.store.add(e))}get(e){return Al(this.store.get(e)).next(t=>(void 0===t&&(t=null),ie("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ie("SimpleDb","DELETE",this.store.name,e),Al(this.store.delete(e))}count(){return ie("SimpleDb","COUNT",this.store.name),Al(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new L((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new L((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,t){ie("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new L((i,r)=>{t.onerror=o=>{const s=yO(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,t){const i=[];return new L((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new E1e(a),l=t(a.primaryKey,a.value,c);if(l instanceof L){const u=l.catch(d=>(c.done(),L.reject(d)));i.push(u)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>L.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Al(n){return new L((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=yO(i.target.error);t(r)}})}let I$=!1;function yO(n){const e=$o.S(Qn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return I$||(I$=!0,setTimeout(()=>{throw i},0)),i}}return n}class T1e{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ie("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_(function*(){t.task=null;try{ie("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){ac(i)?ie("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield sc(i)}yield t.et(6e4)}))}}class M1e{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return _(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return L.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return ie("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(ie("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=x$(o);_O(s,i)>0&&(i=s)}),new Zr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Jr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ng(n){return null==n}function Fg(n){return 0===n&&1/n==-1/0}function ar(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=M$(e)),e=D1e(n.get(t),e);return M$(e)}function D1e(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function M$(n){return n+"\x01\x01"}function Ts(n){const e=n.length;if(we(e>=2),2===e)return we("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ct.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&me(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:me()}o=s+2}return new Ct(i)}const D$=["userId","batchId"];function _0(n,e){return[n,ar(e)]}function A$(n,e,t){return[n,ar(e),t]}const A1e={},S1e=["prefixPath","collectionGroup","readTime","documentId"],k1e=["prefixPath","collectionGroup","documentId"],O1e=["collectionGroup","readTime","prefixPath","documentId"],P1e=["canonicalId","targetId"],R1e=["targetId","path"],N1e=["path","targetId"],F1e=["collectionId","parent"],L1e=["indexId","uid"],V1e=["uid","sequenceNumber"],B1e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],U1e=["indexId","uid","orderedDocumentKey"],z1e=["userId","collectionPath","documentId"],j1e=["userId","collectionPath","largestBatchId"],H1e=["userId","collectionGroup","largestBatchId"],S$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$1e=[...S$,"documentOverlays"],k$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],O$=k$,G1e=[...O$,"indexConfiguration","indexState","indexEntries"];class vO extends E${constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ai(n,e){const t=de(n);return $o.M(t.ht,e)}function P$(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function R$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class on{constructor(e,t){this.comparator=e,this.root=t||qi.EMPTY}insert(e,t){return new on(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new b0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new b0(this.root,e,this.comparator,!1)}getReverseIterator(){return new b0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new b0(this.root,e,this.comparator,!0)}}class b0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??qi.RED,this.left=r??qi.EMPTY,this.right=o??qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new qi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(n,e,t,i,r){return this}insert(n,e,t){return new qi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hn{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new N$(this.data.getIterator())}getIteratorFrom(e){return new N$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class N${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jd(n){return n.hasNext()?n.getNext():void 0}class Br{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Br([])}unionWith(e){let t=new hn(Xn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class F$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new F$("Invalid base64 string: "+r):r}}(e);return new _i(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new _i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const q1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(n){if(we(!!n),"string"==typeof n){let e=0;const t=q1e.exec(n);if(we(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bn(n.seconds),nanos:Bn(n.nanos)}}function Bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ua(n){return"string"==typeof n?_i.fromBase64String(n):_i.fromUint8Array(n)}function y0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function v0(n){const e=n.mapValue.fields.__previous_value__;return y0(e)?v0(e):e}function Lg(n){const e=lc(n.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}class W1e{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Sl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},w0={nullValue:"NULL_VALUE"};function dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?y0(n)?4:U$(n)?9007199254740991:10:me()}function Ms(n,e){if(n===e)return!0;const t=dc(n);if(t!==dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lg(n).isEqual(Lg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=lc(i.timestampValue),s=lc(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,ua(n.bytesValue).isEqual(ua(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Bn(i.geoPointValue.latitude)===Bn(r.geoPointValue.latitude)&&Bn(i.geoPointValue.longitude)===Bn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bn(i.integerValue)===Bn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Bn(i.doubleValue),s=Bn(r.doubleValue);return o===s?Fg(o)===Fg(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Zd(n.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(P$(o)!==P$(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Ms(o[a],s[a])))return!1;return!0}(n,e);default:return me()}var r}function Vg(n,e){return void 0!==(n.values||[]).find(t=>Ms(t,e))}function hc(n,e){if(n===e)return 0;const t=dc(n),i=dc(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=Bn(r.integerValue||r.doubleValue),a=Bn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return L$(n.timestampValue,e.timestampValue);case 4:return L$(Lg(n),Lg(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(r,o){const s=ua(r),a=ua(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=ze(s[c],a[c]);if(0!==l)return l}return ze(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=ze(Bn(r.latitude),Bn(o.latitude));return 0!==s?s:ze(Bn(r.longitude),Bn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=hc(s[c],a[c]);if(l)return l}return ze(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===uc.mapValue&&o===uc.mapValue)return 0;if(r===uc.mapValue)return 1;if(o===uc.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=ze(a[u],l[u]);if(0!==d)return d;const h=hc(s[a[u]],c[l[u]]);if(0!==h)return h}return ze(a.length,l.length)}(n.mapValue,e.mapValue);default:throw me()}}function L$(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ze(n,e);const t=lc(n),i=lc(e),r=ze(t.seconds,i.seconds);return 0!==r?r:ze(t.nanos,i.nanos)}function eh(n){return wO(n)}function wO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=lc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ua(n.bytesValue).toBase64():"referenceValue"in n?ce.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=wO(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${wO(i.fields[a])}`;return o+"}"}(n.mapValue):me();var e}function kl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xO(n){return!!n&&"integerValue"in n}function Bg(n){return!!n&&"arrayValue"in n}function V$(n){return!!n&&"nullValue"in n}function B$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function C0(n){return!!n&&"mapValue"in n}function Ug(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ug(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ug(n.arrayValue.values[t]);return e}return Object.assign({},n)}function U$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function K1e(n){return"nullValue"in n?w0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kl(Sl.empty(),ce.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:me()}function Q1e(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kl(Sl.empty(),ce.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?uc:me()}function z$(n,e){const t=hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function j$(n,e){const t=hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!C0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ug(t)}setAll(e){let t=Xn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Ug(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());C0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];C0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){cc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Wi(Ug(this.value))}}function H$(n){const e=[];return cc(n.fields,(t,i)=>{const r=new Xn([t]);if(C0(i)){const o=H$(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Br(e)}class fn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,xe.min(),xe.min(),xe.min(),Wi.empty(),0)}static newFoundDocument(e,t,i,r){return new fn(e,1,t,xe.min(),i,r,0)}static newNoDocument(e,t){return new fn(e,2,t,xe.min(),xe.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,xe.min(),xe.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fc{constructor(e,t){this.position=e,this.inclusive=t}}function $$(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ce.comparator(ce.fromName(s.referenceValue),t.key):hc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function G$(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ms(n.position[t],e.position[t]))return!1;return!0}class th{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y1e(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class q${}class pt extends q${constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new X1e(e,t,i):"array-contains"===t?new eIe(e,i):"in"===t?new Z$(e,i):"not-in"===t?new tIe(e,i):"array-contains-any"===t?new nIe(e,i):new pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Z1e(e,i):new J1e(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hc(t,this.value)):null!==t&&dc(this.value)===dc(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Lt extends q${constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Lt(e,t)}matches(e){return nh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function nh(n){return"and"===n.op}function CO(n){return"or"===n.op}function EO(n){return W$(n)&&nh(n)}function W$(n){for(const e of n.filters)if(e instanceof Lt)return!1;return!0}function IO(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+eh(n.value);if(EO(n))return n.filters.map(e=>IO(e)).join(",");{const e=n.filters.map(t=>IO(t)).join(",");return`${n.op}(${e})`}}function K$(n,e){return n instanceof pt?(t=n,(i=e)instanceof pt&&t.op===i.op&&t.field.isEqual(i.field)&&Ms(t.value,i.value)):n instanceof Lt?function(t,i){return i instanceof Lt&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&K$(o,i.filters[s]),!0)}(n,e):void me();var t,i}function Q$(n,e){const t=n.filters.concat(e);return Lt.create(t,n.op)}function Y$(n){return n instanceof pt?`${(e=n).field.canonicalString()} ${e.op} ${eh(e.value)}`:n instanceof Lt?function(e){return e.op.toString()+" {"+e.getFilters().map(Y$).join(" ,")+"}"}(n):"Filter";var e}class X1e extends pt{constructor(e,t,i){super(e,t,i),this.key=ce.fromName(i.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class Z1e extends pt{constructor(e,t){super(e,"in",t),this.keys=X$(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class J1e extends pt{constructor(e,t){super(e,"not-in",t),this.keys=X$(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function X$(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ce.fromName(i.referenceValue))}class eIe extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bg(t)&&Vg(t.arrayValue,this.value)}}class Z$ extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vg(this.value.arrayValue,t)}}class tIe extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vg(this.value.arrayValue,t)}}class nIe extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Vg(this.value.arrayValue,i))}}class iIe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function TO(n,e=null,t=[],i=[],r=null,o=null,s=null){return new iIe(n,e,t,i,r,o,s)}function Ol(n){const e=de(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>IO(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ng(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>eh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>eh(i)).join(",")),e.dt=t}return e.dt}function zg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y1e(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!K$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!G$(n.startAt,e.startAt)&&G$(n.endAt,e.endAt)}function E0(n){return ce.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function I0(n,e){return n.filters.filter(t=>t instanceof pt&&t.field.isEqual(e))}function J$(n,e,t){let i=w0,r=!0;for(const o of I0(n,e)){let s=w0,a=!0;switch(o.op){case"<":case"<=":s=K1e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=w0}z$({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];z$({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function eG(n,e,t){let i=uc,r=!0;for(const o of I0(n,e)){let s=uc,a=!0;switch(o.op){case">=":case">":s=Q1e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=uc}j$({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];j$({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class da{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function ih(n){return new da(n)}function nG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function MO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function T0(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function DO(n){return null!==n.collectionGroup}function Pl(n){const e=de(n);if(null===e.wt){e.wt=[];const t=T0(e),i=MO(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new th(t)),e.wt.push(new th(Xn.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new th(Xn.keyField(),o))}}}return e.wt}function Er(n){const e=de(n);if(!e._t)if("F"===e.limitType)e._t=TO(e.path,e.collectionGroup,Pl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Pl(e))t.push(new th(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new fc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new fc(e.startAt.position,e.startAt.inclusive):null;e._t=TO(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function AO(n,e){e.getFirstInequalityField(),T0(n);const t=n.filters.concat([e]);return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function M0(n,e,t){return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jg(n,e){return zg(Er(n),Er(e))&&n.limitType===e.limitType}function iG(n){return`${Ol(Er(n))}|lt:${n.limitType}`}function SO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Y$(i)).join(", ")}]`),Ng(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>eh(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>eh(i)).join(",")),`Target(${t})`}(Er(n))}; limitType=${n.limitType})`}function Hg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ce.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Pl(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=$$(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,Pl(t),i)||t.endAt&&!function(r,o,s){const a=$$(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,Pl(t),i)));var t,i}function oG(n){return(e,t)=>{let i=!1;for(const r of Pl(n)){const o=rIe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function rIe(n,e,t){const i=n.field.isKeyField()?ce.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),c=s.data.field(r);return null!==a&&null!==c?hc(a,c):me()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return me()}}class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return R$(this.inner)}size(){return this.innerSize}}const oIe=new on(ce.comparator);function Ur(){return oIe}const sG=new on(ce.comparator);function $g(...n){let e=sG;for(const t of n)e=e.insert(t.key,t);return e}function aG(n){let e=sG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ds(){return Gg()}function cG(){return Gg()}function Gg(){return new ha(n=>n.toString(),(n,e)=>n.isEqual(e))}const sIe=new on(ce.comparator),aIe=new hn(ce.comparator);function Ye(...n){let e=aIe;for(const t of n)e=e.add(t);return e}const cIe=new hn(ze);function lG(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fg(e)?"-0":e}}function uG(n){return{integerValue:""+n}}function dG(n,e){return function T$(n){return"number"==typeof n&&Number.isInteger(n)&&!Fg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?uG(e):lG(n,e)}class D0{constructor(){this._=void 0}}function lIe(n,e,t){return n instanceof rh?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&y0(r)&&(r=v0(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Rl?fG(n,e):n instanceof Nl?pG(n,e):function(i,r){const o=hG(i,r),s=gG(o)+gG(i.gt);return xO(o)&&xO(i.gt)?uG(s):lG(i.serializer,s)}(n,e)}function uIe(n,e,t){return n instanceof Rl?fG(n,e):n instanceof Nl?pG(n,e):t}function hG(n,e){return n instanceof oh?xO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class rh extends D0{}class Rl extends D0{constructor(e){super(),this.elements=e}}function fG(n,e){const t=mG(e);for(const i of n.elements)t.some(r=>Ms(r,i))||t.push(i);return{arrayValue:{values:t}}}class Nl extends D0{constructor(e){super(),this.elements=e}}function pG(n,e){let t=mG(e);for(const i of n.elements)t=t.filter(r=>!Ms(r,i));return{arrayValue:{values:t}}}class oh extends D0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function gG(n){return Bn(n.integerValue||n.doubleValue)}function mG(n){return Bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qg{constructor(e,t){this.field=e,this.transform=t}}class hIe{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class S0{}function _G(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ah(n.key,Cn.none()):new sh(n.key,n.data,Cn.none());{const t=n.data,i=Wi.empty();let r=new hn(Xn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new fa(n.key,i,new Br(r.toArray()),Cn.none())}}function fIe(n,e,t){n instanceof sh?function(i,r,o){const s=i.value.clone(),a=vG(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(i,r,o){if(!A0(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=vG(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(yG(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wg(n,e,t,i){return n instanceof sh?function(r,o,s,a){if(!A0(r.precondition,o))return s;const c=r.value.clone(),l=wG(r.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof fa?function(r,o,s,a){if(!A0(r.precondition,o))return s;const c=wG(r.fieldTransforms,a,o),l=o.data;return l.setAll(yG(r)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,A0(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function pIe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=hG(i.transform,r||null);null!=o&&(null===t&&(t=Wi.empty()),t.set(i.field,o))}return t||null}function bG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Zd(t,i,(r,o)=>function dIe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Rl&&i instanceof Rl||t instanceof Nl&&i instanceof Nl?Zd(t.elements,i.elements,Ms):t instanceof oh&&i instanceof oh?Ms(t.gt,i.gt):t instanceof rh&&i instanceof rh);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class sh extends S0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fa extends S0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function vG(n,e,t){const i=new Map;we(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,uIe(s,a,t[r]))}return i}function wG(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,lIe(o,s,e))}return i}class ah extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OO extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&fIe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=cG();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=_G(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Zd(this.mutations,e.mutations,(t,i)=>bG(t,i))&&Zd(this.baseMutations,e.baseMutations,(t,i)=>bG(t,i))}}class RO{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){we(e.mutations.length===i.length);let r=sIe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new RO(e,t,i,r)}}class NO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mIe{constructor(e,t){this.count=e,this.unchangedNames=t}}var ri,Et;function CG(n){if(void 0===n)return Yn("GRPC error has no .code"),V.UNKNOWN;switch(n){case ri.OK:return V.OK;case ri.CANCELLED:return V.CANCELLED;case ri.UNKNOWN:return V.UNKNOWN;case ri.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ri.INTERNAL:return V.INTERNAL;case ri.UNAVAILABLE:return V.UNAVAILABLE;case ri.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ri.NOT_FOUND:return V.NOT_FOUND;case ri.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ri.ABORTED:return V.ABORTED;case ri.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ri.DATA_LOSS:return V.DATA_LOSS;default:return me()}}(Et=ri||(ri={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";class FO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return k0}static getOrCreateInstance(){return null===k0&&(k0=new FO),k0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let k0=null;const _Ie=new Yd([4294967295,4294967295],0);function IG(n){const e=function EG(){return new TextEncoder}().encode(n),t=new f1e;return t.update(e),new Uint8Array(t.digest())}function TG(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yd([t,i],0),new Yd([r,o],0)]}class LO{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Kg(`Invalid padding: ${t}`);if(i<0)throw new Kg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Kg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Kg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Yd.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Yd.fromNumber(i)));return 1===r.compare(_Ie)&&(r=new Yd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=IG(e),[i,r]=TG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new LO(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=IG(e),[i,r]=TG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Kg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qg{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Yg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Qg(xe.min(),r,new on(ze),Ur(),Ye())}}class Yg{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Yg(i,t,Ye(),Ye(),Ye())}}class O0{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class MG{constructor(e,t){this.targetId=e,this.Vt=t}}class DG{constructor(e,t,i=_i.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class AG{constructor(){this.St=0,this.Dt=kG(),this.Ct=_i.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ye(),t=Ye(),i=Ye();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:me()}}),new Yg(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=kG()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class bIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ur(),this.zt=SG(),this.Wt=new on(ze)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:me()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(E0(s))if(0===r){const a=new ce(s.path);this.Yt(i,a,fn.newNoDocument(a,xe.min()))}else we(1===r);else{const a=this.ie(i);if(a!==r){const c=this.re(e,a);0!==c&&(this.ee(i),this.Wt=this.Wt.insert(i,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=FO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,b,C,I,O;const D={localCacheCount:u,existenceFilterCount:d.count},B=d.unchangedNames;return B&&(D.bloomFilter={applied:0===l,hashCount:null!==(h=B?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(C=null===(b=null===(f=B?.bits)||void 0===f?void 0:f.bitmap)||void 0===b?void 0:b.length)&&void 0!==C?C:0,padding:null!==(O=null===(I=B?.bits)||void 0===I?void 0:I.padding)&&void 0!==O?O:0}),D}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let c,l;try{c=ua(o).toUint8Array()}catch(u){if(u instanceof F$)return Ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new LO(c,s,a)}catch(u){return Ho(u instanceof Kg?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&E0(a.target)){const c=new ce(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,fn.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=Ye();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new Qg(e,t,this.Wt,this.jt,i);return this.jt=Ur(),this.zt=SG(),this.Wt=new on(ze),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new AG,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new hn(ze),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ie("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new AG),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function SG(){return new on(ce.comparator)}function kG(){return new on(ce.comparator)}const yIe={asc:"ASCENDING",desc:"DESCENDING"},vIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wIe={and:"AND",or:"OR"};class xIe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function VO(n,e){return n.useProto3Json||Ng(e)?e:{value:e}}function ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OG(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CIe(n,e){return ch(n,e.toTimestamp())}function Zn(n){return we(!!n),xe.fromTimestamp(function(e){const t=lc(e);return new An(t.seconds,t.nanos)}(n))}function BO(n,e){return(t=n,new Ct(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function PG(n){const e=Ct.fromString(n);return we(jG(e)),e}function Xg(n,e){return BO(n.databaseId,e.path)}function As(n,e){const t=PG(e);if(t.get(1)!==n.databaseId.projectId)throw new ee(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ee(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(NG(t))}function UO(n,e){return BO(n.databaseId,e)}function RG(n){const e=PG(n);return 4===e.length?Ct.emptyPath():NG(e)}function Zg(n){return new Ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NG(n){return we(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FG(n,e,t){return{name:Xg(n,e),fields:t.value.mapValue.fields}}function Jg(n,e){let t;if(e instanceof sh)t={update:FG(n,e.key,e.value)};else if(e instanceof ah)t={delete:Xg(n,e.key)};else if(e instanceof fa)t={update:FG(n,e.key,e.data),updateMask:kIe(e.fieldMask)};else{if(!(e instanceof OO))return me();t={verify:Xg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof oh)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw me()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:CIe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:me()),t;var r}function zO(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Cn.updateTime(Zn(r.updateTime)):void 0!==r.exists?Cn.exists(r.exists):Cn.none():Cn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;"setToServerValue"in s?(we("REQUEST_TIME"===s.setToServerValue),a=new rh):"appendMissingElements"in s?a=new Rl(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new Nl(s.removeAllFromArray.values||[]):"increment"in s?a=new oh(o,s.increment):me();const c=Xn.fromServerFormat(s.fieldPath);return new qg(c,a)}(n,r)):[];var r;if(e.update){const r=As(n,e.update.name),o=new Wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Br((e.updateMask.fieldPaths||[]).map(l=>Xn.fromServerFormat(l)));return new fa(r,o,s,t,i)}return new sh(r,o,t,i)}if(e.delete){const r=As(n,e.delete);return new ah(r,t)}if(e.verify){const r=As(n,e.verify);return new OO(r,t)}return me()}function VG(n,e){return{documents:[UO(n,e.path)]}}function jO(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=UO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return zG(Lt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:pc((u=l).field),direction:DIe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=VO(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function BG(n){let e=RG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){we(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=UG(u);return d instanceof Lt&&EO(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new th(lh((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Ng(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new fc((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new fc(u.values||[],!u.before)}(t.endAt)),function tG(n,e,t,i,r,o,s,a){return new da(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",c,l)}function UG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lh(e.unaryFilter.field);return pt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=lh(e.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lh(e.unaryFilter.field);return pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lh(e.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(n):void 0!==n.fieldFilter?pt.create(lh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Lt.create(e.compositeFilter.filters.map(t=>UG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return me()}}(e.compositeFilter.op))}(n):me();var e}function DIe(n){return yIe[n]}function AIe(n){return vIe[n]}function SIe(n){return wIe[n]}function pc(n){return{fieldPath:n.canonicalString()}}function lh(n){return Xn.fromServerFormat(n.fieldPath)}function zG(n){return n instanceof pt?function(e){if("=="===e.op){if(B$(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NAN"}};if(V$(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(B$(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NAN"}};if(V$(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(e.field),op:AIe(e.op),value:e.value}}}(n):n instanceof Lt?function(e){const t=e.getFilters().map(i=>zG(i));return 1===t.length?t[0]:{compositeFilter:{op:SIe(e.op),filters:t}}}(n):me()}function kIe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class pa{constructor(e,t,i,r,o=xe.min(),s=xe.min(),a=_i.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HG{constructor(e){this.fe=e}}function $G(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:P0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Xg(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ch(r,o.version.toTimestamp()),createTime:ch(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Fl(e.version)};else{if(!e.isUnknownDocument())return me();i.unknownDocument={path:t.path.toArray(),version:Fl(e.version)}}var r,o;return i}function P0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Fl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ll(n){const e=new An(n.seconds,n.nanoseconds);return xe.fromTimestamp(e)}function Vl(n,e){const t=(e.baseMutations||[]).map(o=>zO(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>zO(n.fe,o)),r=An.fromMillis(e.localWriteTimeMs);return new PO(e.batchId,r,t,i)}function em(n){const e=Ll(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ll(n.lastLimboFreeSnapshotVersion):xe.min();let i;var r;return void 0!==n.query.documents?(we(1===(r=n.query).documents.length),i=Er(ih(RG(r.documents[0])))):i=Er(BG(n.query)),new pa(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,_i.fromBase64String(n.resumeToken))}function GG(n,e){const t=Fl(e.snapshotVersion),i=Fl(e.lastLimboFreeSnapshotVersion);let r;r=E0(e.target)?VG(n.fe,e.target):jO(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ol(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function HO(n){const e=BG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?M0(e,e.limit,"L"):e}function $O(n,e){return new NO(e.largestBatchId,zO(n.fe,e.overlayMutation))}function qG(n,e){const t=e.path.lastSegment();return[n,ar(e.path.popLast()),t]}function WG(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Fl(i.readTime),documentKey:ar(i.documentKey.path),largestBatchId:i.largestBatchId}}class PIe{getBundleMetadata(e,t){return KG(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ll(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return KG(e).put({bundleId:(i=t).id,createTime:Fl(Zn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return QG(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:HO(r.bundledQuery),readTime:Ll(r.readTime)};var r})}saveNamedQuery(e,t){return QG(e).put({name:(i=t).name,readTime:Fl(Zn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function KG(n){return Ai(n,"bundles")}function QG(n){return Ai(n,"namedQueries")}class R0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new R0(e,t.uid||"")}getOverlay(e,t){return tm(e).get(qG(this.userId,t)).next(i=>i?$O(this.serializer,i):null)}getOverlays(e,t){const i=Ds();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new NO(t,s);r.push(this.we(e,a))}),L.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(ar(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(tm(e).J("collectionPathOverlayIndex",a))}),L.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ds(),o=ar(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return tm(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=$O(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ds();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tm(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=$O(this.serializer,l);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,t){return tm(e).put(function(i,r,o){const[s,a,c]=qG(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Jg(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function tm(n){return Ai(n,"documentOverlays")}class Bl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Bn(e.integerValue));else if("doubleValue"in e){const i=Bn(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Fg(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ua(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?U$(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):me()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ce.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function RIe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function YG(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=RIe(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Bl.Ve=new Bl;class NIe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=YG(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=YG(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class FIe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class LIe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class nm{constructor(){this.je=new NIe,this.ze=new FIe(this.je),this.We=new LIe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ul{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Ul(this.indexId,this.documentKey,this.arrayValue,i)}}function gc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=XG(n.arrayValue,e.arrayValue),0!==t?t:(t=XG(n.directionalValue,e.directionalValue),0!==t?t:ce.comparator(n.documentKey,e.documentKey)))}function XG(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class VIe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){we(e.collectionGroup===this.collectionId);const t=mO(e);if(void 0!==t&&!this.en(t))return!1;const i=Dl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ZG(n){var e,t;if(we(n instanceof pt||n instanceof Lt),n instanceof pt){if(n instanceof Z$){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>pt.create(n.field,"==",o)))||[];return Lt.create(r,"or")}return n}const i=n.filters.map(r=>ZG(r));return Lt.create(i,n.op)}function BIe(n){if(0===n.getFilters().length)return[];const e=WO(ZG(n));return we(JG(e)),GO(e)||qO(e)?[e]:e.getFilters()}function GO(n){return n instanceof pt}function qO(n){return n instanceof Lt&&EO(n)}function JG(n){return GO(n)||qO(n)||function(e){if(e instanceof Lt&&CO(e)){for(const t of e.getFilters())if(!GO(t)&&!qO(t))return!1;return!0}return!1}(n)}function WO(n){if(we(n instanceof pt||n instanceof Lt),n instanceof pt)return n;if(1===n.filters.length)return WO(n.filters[0]);const e=n.filters.map(i=>WO(i));let t=Lt.create(e,n.op);return t=N0(t),JG(t)?t:(we(t instanceof Lt),we(nh(t)),we(t.filters.length>1),t.filters.reduce((i,r)=>KO(i,r)))}function KO(n,e){let t;return we(n instanceof pt||n instanceof Lt),we(e instanceof pt||e instanceof Lt),t=n instanceof pt?e instanceof pt?Lt.create([n,e],"and"):eq(n,e):e instanceof pt?eq(e,n):function(i,r){if(we(i.filters.length>0&&r.filters.length>0),nh(i)&&nh(r))return Q$(i,r.getFilters());const o=CO(i)?i:r,s=CO(i)?r:i,a=o.filters.map(c=>KO(c,s));return Lt.create(a,"or")}(n,e),N0(t)}function eq(n,e){if(nh(e))return Q$(e,n.getFilters());{const t=e.filters.map(i=>KO(n,i));return Lt.create(t,"or")}}function N0(n){if(we(n instanceof pt||n instanceof Lt),n instanceof pt)return n;const e=n.getFilters();if(1===e.length)return N0(e[0]);if(W$(n))return n;const t=e.map(r=>N0(r)),i=[];return t.forEach(r=>{r instanceof pt?i.push(r):r instanceof Lt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Lt.create(i,n.op)}class UIe{constructor(){this.rn=new QO}addToCollectionParentIndex(e,t){return this.rn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Zr.min())}updateCollectionGroup(e,t,i){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class QO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new hn(Ct.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new hn(Ct.comparator)).toArray()}}const F0=new Uint8Array(0);class zIe{constructor(e,t){this.user=e,this.databaseId=t,this.on=new QO,this.un=new ha(i=>Ol(i),(i,r)=>zg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:ar(r)};return tq(e).put(o)}return L.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[v$(t),""],!1,!0);return tq(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ts(s.parent))}return i})}addFieldIndex(e,t){const i=L0(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete r.indexId;const o=i.add(r);if(t.indexState){const s=rm(e);return o.next(a=>{s.put(WG(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=L0(e),r=rm(e),o=im(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=im(e);let r=!0;const o=new Map;return L.forEach(this.cn(t),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Ye();const a=[];return L.forEach(o,(c,l)=>{var u;ie("IndexedDbIndexManager",`Using index ${u=c,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`} to execute ${Ol(t)}`);const d=function(B,Y){const ae=mO(Y);if(void 0===ae)return null;for(const pe of I0(B,ae.fieldPath))switch(pe.op){case"array-contains-any":return pe.value.arrayValue.values||[];case"array-contains":return[pe.value]}return null}(l,c),h=function(B,Y){const ae=new Map;for(const pe of Dl(Y))for(const Ge of I0(B,pe.fieldPath))switch(Ge.op){case"==":case"in":ae.set(pe.fieldPath.canonicalString(),Ge.value);break;case"not-in":case"!=":return ae.set(pe.fieldPath.canonicalString(),Ge.value),Array.from(ae.values())}return null}(l,c),f=function(B,Y){const ae=[];let pe=!0;for(const Ge of Dl(Y)){const gt=0===Ge.kind?J$(B,Ge.fieldPath,B.startAt):eG(B,Ge.fieldPath,B.startAt);ae.push(gt.value),pe&&(pe=gt.inclusive)}return new fc(ae,pe)}(l,c),b=function(B,Y){const ae=[];let pe=!0;for(const Ge of Dl(Y)){const gt=0===Ge.kind?eG(B,Ge.fieldPath,B.endAt):J$(B,Ge.fieldPath,B.endAt);ae.push(gt.value),pe&&(pe=gt.inclusive)}return new fc(ae,pe)}(l,c),C=this.hn(c,l,f),I=this.hn(c,l,b),O=this.ln(c,l,h),D=this.fn(c.indexId,d,C,f.inclusive,I,b.inclusive,O);return L.forEach(D,B=>i.H(B,t.limit).next(Y=>{Y.forEach(ae=>{const pe=ce.fromSegments(ae.documentKey);s.has(pe)||(s=s.add(pe),a.push(pe))})}))}).next(()=>a)}return L.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:BIe(Lt.create(e.filters,"and")).map(i=>TO(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),l=c/(null!=t?t.length:1),u=[];for(let d=0;d<c;++d){const h=t?this.dn(t[d/l]):F0,f=this.wn(e,h,i[d%l],r),b=this._n(e,h,o[d%l],s),C=a.map(I=>this.wn(e,h,I,!0));u.push(...this.createRange(f,b,C))}return u}wn(e,t,i,r){const o=new Ul(e,ce.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new Ul(e,ce.empty(),t,i);return r?o.Je():o}an(e,t){const i=new VIe(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.cn(t);return L.forEach(r,o=>this.an(e,o).next(s=>{s?0!==i&&s.fields.length<function(a){let c=new hn(Xn.comparator),l=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?l=!0:c=c.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(l?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new nm;for(const r of Dl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.He(r.kind);Bl.Ve._e(o,s)}return i.Qe()}dn(e){const t=new nm;return Bl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new nm;return Bl.Ve._e(kl(this.databaseId,t),i.He(function(r){const o=Dl(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new nm);let o=0;for(const s of Dl(e)){const a=i[o++];for(const c of r)if(this.yn(t,s.fieldPath)&&Bg(a))r=this.pn(r,s,a);else{const l=c.He(s.kind);Bl.Ve._e(a,l)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new nm;c.seed(a.Qe()),Bl.Ve._e(s,c.He(t.kind)),o.push(c)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof pt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=L0(e),r=rm(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const s=[];return L.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(l,u){const d=u?new Pg(u.sequenceNumber,new Zr(Ll(u.readTime),new ce(Ts(u.documentKey)),u.largestBatchId)):Pg.empty(),h=l.fields.map(([f,b])=>new g0(Xn.fromServerFormat(f),b));return new p0(l.indexId,l.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:ze(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=L0(e),o=rm(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>L.forEach(a,c=>o.put(WG(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return L.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?L.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),L.forEach(a,c=>this.En(e,r,c).next(l=>{const u=this.An(o,c);return l.isEqual(u)?L.resolve():this.vn(e,o,c,l,u)}))))})}Rn(e,t,i,r){return im(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return im(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=im(e);let o=new hn(gc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(s,a)=>{o=o.add(new Ul(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let i=new hn(gc);const r=this.mn(t,e);if(null==r)return i;const o=mO(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Bg(s))for(const a of s.arrayValue.values||[])i=i.add(new Ul(t.indexId,e.key,this.dn(a),r))}else i=i.add(new Ul(t.indexId,e.key,F0,r));return i}vn(e,t,i,r,o){ie("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,c,l,u,d){const h=a.getIterator(),f=c.getIterator();let b=Jd(h),C=Jd(f);for(;b||C;){let I=!1,O=!1;if(b&&C){const D=l(b,C);D<0?O=!0:D>0&&(I=!0)}else null!=b?O=!0:I=!0;I?(u(C),C=Jd(f)):O?(d(b),b=Jd(h)):(b=Jd(h),C=Jd(f))}}(r,o,gc,a=>{s.push(this.Rn(e,t,i,a))},a=>{s.push(this.Pn(e,t,i,a))}),L.waitFor(s)}Tn(e){let t=1;return rm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>gc(s,a)).filter((s,a,c)=>!a||0!==gc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=gc(s,e),c=gc(s,t);if(0===a)r[0]=e.Je();else if(a>0&&c<0)r.push(s),r.push(s.Je());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,F0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,F0,[]]))}return o}bn(e,t){return gc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nq)}getMinOffset(e,t){return L.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||me())).next(nq)}}function tq(n){return Ai(n,"collectionParents")}function im(n){return Ai(n,"indexEntries")}function L0(n){return Ai(n,"indexConfiguration")}function rm(n){return Ai(n,"indexState")}function nq(n){we(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;_O(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Zr(e.readTime,e.documentKey,t)}const iq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rq(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{we(1===a)}));const l=[];for(const u of t.mutations){const d=A$(e,u.key.path,t.batchId);o.push(r.delete(d)),l.push(u.key)}return L.waitFor(o).next(()=>l)}function V0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw me();e=n.noDocument}return JSON.stringify(e).length}cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);class B0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){we(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new B0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mc(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=uh(e),s=mc(e);return s.add({}).next(a=>{we("number"==typeof a);const c=new PO(a,t,i,r),l=function(h,f,b){const C=b.baseMutations.map(O=>Jg(h.fe,O)),I=b.mutations.map(O=>Jg(h.fe,O));return{userId:f,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:C,mutations:I}}(this.serializer,this.userId,c),u=[];let d=new hn((h,f)=>ze(h.canonicalString(),f.canonicalString()));for(const h of r){const f=A$(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(f,A1e))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),L.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return mc(e).get(t).next(i=>i?(we(i.userId===this.userId),Vl(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?L.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return mc(e).X({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(we(a.batchId>=i),o=Vl(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return mc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mc(e).j("userMutationsIndex",t).next(i=>i.map(r=>Vl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=_0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return uh(e).X({range:r},(s,a,c)=>{const[l,u,d]=s,h=Ts(u);if(l===this.userId&&t.path.isEqual(h))return mc(e).get(d).next(f=>{if(!f)throw me();we(f.userId===this.userId),o.push(Vl(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hn(ze);const r=[];return t.forEach(o=>{const s=_0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=uh(e).X({range:a},(l,u,d)=>{const[h,f,b]=l,C=Ts(f);h===this.userId&&o.path.isEqual(C)?i=i.add(b):d.done()});r.push(c)}),L.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=_0(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new hn(ze);return uh(e).X({range:s},(c,l,u)=>{const[d,h,f]=c,b=Ts(h);d===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(f)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(mc(e).get(o).next(s=>{if(null===s)throw me();we(s.userId===this.userId),i.push(Vl(this.serializer,s))}))}),L.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return rq(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),L.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return uh(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Ts(o[1]);r.push(c)}else a.done()}).next(()=>{we(0===r.length)})})}containsKey(e,t){return oq(e,this.userId,t)}xn(e){return sq(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oq(n,e,t){const i=_0(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return uh(n).X({range:o,Y:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),l.done()}).next(()=>s)}function mc(n){return Ai(n,"mutations")}function uh(n){return Ai(n,"documentMutations")}function sq(n){return Ai(n,"mutationQueues")}class zl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zl(0)}static Mn(){return new zl(-1)}}class jIe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new zl(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>xe.fromTimestamp(new An(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>dh(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(we(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return dh(e).X((s,a)=>{const c=em(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>L.waitFor(o)).next(()=>r)}forEachTarget(e,t){return dh(e).X((i,r)=>{const o=em(r);t(o)})}$n(e){return aq(e).get("targetGlobalKey").next(t=>(we(null!==t),t))}On(e,t){return aq(e).put("targetGlobalKey",t)}Fn(e,t){return dh(e).put(GG(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ol(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return dh(e).X({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=em(a);zg(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=_c(e);return t.forEach(s=>{const a=ar(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),L.waitFor(r)}removeMatchingKeys(e,t,i){const r=_c(e);return L.forEach(t,o=>{const s=ar(o.path);return L.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=_c(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=_c(e);let o=Ye();return r.X({range:i,Y:!0},(s,a,c)=>{const l=Ts(s[1]),u=new ce(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){const i=ar(t.path),r=IDBKeyRange.bound([i],[v$(i)],!1,!0);let o=0;return _c(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,t){return dh(e).get(t).next(i=>i?em(i):null)}}function dh(n){return Ai(n,"targets")}function aq(n){return Ai(n,"targetGlobal")}function _c(n){return Ai(n,"targetDocuments")}function cq([n,e],[t,i]){const r=ze(n,t);return 0===r?ze(e,i):r}class HIe{constructor(e){this.Ln=e,this.buffer=new hn(cq),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();cq(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lq{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){ac(i)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield sc(i)}yield t.Qn(3e5)}))}}class $Ie{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return L.resolve(Jr.ct);const i=new HIe(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(iq)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iq):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(l=Date.now(),pO()<=bt.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}class GIe{constructor(e,t){this.db=e,this.garbageCollector=function uq(n,e){return new $Ie(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return U0(e,i)}removeReference(e,t,i){return U0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return U0(e,t)}Xn(e,t){return function(i,r){let o=!1;return sq(i).Z(s=>oq(i,s,r).next(a=>(a&&(o=!0),L.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,xe.min()),_c(e).delete([0,ar(s.path)])))});r.push(c)}}).next(()=>L.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return U0(e,t)}Yn(e,t){const i=_c(e);let r,o=Jr.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Jr.ct&&t(new ce(Ts(r)),o),o=l,r=c):o=Jr.ct}).next(()=>{o!==Jr.ct&&t(new ce(Ts(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function U0(n,e){return _c(n).put((i=n.currentSequenceNumber,{targetId:0,path:ar(e.path),sequenceNumber:i}));var i}class dq{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?L.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qIe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return jl(e).put(i)}removeEntry(e,t,i){return jl(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],P0(o),s[s.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=fn.newInvalidDocument(t);return jl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(om(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:fn.newInvalidDocument(t)};return jl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(om(t))},(r,o)=>{i={document:this.ts(t,o),size:V0(o)}}).next(()=>i)}getEntries(e,t){let i=Ur();return this.ns(e,t,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,t){let i=Ur(),r=new on(ce.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,V0(s))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return L.resolve();let r=new hn(gq);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(om(r.first()),om(r.last())),s=r.getIterator();let a=s.getNext();return jl(e).X({index:"documentKeyIndex",range:o},(c,l,u)=>{const d=ce.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&gq(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.G(om(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),P0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jl(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=Ur();for(const u of c){const d=this.ts(ce.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Hg(t,d)||r.has(d.key))&&(l=l.insert(d.key,d))}return l})}getAllFromCollectionGroup(e,t,i,r){let o=Ur();const s=pq(t,i),a=pq(t,Zr.max());return jl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const d=this.ts(ce.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new WIe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fq(e).get("remoteDocumentGlobalKey").next(t=>(we(!!t),t))}Zn(e,t){return fq(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function OIe(n,e){let t;if(e.document)t=function LG(n,e,t){const i=As(n,e.name),r=Zn(e.updateTime),o=e.createTime?Zn(e.createTime):xe.min(),s=new Wi({mapValue:{fields:e.fields}}),a=fn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ce.fromSegments(e.noDocument.path),r=Ll(e.noDocument.readTime);t=fn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return me();{const i=ce.fromSegments(e.unknownDocument.path),r=Ll(e.unknownDocument.version);t=fn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new An(i[0],i[1]);return xe.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(xe.min()))return i}return fn.newInvalidDocument(e)}}function hq(n){return new qIe(n)}class WIe extends dq{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ha(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new hn((o,s)=>ze(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=$G(this.os.serializer,s);r=r.add(o.path.popLast());const l=V0(c);i+=l-a.size,t.push(this.os.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=$G(this.os.serializer,s.convertToNoDocument(xe.min()));t.push(this.os.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),L.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function fq(n){return Ai(n,"remoteDocumentGlobal")}function jl(n){return Ai(n,"remoteDocumentsV14")}function om(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pq(n,e){const t=e.documentKey.path.toArray();return[n,P0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function gq(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=ze(t[o],i[o]),r)return r;return r=ze(t.length,i.length),r||(r=ze(t[t.length-2],i[i.length-2]),r||ze(t[t.length-1],i[i.length-1]))}class KIe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mq{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Wg(i.mutation,r,Br.empty(),An.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ye()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ye()){const r=Ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=$g();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ye()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Ur();const s=Gg(),a=Gg();return t.forEach((c,l)=>{const u=i.get(l.key);r.has(l.key)&&(void 0===u||u.mutation instanceof fa)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),Wg(u.mutation,l,u.mutation.getFieldMask(),An.now())):s.set(l.key,Br.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new KIe(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Gg();let r=new on((s,a)=>s-a),o=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=i.get(c)||Br.empty();u=a.applyToLocalView(l,u),i.set(c,u);const d=(r.get(a.batchId)||Ye()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=cG();u.forEach(h=>{if(!o.has(h)){const f=_G(t.get(h),i.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ce.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):DO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):L.resolve(Ds());let a=-1,c=o;return s.next(l=>L.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?L.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Ye())).next(u=>({batchId:a,changes:aG(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(i=>{let r=$g();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=$g();return this.indexManager.getCollectionParents(e,r).next(s=>L.forEach(s,a=>{const c=(l=t,u=a.child(r),new da(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,i).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,fn.newInvalidDocument(l)))});let s=$g();return o.forEach((a,c)=>{const l=r.get(a);void 0!==l&&Wg(l.mutation,c,Br.empty(),An.now()),Hg(t,c)&&(s=s.insert(a,c))}),s})}}class QIe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return L.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Zn(i.createTime)}),L.resolve()}getNamedQuery(e,t){return L.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:HO(i.bundledQuery),readTime:Zn(i.readTime)}),L.resolve();var i}}class YIe{constructor(){this.overlays=new on(ce.comparator),this.ls=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ds();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),L.resolve()}getOverlaysForCollection(e,t,i){const r=Ds(),o=t.length+1,s=new ce(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return L.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new on((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);null===u&&(u=Ds(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ds(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return L.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new NO(t,i));let o=this.ls.get(t);void 0===o&&(o=Ye(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class YO{constructor(){this.fs=new hn(Si.ds),this.ws=new hn(Si._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Si(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Si(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ce(new Ct([])),i=new Si(t,e),r=new Si(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ce(new Ct([])),i=new Si(t,e),r=new Si(t,e+1);let o=Ye();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Si(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Si{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ce.comparator(e.key,t.key)||ze(e.As,t.As)}static _s(e,t){return ze(e.As,t.As)||ce.comparator(e.key,t.key)}}class XIe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new hn(Si.ds)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new PO(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Si(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Si(t,0),r=new Si(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hn(ze);return t.forEach(r=>{const o=new Si(r,0),s=new Si(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),L.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ce.isDocumentKey(o)||(o=o.child(""));const s=new Si(new ce(o),0);let a=new hn(ze);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},s),L.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){we(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return L.forEach(t.mutations,r=>{const o=new Si(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Si(t,0),r=this.Rs.firstAfterOrEqual(i);return L.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return L.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ZIe{constructor(e){this.Ds=e,this.docs=new on(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return L.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():fn.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Ur();const s=t.path,a=new ce(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||_O(x$(u),i)<=0||(r.has(u.key)||Hg(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,i,r){me()}Cs(e,t){return L.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new JIe(this)}getSize(e){return L.resolve(this.size)}}class JIe extends dq{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),L.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class eTe{constructor(e){this.persistence=e,this.xs=new ha(t=>Ol(t),zg),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new YO,this.targetCount=0,this.Ms=zl.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),L.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Fn(t),L.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return L.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),L.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),L.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return L.resolve(i)}containsKey(e,t){return L.resolve(this.ks.containsKey(t))}}class XO{constructor(e,t){this.$s={},this.overlays={},this.Os=new Jr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new eTe(this),this.indexManager=new UIe,this.remoteDocumentCache=new ZIe(i=>this.referenceDelegate.Ls(i)),this.serializer=new HG(t),this.qs=new QIe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YIe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new XIe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){ie("MemoryPersistence","Starting transaction:",e);const r=new tTe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return L.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class tTe extends E${constructor(e){super(),this.currentSequenceNumber=e}}class z0{constructor(e){this.persistence=e,this.Qs=new YO,this.js=null}static zs(e){return new z0(e)}get Ws(){if(this.js)return this.js;throw me()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),L.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),L.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ws,i=>{const r=ce.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,xe.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return L.or([()=>L.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class nTe{constructor(e){this.serializer=e}O(e,t,i,r){const o=new m0("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D$,{unique:!0}),a.createObjectStore("documentMutations"),_q(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=L.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),_q(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D$,{unique:!0});const u=c.store("mutations"),d=l.map(h=>u.put(h));return L.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:z1e});c.createIndex("collectionPathOverlayIndex",j1e,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",H1e,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:S1e});c.createIndex("documentKeyIndex",k1e),c.createIndex("collectionGroupIndex",O1e)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:L1e}).createIndex("sequenceNumberIndex",V1e,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:B1e}).createIndex("documentKeyIndex",U1e,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=V0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>L.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>L.forEach(a,c=>{we(c.userId===o.userId);const l=Vl(this.serializer,c);return rq(e,o.userId,l).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const c=new Ct(s),l=[0,ar(c)];o.push(t.get(l).next(u=>u?L.resolve():t.put({targetId:0,path:ar(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>L.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:F1e});const i=t.store("collectionParents"),r=new QO,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:ar(c)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new Ct(s);return o(c.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const u=Ts(a);return o(u.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=em(r),s=GG(this.serializer,o);return t.put(s)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(l=s,l.document?new ce(Ct.fromString(l.document.name).popFirst(5)):l.noDocument?ce.fromSegments(l.noDocument.path):l.unknownDocument?ce.fromSegments(l.unknownDocument.path):me()).path.toArray();var l;const u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>L.waitFor(r))}si(e,t){const i=t.store("mutations"),r=hq(this.serializer),o=new XO(z0.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:Ye();Vl(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),L.forEach(a,(c,l)=>{const u=new Di(l),d=R0.de(this.serializer,u),h=o.getIndexManager(u),f=B0.de(u,this.serializer,h,o.referenceDelegate);return new mq(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new vO(t,Jr.ct),c).next()})})}}function _q(n){n.createObjectStore("targetDocuments",{keyPath:R1e}).createIndex("documentTargetsIndex",N1e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P1e,{unique:!0}),n.createObjectStore("targetGlobal")}const ZO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class JO{constructor(e,t,i,r,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!JO.D())throw new ee(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GIe(this,r),this.di=t+"main",this.serializer=new HG(c),this.wi=new $o(this.di,this.ui,new nTe(this.serializer)),this.Bs=new jIe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hq(this.serializer),this.qs=new PIe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&Yn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(V.FAILED_PRECONDITION,ZO);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Jr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=_(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=_(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(_(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>H0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ac(e))return ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return sm(e).get("owner").next(t=>L.resolve(this.Ri(t)))}Pi(e){return H0(e).delete(this.clientId)}bi(){var e=this;return _(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ai(i,"clientMetadata");return r.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return L.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?L.resolve(!0):sm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ee(V.FAILED_PRECONDITION,ZO);return!1}}return!(!this.networkEnabled||!this.inForeground)||H0(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ie("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return _(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new vO(t,Jr.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>H0(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return B0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zIe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return R0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){ie("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?G1e:14===s?O$:13===s?k$:12===s?$1e:11===s?S$:void me();var s;let a;return this.wi.runTransaction(e,r,o,c=>(a=new vO(c,this.Os?this.Os.next():Jr.ct),"readwrite-primary"===t?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw Yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ee(V.FAILED_PRECONDITION,C$);return i(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>i(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return sm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ee(V.FAILED_PRECONDITION,ZO)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sm(e).put("owner",t)}static D(){return $o.D()}Ai(e){const t=sm(e);return t.get("owner").next(i=>this.Ri(i)?(ie("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Yn(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function Vme(){return!function Fme(){var n;const e=null===(n=Jy())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ie("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Yn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sm(n){return Ai(n,"owner")}function H0(n){return Ai(n,"clientMetadata")}class tP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Ye(),r=Ye();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new tP(e,t.fromCache,i,r)}}class bq{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(nG(t))return L.resolve(null);let i=Er(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=M0(t,null,"F"),i=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=Ye(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,M0(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,i,r){return nG(t)||r.isEqual(xe.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(pO()<=bt.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),SO(t)),this.Wi(e,s,t,function w$(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xe.fromTimestamp(1e9===i?new An(t+1,0):new An(t,i));return new Zr(r,ce.empty(),e)}(r,-1)))})}ji(e,t){let i=new hn(oG(e));return t.forEach((r,o)=>{Hg(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return pO()<=bt.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",SO(t)),this.Ui.getDocumentsMatchingQuery(e,t,Zr.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class iTe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new on(ze),this.Yi=new ha(o=>Ol(o),zg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mq(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function yq(n,e,t,i){return new iTe(n,e,t,i)}function vq(n,e){return nP.apply(this,arguments)}function nP(){return nP=_(function*(n,e){const t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=Ye();for(const l of r){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),nP.apply(this,arguments)}function wq(n){const e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function sTe(n,e){const t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fh(n,e,t){return iP.apply(this,arguments)}function iP(){return iP=_(function*(n,e,t){const i=de(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ac(s))throw s;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),iP.apply(this,arguments)}function $0(n,e,t){const i=de(n);let r=xe.min(),o=Ye();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=de(a),d=u.Yi.get(l);return void 0!==d?L.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(i,s,Er(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:xe.min(),t?o:Ye())).next(a=>(function Iq(n,e,t){let i=n.Xi.get(e)||xe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function rG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class cP{constructor(){this.activeTargetIds=function kO(){return cIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dq{constructor(){this.Hr=new cP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lTe{Yr(e){}shutdown(){}}class Aq{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let W0=null;function uP(){return null===W0?W0=268435456+Math.round(2147483648*Math.random()):W0++,"0x"+W0.toString(16)}const uTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dTe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const lr="WebChannelConnection";class hTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=uP(),a=this.To(e,t);ie("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const c={};return this.Eo(c,r,o),this.Ao(e,a,c,i).then(l=>(ie("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw Ho("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",i),l})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${uTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=uP();return new Promise((s,a)=>{const c=new h1e;c.setWithCredentials(!0),c.listenOnce(l1e.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case fO.NO_ERROR:const u=c.getResponseJson();ie(lr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case fO.TIMEOUT:ie(lr,`RPC '${e}' ${o} timed out`),a(new ee(V.DEADLINE_EXCEEDED,"Request time out"));break;case fO.HTTP_ERROR:const d=c.getStatus();if(ie(lr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const b=function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(I)>=0?I:V.UNKNOWN}(f.status);a(new ee(b,f.message))}else a(new ee(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ee(V.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{ie(lr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);ie(lr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}Ro(e,t,i){const r=uP(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=a1e(),a=c1e(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new d1e({})),this.Eo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const u=o.join("");ie(lr,`Creating RPC '${e}' stream ${r}: ${u}`,c);const d=s.createWebChannel(u,c);let h=!1,f=!1;const b=new dTe({ro:I=>{f?ie(lr,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(h||(ie(lr,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),ie(lr,`RPC '${e}' stream ${r} sending:`,I),d.send(I))},oo:()=>d.close()}),C=(I,O,D)=>{I.listen(O,B=>{try{D(B)}catch(Y){setTimeout(()=>{throw Y},0)}})};return C(d,f0.EventType.OPEN,()=>{f||ie(lr,`RPC '${e}' stream ${r} transport opened.`)}),C(d,f0.EventType.CLOSE,()=>{f||(f=!0,ie(lr,`RPC '${e}' stream ${r} transport closed`),b.wo())}),C(d,f0.EventType.ERROR,I=>{f||(f=!0,Ho(lr,`RPC '${e}' stream ${r} transport errored:`,I),b.wo(new ee(V.UNAVAILABLE,"The operation could not be completed")))}),C(d,f0.EventType.MESSAGE,I=>{var O;if(!f){const D=I.data[0];we(!!D);const Y=D.error||(null===(O=D[0])||void 0===O?void 0:O.error);if(Y){ie(lr,`RPC '${e}' stream ${r} received error:`,Y);const ae=Y.status;let pe=function(gt){const ai=ri[gt];if(void 0!==ai)return CG(ai)}(ae),Ge=Y.message;void 0===pe&&(pe=V.INTERNAL,Ge="Unknown error status: "+ae+" with message "+Y.message),f=!0,b.wo(new ee(pe,Ge)),d.close()}else ie(lr,`RPC '${e}' stream ${r} received:`,D),b._o(D)}}),C(a,u1e.STAT_EVENT,I=>{I.stat===g$.PROXY?ie(lr,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===g$.NOPROXY&&ie(lr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}function K0(){return typeof document<"u"?document:null}function cm(n){return new xIe(n,!0)}class dP{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&ie("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class kq{constructor(e,t,i,r,o,s,a,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return _(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(Yn(t.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===V.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new ee(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fTe extends kq{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function IIe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:me(),r=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(we(void 0===l||"string"==typeof l),_i.fromBase64String(l||"")):(we(void 0===l||l instanceof Uint8Array),_i.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?V.UNKNOWN:CG(c.code);return new ee(l,c.message||"")}(s);t=new DG(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=As(n,i.document.name),o=Zn(i.document.updateTime),s=i.document.createTime?Zn(i.document.createTime):xe.min(),a=new Wi({mapValue:{fields:i.document.fields}}),c=fn.newFoundDocument(r,o,s,a);t=new O0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=As(n,i.document),o=i.readTime?Zn(i.readTime):xe.min(),s=fn.newNoDocument(r,o);t=new O0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=As(n,i.document);t=new O0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return me();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new mIe(r,o);t=new MG(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return xe.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?xe.min():o.readTime?Zn(o.readTime):xe.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Zg(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=E0(a)?{documents:VG(r,a)}:{query:jO(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=OG(r,o.resumeToken);const c=VO(r,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(xe.min())>0){s.readTime=ch(r,o.snapshotVersion.toTimestamp());const c=VO(r,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const i=function MIe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Zg(this.serializer),t.removeTarget=e,this.Wo(t)}}class pTe extends kq{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function TIe(n,e){return n&&n.length>0?(we(void 0!==e),n.map(t=>function(i,r){let o=Zn(i.updateTime?i.updateTime:r);return o.isEqual(xe.min())&&(o=Zn(r)),new hIe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Zn(e.commitTime);return this.listener.cu(i,t)}return we(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Zg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Jg(this.serializer,i))};this.Wo(t)}}class gTe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ee(V.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ee(V.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(V.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class _Te{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yn(t),this.mu=!1):ie("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bTe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(_(function*(){var c;bc(s)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(l){const u=de(l);u.vu.add(4),yield ph(u),u.bu.set("Unknown"),u.vu.delete(4),yield lm(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new _Te(i,r)}}function lm(n){return fP.apply(this,arguments)}function fP(){return fP=_(function*(n){if(bc(n))for(const e of n.Ru)yield e(!0)}),fP.apply(this,arguments)}function ph(n){return pP.apply(this,arguments)}function pP(){return pP=_(function*(n){for(const e of n.Ru)yield e(!1)}),pP.apply(this,arguments)}function Q0(n,e){const t=de(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),_P(t)?mP(t):mh(t).Ko()&&gP(t,e))}function um(n,e){const t=de(n),i=mh(t);t.Au.delete(e),i.Ko()&&Oq(t,e),0===t.Au.size&&(i.Ko()?i.jo():bc(t)&&t.bu.set("Unknown"))}function gP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mh(n).su(e)}function Oq(n,e){n.Vu.qt(e),mh(n).iu(e)}function mP(n){n.Vu=new bIe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),mh(n).start(),n.bu.gu()}function _P(n){return bc(n)&&!mh(n).Uo()&&n.Au.size>0}function bc(n){return 0===de(n).vu.size}function Pq(n){n.Vu=void 0}function yTe(n){return bP.apply(this,arguments)}function bP(){return bP=_(function*(n){n.Au.forEach((e,t)=>{gP(n,e)})}),bP.apply(this,arguments)}function vTe(n,e){return yP.apply(this,arguments)}function yP(){return yP=_(function*(n,e){Pq(n),_P(n)?(n.bu.Iu(e),mP(n)):n.bu.set("Unknown")}),yP.apply(this,arguments)}function wTe(n,e,t){return vP.apply(this,arguments)}function vP(){return vP=_(function*(n,e,t){if(n.bu.set("Online"),e instanceof DG&&2===e.state&&e.cause)try{yield(i=_(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Y0(n,i)}else if(e instanceof O0?n.Vu.Ht(e):e instanceof MG?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(xe.min()))try{const i=yield wq(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(_i.EMPTY_BYTE_STRING,l.snapshotVersion)),Oq(r,a);const u=new pa(l.target,a,c,l.sequenceNumber);gP(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){ie("RemoteStore","Failed to raise snapshot:",i),yield Y0(n,i)}var i}),vP.apply(this,arguments)}function Y0(n,e,t){return wP.apply(this,arguments)}function wP(){return wP=_(function*(n,e,t){if(!ac(e))throw e;n.vu.add(1),yield ph(n),n.bu.set("Offline"),t||(t=()=>wq(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield lm(n)}))}),wP.apply(this,arguments)}function Rq(n,e){return e().catch(t=>Y0(n,t,e))}function gh(n){return xP.apply(this,arguments)}function xP(){return xP=_(function*(n){const e=de(n),t=yc(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;xTe(e);)try{const r=yield sTe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,CTe(e,r)}catch(r){yield Y0(e,r)}Nq(e)&&Fq(e)}),xP.apply(this,arguments)}function xTe(n){return bc(n)&&n.Eu.length<10}function CTe(n,e){n.Eu.push(e);const t=yc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Nq(n){return bc(n)&&!yc(n).Uo()&&n.Eu.length>0}function Fq(n){yc(n).start()}function ETe(n){return CP.apply(this,arguments)}function CP(){return CP=_(function*(n){yc(n).hu()}),CP.apply(this,arguments)}function ITe(n){return EP.apply(this,arguments)}function EP(){return EP=_(function*(n){const e=yc(n);for(const t of n.Eu)e.uu(t.mutations)}),EP.apply(this,arguments)}function TTe(n,e,t){return IP.apply(this,arguments)}function IP(){return IP=_(function*(n,e,t){const i=n.Eu.shift(),r=RO.from(i,e,t);yield Rq(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield gh(n)}),IP.apply(this,arguments)}function MTe(n,e){return TP.apply(this,arguments)}function TP(){return TP=_(function*(n,e){var t;e&&yc(n).ou&&(yield(t=_(function*(i,r){if(function xG(n){switch(n){default:return me();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}(o=r.code)&&o!==V.ABORTED){const s=i.Eu.shift();yc(i).Qo(),yield Rq(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield gh(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),Nq(n)&&Fq(n)}),TP.apply(this,arguments)}function Lq(n,e){return MP.apply(this,arguments)}function MP(){return MP=_(function*(n,e){const t=de(n);t.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const i=bc(t);t.vu.add(3),yield ph(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield lm(t)}),MP.apply(this,arguments)}function AP(){return AP=_(function*(n,e){const t=de(n);e?(t.vu.delete(2),yield lm(t)):e||(t.vu.add(2),yield ph(t),t.bu.set("Unknown"))}),AP.apply(this,arguments)}function mh(n){return n.Su||(n.Su=function(e,t,i){const r=de(e);return r.fu(),new fTe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:yTe.bind(null,n),ao:vTe.bind(null,n),nu:wTe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Su.Qo(),_P(n)?mP(n):n.bu.set("Unknown")):(yield n.Su.stop(),Pq(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function yc(n){return n.Du||(n.Du=function(e,t,i){const r=de(e);return r.fu(),new pTe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:ETe.bind(null,n),ao:MTe.bind(null,n),au:ITe.bind(null,n),cu:TTe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Du.Qo(),yield gh(n)):(yield n.Du.stop(),n.Eu.length>0&&(ie("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class SP{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new SP(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ee(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _h(n,e){if(Yn("AsyncQueue",`${e}: ${n}`),ac(n))return new ee(V.UNAVAILABLE,`${e}: ${n}`);throw n}class bh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ce.comparator(t.key,i.key):(t,i)=>ce.comparator(t.key,i.key),this.keyedMap=$g(),this.sortedSet=new on(this.comparator)}static emptySet(e){return new bh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new bh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Vq{constructor(){this.Cu=new on(ce.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):me():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class yh{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new yh(e,t,bh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class DTe{constructor(){this.Nu=void 0,this.listeners=[]}}class ATe{constructor(){this.queries=new ha(e=>iG(e),jg),this.onlineState="Unknown",this.ku=new Set}}function OP(){return OP=_(function*(n,e){const t=de(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new DTe),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=_h(s,`Initialization of query '${SO(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&NP(t)}),OP.apply(this,arguments)}function RP(){return RP=_(function*(n,e){const t=de(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),RP.apply(this,arguments)}function STe(n,e){const t=de(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&NP(t)}function kTe(n,e,t){const i=de(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function NP(n){n.ku.forEach(e=>{e.next()})}class FP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new yh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zq{constructor(e){this.key=e}}class jq{constructor(e){this.key=e}}class Hq{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ye(),this.mutatedKeys=Ye(),this.tc=oG(e),this.ec=new bh(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Vq,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=Hg(this.query,d)?d:null,b=!!h&&this.mutatedKeys.has(h.key),C=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let I=!1;h&&f?h.data.isEqual(f.data)?b!==C&&(i.track({type:3,doc:f}),I=!0):this.rc(h,f)||(i.track({type:2,doc:f}),I=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),I=!0):h&&!f&&(i.track({type:1,doc:h}),I=!0,(c||l)&&(a=!0)),I&&(f?(s=s.add(f),o=C?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,u)=>function(d,h){const f=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new yh(this.query,e.ec,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Vq,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ye(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new jq(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new zq(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Ye();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return yh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class RTe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NTe{constructor(e){this.key=e,this.fc=!1}}class FTe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ha(a=>iG(a),jg),this._c=new Map,this.mc=new Set,this.gc=new on(ce.comparator),this.yc=new Map,this.Ic=new YO,this.Tc={},this.Ec=new Map,this.Ac=zl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function LTe(n,e){return LP.apply(this,arguments)}function LP(){return LP=_(function*(n,e){const t=function sR(n){const e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$q.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qTe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UTe.bind(null,e),e.dc.nu=STe.bind(null,e.eventManager),e.dc.Pc=kTe.bind(null,e.eventManager),e}(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield function hh(n,e){const t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new pa(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Er(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function VP(n,e,t,i,r){return BP.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Q0(t.remoteStore,s)}return r}),LP.apply(this,arguments)}function BP(){return BP=_(function*(n,e,t,i,r){n.Rc=(d,h,f)=>{return(b=_(function*(C,I,O,D){let B=I.view.sc(O);B.zi&&(B=yield $0(C.localStore,I.query,!1).then(({documents:pe})=>I.view.sc(pe,B)));const Y=D&&D.targetChanges.get(I.targetId),ae=I.view.applyChanges(B,C.isPrimaryClient,Y);return QP(C,I.targetId,ae.cc),ae.snapshot}),function(C,I,O,D){return b.apply(this,arguments)})(n,d,h,f);var b};const o=yield $0(n.localStore,e,!0),s=new Hq(e,o.ir),a=s.sc(o.documents),c=Yg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);QP(n,t,l.cc);const u=new RTe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),BP.apply(this,arguments)}function VTe(n,e){return UP.apply(this,arguments)}function UP(){return UP=_(function*(n,e){const t=de(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!jg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),um(t.remoteStore,i.targetId),vh(t,i.targetId)}).catch(sc))):(vh(t,i.targetId),yield fh(t.localStore,i.targetId,!0))}),UP.apply(this,arguments)}function zP(){return zP=_(function*(n,e,t){const i=aR(n);try{const r=yield function(o,s){const a=de(o),c=An.now(),l=s.reduce((h,f)=>h.add(f.key),Ye());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ur(),b=Ye();return a.Zi.getEntries(h,l).next(C=>{f=C,f.forEach((I,O)=>{O.isValidDocument()||(b=b.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(C=>{u=C;const I=[];for(const O of s){const D=pIe(O,u.get(O.key).overlayedDocument);null!=D&&I.push(new fa(O.key,D,H$(D.value.mapValue),Cn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,I,s)}).next(C=>{d=C;const I=C.applyToLocalDocumentSet(u,b);return a.documentOverlayCache.saveOverlays(h,C.batchId,I)})}).then(()=>({batchId:d.batchId,changes:aG(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new on(ze)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(i,r.batchId,t),yield ga(i,r.changes),yield gh(i.remoteStore)}catch(r){const o=_h(r,"Failed to persist write");t.reject(o)}}),zP.apply(this,arguments)}function $q(n,e){return jP.apply(this,arguments)}function jP(){return jP=_(function*(n,e){const t=de(n);try{const i=yield function oTe(n,e){const t=de(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var b,C,I;null!==e.targetMismatches.get(d)?f=f.withResumeToken(_i.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),C=f,I=u,(0===(b=h).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,f))});let c=Ur(),l=Ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function xq(n,e,t){let i=Ye(),r=Ye();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Ur();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(xe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!i.isEqual(xe.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(we(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?we(s.fc):r.removedDocuments.size>0&&(we(s.fc),s.fc=!1))}),yield ga(t,i,e)}catch(i){yield sc(i)}}),jP.apply(this,arguments)}function Gq(n,e,t){const i=de(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=de(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(s)&&(c=!0)}),c&&NP(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function UTe(n,e,t){return HP.apply(this,arguments)}function HP(){return HP=_(function*(n,e,t){const i=de(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new on(ce.comparator);s=s.insert(o,fn.newNoDocument(o,xe.min()));const a=Ye().add(o),c=new Qg(xe.min(),new Map,new on(ze),s,a);yield $q(i,c),i.gc=i.gc.remove(o),i.yc.delete(e),YP(i)}else yield fh(i.localStore,e,!1).then(()=>vh(i,e,t)).catch(sc)}),HP.apply(this,arguments)}function zTe(n,e){return $P.apply(this,arguments)}function $P(){return $P=_(function*(n,e){const t=de(n),i=e.batch.batchId;try{const r=yield function rTe(n,e){const t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=L.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(b=>{const C=c.docVersions.get(f);we(null!==C),b.version.compareTo(C)<0&&(u.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),l.addEntry(b)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=Ye();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);KP(t,i,null),WP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ga(t,r)}catch(r){yield sc(r)}}),$P.apply(this,arguments)}function jTe(n,e,t){return GP.apply(this,arguments)}function GP(){return GP=_(function*(n,e,t){const i=de(n);try{const r=yield function(o,s){const a=de(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(we(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(i.localStore,e);KP(i,e,t),WP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ga(i,r)}catch(r){yield sc(r)}}),GP.apply(this,arguments)}function WP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function KP(n,e,t){const i=de(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function vh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||qq(n,i)})}function qq(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(um(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),YP(n))}function QP(n,e,t){for(const i of t)i instanceof zq?(n.Ic.addReference(i.key,e),$Te(n,i)):i instanceof jq?(ie("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||qq(n,i.key)):me()}function $Te(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(ie("SyncEngine","New document in limbo: "+t),n.mc.add(i),YP(n))}function YP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ce(Ct.fromString(e)),i=n.Ac.next();n.yc.set(i,new NTe(t)),n.gc=n.gc.insert(t,i),Q0(n.remoteStore,new pa(Er(ih(t.path)),i,"TargetPurposeLimboResolution",Jr.ct))}}function ga(n,e,t){return XP.apply(this,arguments)}function XP(){return XP=_(function*(n,e,t){const i=de(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,c)=>{s.push(i.Rc(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const u=tP.Li(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=_(function*(c,l){const u=de(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(l,h=>L.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>L.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ac(d))throw d;ie("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),C=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,C)}}}),function(c,l){return a.apply(this,arguments)})(i.localStore,o))}),XP.apply(this,arguments)}function GTe(n,e){return ZP.apply(this,arguments)}function ZP(){return ZP=_(function*(n,e){const t=de(n);if(!t.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const i=yield vq(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new ee(V.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ga(t,i.er)}var r}),ZP.apply(this,arguments)}function qTe(n,e){const t=de(n),i=t.yc.get(e);if(i&&i.fc)return Ye().add(i.key);{let r=Ye();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function aR(n){const e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zTe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jTe.bind(null,e),e}class dm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=cm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return yq(this.persistence,new bq,e.initialUser,this.serializer)}createPersistence(e){return new XO(z0.zs,this.serializer)}createSharedClientState(e){return new Dq}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qq extends dm{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return _(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield aR(i.Vc.syncEngine),yield gh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return yq(this.persistence,new bq,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new lq(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new M1e(t,this.persistence);return new T1e(e.asyncQueue,i)}createPersistence(e){const t=function eP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new JO(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,function Sq(){return typeof window<"u"?window:null}(),K0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Dq}}class wh{initialize(e,t){var i=this;return _(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Gq(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=GTe.bind(null,i.syncEngine),yield function DP(n,e){return AP.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ATe}createDatastore(e){const t=cm(e.databaseInfo.databaseId),i=new hTe(e.databaseInfo);return new gTe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>Gq(this.syncEngine,a,0),s=Aq.D()?new Aq:new lTe,new bTe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,c,l){const u=new FTe(i,r,o,s,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const i=de(t);ie("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ph(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class X0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oMe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Di.UNAUTHENTICATED,this.clientId=y$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=_(function*(a){ie("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=_h(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Z0(n,e){return cR.apply(this,arguments)}function cR(){return cR=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=_(function*(o){i.isEqual(o)||(yield vq(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),cR.apply(this,arguments)}function lR(n,e){return uR.apply(this,arguments)}function uR(){return uR=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function dR(n){return hR.apply(this,arguments)}(n);ie("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Lq(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Lq(e.remoteStore,o)),n._onlineComponents=e}),uR.apply(this,arguments)}function Zq(n){return"FirebaseError"===n.name?n.code===V.FAILED_PRECONDITION||n.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function hR(){return hR=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Z0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Zq(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),yield Z0(n,new dm)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield Z0(n,new dm);return n._offlineComponents}),hR.apply(this,arguments)}function J0(n){return fR.apply(this,arguments)}function fR(){return fR=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield lR(n,n._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield lR(n,new wh))),n._onlineComponents}),fR.apply(this,arguments)}function gR(){return gR=_(function*(n){const e=yield J0(n),t=e.eventManager;return t.onListen=LTe.bind(null,e.syncEngine),t.onUnlisten=VTe.bind(null,e.syncEngine),t}),gR.apply(this,arguments)}function iW(n,e,t={}){const i=new mi;return n.asyncQueue.enqueueAndForget(_(function*(){return function(r,o,s,a,c){const l=new X0({next:d=>{o.enqueueAndForget(()=>function PP(n,e){return RP.apply(this,arguments)}(r,u)),d.fromCache&&"server"===a.source?c.reject(new ee(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new FP(s,l,{includeMetadataChanges:!0,Ku:!0});return function kP(n,e){return OP.apply(this,arguments)}(r,u)}(yield function xh(n){return gR.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function rW(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const oW=new Map;function mR(n,e,t){if(!t)throw new ee(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sW(n){if(!ce.isDocumentKey(n))throw new ee(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aW(n){if(ce.isDocumentKey(n))throw new ee(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":me()}function yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ee(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tw(n);throw new ee(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class lW{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ee(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ee(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function pMe(n,e,t,i){if(!0===e&&!0===i)throw new ee(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rW(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new ee(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ee(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ee(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ee(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new p1e;switch(t.type){case"firstParty":return new b1e(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ee(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oW.get(e);t&&(ie("ComponentProvider","Removing Datastore"),oW.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Ki{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class Ss extends Ki{constructor(e,t,i){super(e,t,ih(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ce(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function mMe(n,e,...t){if(n=xn(n),mR("collection","path",e),n instanceof hm){const i=Ct.fromString(e,...t);return aW(i),new Ss(n,null,i)}{if(!(n instanceof Jn||n instanceof Ss))throw new ee(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ct.fromString(e,...t));return aW(i),new Ss(n.firestore,null,i)}}function uW(n,e,...t){if(n=xn(n),1===arguments.length&&(e=y$.A()),mR("doc","path",e),n instanceof hm){const i=Ct.fromString(e,...t);return sW(i),new Jn(n,null,new ce(i))}{if(!(n instanceof Jn||n instanceof Ss))throw new ee(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ct.fromString(e,...t));return sW(i),new Jn(n.firestore,n instanceof Ss?n.converter:null,new ce(i))}}class _Me{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dP(this,"async_queue_retry"),this.Xc=()=>{const t=K0();t&&ie("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=K0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=K0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new mi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ac(t))throw t;ie("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Yn("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=SP.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&me()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class pn extends hm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new _Me,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hW(this),this._firestoreClient.terminate()}}function yMe(n,e){const i="string"==typeof n?n:e||"(default)",r=Qa("object"==typeof n?n:Bp(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=LT("firestore");o&&function gMe(n,e,t,i={}){var r;const o=(n=yt(n,hm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Di.MOCK_USER;else{a=n6(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new ee(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Di(l)}n._authCredentials=new g1e(new _$(a,c))}}(r,...o)}return r}function oi(n){return n._firestoreClient||hW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hW(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new W1e(n._databaseId,a,n._persistenceKey,(l=r).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,rW(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new oMe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function vMe(n,e){!function pW(n){if(n._initialized||n._terminated)throw new ee(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=yt(n,pn));const t=oi(n);if(t._uninitializedComponentsProvider)throw new ee(V.FAILED_PRECONDITION,"SDK cache is already specified.");Ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new wh;return function fW(n,e,t){const i=new mi;return n.asyncQueue.enqueue(_(function*(){try{yield Z0(n,t),yield lR(n,e),i.resolve()}catch(r){const o=r;if(!Zq(o))throw o;Ho("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}(t,r,new Qq(r,i.cacheSizeBytes,e?.forceOwnership))}class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(_i.fromBase64String(e))}catch(t){throw new ee(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hl(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ch{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ee(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bR{constructor(e){this._methodName=e}}class yR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const xMe=/^__.*__$/;class CMe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new sh(e,this.data,t,this.fieldTransforms)}}class gW{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class nw{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new nw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return rw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mW(this.ca)&&xMe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class EMe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||cm(e)}ya(e,t,i,r=!1){return new nw({ca:e,methodName:t,ga:i,path:Xn.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(n){const e=n._freezeSettings(),t=cm(n._databaseId);return new EMe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vR(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);xR("Data must be an object, but it was:",s,i);const a=wW(i,s);let c,l;if(o.merge)c=new Br(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=gm(e,d,t);if(!s.contains(h))throw new ee(V.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CW(u,h)||u.push(h)}c=new Br(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new CMe(new Wi(a),c,l)}class pm extends bR{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pm}}function $l(n,e){if(xW(n=xn(n)))return xR("Unsupported field value:",e,n),wW(n,e);if(n instanceof bR)return function(t,i){if(!mW(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=$l(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=xn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dG(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=An.fromDate(t);return{timestampValue:ch(i.serializer,r)}}if(t instanceof An){const r=new An(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ch(i.serializer,r)}}if(t instanceof yR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hl)return{bytesValue:OG(i.serializer,t._byteString)};if(t instanceof Jn){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:BO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${tw(t)}`)}(n,e)}function wW(n,e){const t={};return R$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(n,(i,r)=>{const o=$l(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function xW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof An||n instanceof yR||n instanceof Hl||n instanceof Jn||n instanceof bR)}function xR(n,e,t){if(!xW(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=tw(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function gm(n,e,t){if((e=xn(e))instanceof Ch)return e._internalPath;if("string"==typeof e)return iw(n,e);throw rw("Field path arguments must be of type string or ",n,!1,void 0,t)}const DMe=new RegExp("[~\\*/\\[\\]]");function iw(n,e,t){if(e.search(DMe)>=0)throw rw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ch(...e.split("."))._internalPath}catch{throw rw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rw(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new ee(V.INVALID_ARGUMENT,a+n+c)}function CW(n,e){return n.some(t=>t.isEqual(e))}class CR{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new AMe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ow("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class AMe extends CR{data(){return super.data()}}function ow(n,e){return"string"==typeof e?iw(n,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}class ER{}class SMe extends ER{}function kMe(n,e,...t){let i=[];e instanceof ER&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof Ih).length,s=r.filter(a=>a instanceof mm).length;if(o>1||o>0&&s>0)throw new ee(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class mm extends SMe{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new mm(e,t,i)}_apply(e){const t=this._parse(e);return DW(e._query,t),new Ki(e.firestore,e.converter,AO(e._query,t))}_parse(e){const t=Eh(e.firestore);return function(r,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new ee(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){MW(u,l);const h=[];for(const f of u)h.push(TW(a,r,f));d={arrayValue:{values:h}}}else d=TW(a,r,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||MW(u,l),d=function vW(n,e,t,i=!1){return $l(t,n.ya(i?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return pt.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function OMe(n,e,t){const i=e,r=ow("where",n);return mm._create(r,i,t)}class Ih extends ER{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ih(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)DW(o,a),o=AO(o,a)}(e._query,t),new Ki(e.firestore,e.converter,AO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function TW(n,e,t){if("string"==typeof(t=xn(t))){if(""===t)throw new ee(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DO(e)&&-1!==t.indexOf("/"))throw new ee(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ct.fromString(t));if(!ce.isDocumentKey(i))throw new ee(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kl(n,new ce(i))}if(t instanceof Jn)return kl(n,t._key);throw new ee(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tw(t)}.`)}function MW(n,e){if(!Array.isArray(n)||0===n.length)throw new ee(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DW(n,e){if(e.isInequality()){const i=T0(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new ee(V.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=MO(n);null!==o&&function AW(n,e,t){if(!t.isEqual(e))throw new ee(V.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ee(V.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class PMe{convertValue(e,t="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw me()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return cc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new yR(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=v0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Lg(e));default:return null}}convertTimestamp(e){const t=lc(e);return new An(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ct.fromString(e);we(jG(i));const r=new Sl(i.get(1),i.get(3)),o=new ce(i.popFirst(5));return r.isEqual(t)||Yn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Th extends CR{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ow("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class lw extends Th{data(e={}){return super.data(e)}}class Mh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new lw(this._firestore,this._userDataWriter,i.key,i,new Gl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new lw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new lw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:NMe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NMe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class vc extends PMe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function FMe(n){n=yt(n,Ki);const e=yt(n.firestore,pn),t=oi(e),i=new vc(e);return function EW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ee(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),iW(t,n._query).then(r=>new Mh(e,i,n,r))}function LMe(n,e,t){n=yt(n,Jn);const i=yt(n.firestore,pn),r=function TR(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return _m(i,[vR(Eh(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Cn.none())])}function VMe(n,e,t,...i){n=yt(n,Jn);const r=yt(n.firestore,pn),o=Eh(r);let s;return s="string"==typeof(e=xn(e))||e instanceof Ch?function yW(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[gm(e,i,t)],c=[r];if(o.length%2!=0)throw new ee(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(gm(e,o[h])),c.push(o[h+1]);const l=[],u=Wi.empty();for(let h=a.length-1;h>=0;--h)if(!CW(l,a[h])){const f=a[h];let b=c[h];b=xn(b);const C=s.da(f);if(b instanceof pm)l.push(f);else{const I=$l(b,C);null!=I&&(l.push(f),u.set(f,I))}}const d=new Br(l);return new gW(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function bW(n,e,t,i){const r=n.ya(1,e,t);xR("Data must be an object, but it was:",r,i);const o=[],s=Wi.empty();cc(i,(c,l)=>{const u=iw(e,c,t);l=xn(l);const d=r.da(u);if(l instanceof pm)o.push(u);else{const h=$l(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Br(o);return new gW(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),_m(r,[s.toMutation(n._key,Cn.exists(!0))])}function BMe(n){return _m(yt(n.firestore,pn),[new ah(n._key,Cn.none())])}function _m(n,e){return function(t,i){const r=new mi;return t.asyncQueue.enqueueAndForget(_(function*(){return function BTe(n,e,t){return zP.apply(this,arguments)}(yield function pR(n){return J0(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(oi(n),e)}!function(n,e=!0){Xd=Ya,zi(new xi("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new pn(new m1e(t.getProvider("auth-internal")),new y1e(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ee(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(a.options.projectId,c)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Ht(m$,"3.13.0",n),Ht(m$,"3.13.0","esm2017")}();class et{constructor(e){return e}}const OW="firestore",DR=new X("angularfire2.firestore-instances");function JMe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new et(i)}}const eDe={provide:class XMe{constructor(){return Gp(OW)}},deps:[[new Jt,DR]]},tDe={provide:et,useFactory:function ZMe(n,e){const t=$p(OW,n,e);return t&&new et(t)},deps:[[new Jt,DR],Za]};let nDe=(()=>{class n{constructor(){Ht("angularfire",Vd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Je({providers:[tDe,eDe]}),n})();function iDe(n,...e){return{ngModule:nDe,providers:[{provide:DR,useFactory:JMe(n),multi:!0,deps:[Ae,$t,qp,Wp,[new Jt,Bv],[new Jt,Yp],...e]}]}}const ve=Ei(mMe,!0),En=Ei(BMe,!0),Ee=Ei(uW,!0),rDe=Ei(vMe,!0),fe=Ei(FMe,!0),oDe=Ei(yMe,!0),Vt=Ei(kMe,!0),Qi=Ei(LMe,!0),ur=Ei(VMe,!0),Bt=Ei(OMe,!0);let AR,sDe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.firestore=r,this.data=[],this.nid=1,this.getData()}getData(){const t=ve(this.firestore,"users");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}handleLogin(t){var i=this;return _(function*(){let r;Ik(i.auth,t.email,t.password).then(function(){var o=_(function*(s){i.current=s.user.email,r=s.user.email;const a=Vt(ve(i.firestore,"users"),Bt("email","==",r));(yield fe(a)).forEach(l=>{let u=l.data();"Adminitrador"==u.role?i.router.navigate(["/admin/users"]):"Investigador"==u.role?i.router.navigate(["/user/unidad-produccion-all"]):"Cliente"==u.role&&i.router.navigate(["/client/unidad-produccion-all"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(ke),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=mt();g(0,"button",0),J("click",function(){return r.Salir()}),p(),Q(1,"div",1),g(2,"span",2),v(3,"Iniciar Sesi\xf3n"),p(),Q(4,"div",3),g(5,"form",4,5),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleLogin(a.value))}),g(7,"div",6)(8,"div",7)(9,"span",8),v(10,"Email: "),p(),Q(11,"input",9),p(),g(12,"div",7)(13,"span",10),v(14,"Clave: "),p(),Q(15,"input",11),p(),g(16,"button",12),v(17,"Log In"),p()()()}},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:450px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:448px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;transform:none;position:absolute;left:15%;top:35%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:37%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:43%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:18%;top:11%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;position:absolute;left:20%;top:7%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;transform:none;left:18%;top:21%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;transform:none;position:absolute;left:20%;top:17%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;border-width:0;border-radius:30px;font-size:16px;transform:none;position:absolute;left:60%;top:27%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})(),aDe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){ZH(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert(i.message)}),this.addData(t),this.Login()}addData(t){const i=Ee(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?Qi(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=ve(this.firestore,"users");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(et),E(ke))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=mt();Q(0,"div",0),g(1,"span",1),v(2,"Registrar"),p(),Q(3,"div",2),g(4,"form",3,4),J("ngSubmit",function(){Pe(o);const a=un(5);return Re(r.handleRegister(a.value))}),g(6,"div",5)(7,"div",6)(8,"span",7),v(9,"Email:"),p(),Q(10,"input",8),p(),g(11,"div",6)(12,"span",9),v(13,"Roles:"),p(),Q(14,"input",10),g(15,"datalist",11),Q(16,"option",12)(17,"option",13),p()(),g(18,"div",6)(19,"span",14),v(20,"Clave:"),p(),Q(21,"input",15),p(),g(22,"div",6)(23,"span",16),v(24,"Confirmar Clave:"),p(),Q(25,"input",17),p(),g(26,"button",18),v(27,"Sign Up"),p()()(),g(28,"button",19),J("click",function(){return r.Salir()}),p()}},dependencies:[Nn,_p,bp,Bi,wr,Rn,rr,wn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})();try{AR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{AR=!1}let bm,ql,SR,ki=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?my(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)($(so))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ym(n){return function cDe(){if(null==bm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bm=!0}))}finally{bm=bm||!1}return bm}()?n:!!n.capture}function lDe(){if(null==ql){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ql=!1,ql;if("scrollBehavior"in document.documentElement.style)ql=!0;else{const n=Element.prototype.scrollTo;ql=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ql}function kR(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function wc(n){return n.composedPath?n.composedPath()[0]:n.target}function OR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const hDe=[{path:"auth",component:JH,children:[{path:"login",component:sDe},{path:"signup",component:aDe},{path:"select",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.platform=r,this.hidInstText=!0,this.hidInstBut=!0,this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt()}),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),this.promptEvent=o,console.log("promptEvent")})}disableInAppInstallPrompt(){this.hidInstBut=!0}Credits(){this.router.navigate(["/auth/credits"])}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}installPwa(){this.promptEvent.prompt()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(ke),E(ki))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-select"]],decls:23,vars:2,consts:[[1,"creditBox",3,"click"],[1,"creditText"],[1,"creditLogo"],[1,"base"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"],[1,"infoText"],[1,"footer"],[1,"footerText"],[1,"Orange",3,"click"],[1,"logoCiens"]],template:function(i,r){1&i&&(g(0,"div",0),J("click",function(){return r.Credits()}),g(1,"span",1),v(2,"Creditos"),p(),Q(3,"div",2),p(),g(4,"div",3)(5,"div")(6,"button",4),J("click",function(){return r.installPwa()}),v(7,"Instalar"),p()(),g(8,"div",5)(9,"span"),v(10,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),Q(11,"img",6),v(12," y selecionar \u201cAgregar a Inicio\u201d"),p()(),g(13,"div",7)(14,"span"),v(15," El sistema de Gestion de Muestras de Campo es un proyecto que ha tenido como primer objetivo desarrollar una Aplicaci\xf3n Web Progresiva para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela "),p()(),g(16,"div",8)(17,"div",9)(18,"span"),v(19,"Universidad Central de Venezuela (UCV) \xb7 Facultad Ciencias \xb7 "),p(),g(20,"span",10),J("click",function(){return r.Credits()}),v(21,"Cr\xe9ditos"),p()(),Q(22,"div",11),p()()),2&i&&(U(6),ti("hidden",r.hidInstBut),U(2),ti("hidden",r.hidInstText))},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}.Orange[_ngcontent-%COMP%]{cursor:pointer}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}#login[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:25%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:50%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;top:77%;left:50%;transform:translate(-50%);padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;position:absolute;top:77%;left:50%;transform:translate(-50%);font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.creditText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:36px;letter-spacing:0;display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:700px;position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:700px;position:absolute;bottom:50px;left:50%;transform:translate(-50%);text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:30px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;position:relative;left:90px;top:30px;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:30%;top:77%;padding-bottom:5px;padding-top:5px;width:120px;height:50px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#646464;width:75%;height:10%;transform:none;position:absolute;left:15%;top:70%;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;font-weight:700;letter-spacing:0px;line-height:20pt}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:20px;padding-top:0;position:relative;top:5px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditLogo[_ngcontent-%COMP%]{position:relative;top:45%;left:25%;width:36px;height:36px;cursor:pointer;background-size:contain;background-repeat:no-repeat;background-image:url(info.f631e6664ac6fa77.png)}.creditText[_ngcontent-%COMP%]{display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:90%;position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:70px;text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;width:100%;position:absolute;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:12px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;bottom:40px;left:50%;transform:translate(-50%);background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})()},{path:"credits",component:(()=>{class n{constructor(t,i){this.auth=t,this.router=i}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(ke))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-credits"]],decls:29,vars:0,consts:[[1,"base"],[1,"install"],[1,"logoCiens"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"credits works!"),p(),g(2,"div",0)(3,"div",1)(4,"h2")(5,"b"),v(6,"Creditos:"),p()(),g(7,"p")(8,"b"),v(9,"Autor: "),p(),g(10,"span"),v(11,"Ioannis Morakis - m.yannis22@gmail.com"),p()(),g(12,"p")(13,"b"),v(14,"Tutora: "),p(),g(15,"span"),v(16,"Profa. Yosly Hern\xe1ndez Bieliukas"),p()(),Q(17,"br"),g(18,"h2")(19,"b"),v(20,"Objetivo:"),p()(),g(21,"p")(22,"span"),v(23," Desarrollar una Aplicaci\xf3n Web para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela"),p()(),Q(24,"br")(25,"br"),g(26,"p"),v(27," Universidad Central de Venezuela - Escuela de Computaci\xf3n "),p(),Q(28,"div",2),p()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{width:600px;height:500px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:70%}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:45px;height:45px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})()}]}];let fDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[Fr.forChild(hDe),Fr]})}return n})(),pDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[za,yp,Fr,fDe]})}return n})(),gDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(i,r){1&i&&(g(0,"p"),v(1,"home works!"),p())}})}return n})(),RW=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}Users(){this.router.navigate(["/admin/users"])}getData(){const t=ve(this.firestore,"users");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"users",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"users",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}handleSignOut(){gi(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-admin"]],decls:24,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/Users.png","alt","Users","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"admin works!"),p(),g(2,"div",0),Q(3,"div",1),g(4,"div",2),J("click",function(){return r.handleSignOut()}),Q(5,"img",3)(6,"br"),v(7," Cerrar Sesi\xf3n "),p(),g(8,"div",4),J("click",function(){return r.Users()}),Q(9,"img",5)(10,"br"),v(11," Usuarios "),p()(),g(12,"div",6)(13,"div",7)(14,"span",8),v(15,"Gestion de Muestras"),p()(),Q(16,"div",9)(17,"div",10),g(18,"div",11),Q(19,"div",12),g(20,"span",13),v(21,"Usuario"),p(),Q(22,"div",14),p()(),Q(23,"router-outlet"))},dependencies:[ul],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:20px;top:30%}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:10%;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:225%;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:320px;height:90%;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:17%;position:absolute;left:20%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;right:175px;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:20px}br[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:79%;top:15%;border-right:2px solid white;display:none}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}return n})(),mDe=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){return this.checkLogin(i.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static#e=this.\u0275fac=function(i){return new(i||n)($(Ue),$(ke))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NW=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){gi(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(ke))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-user"]],decls:36,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovel2.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre.png","alt","Shovel","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/Clientes2.png","alt","Shovel","width","50","height","50"],["id","CodigoText",1,"navbar2Text",3,"click"],["src","../../assets/Scan.png","alt","Shovel","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"user works!"),p(),g(2,"div",0),Q(3,"div",1),g(4,"div",2),J("click",function(){return r.handleSignOut()}),Q(5,"img",3)(6,"br"),v(7," Cerrar Sesi\xf3n "),p(),g(8,"div",4),J("click",function(){return r.Unidades()}),Q(9,"img",5)(10,"br"),v(11," Unidades de Producci\xf3n "),p(),g(12,"div",6),J("click",function(){return r.Muestras()}),Q(13,"img",7)(14,"br"),v(15," Muestras "),p(),g(16,"div",8),J("click",function(){return r.Clientes()}),Q(17,"img",9)(18,"br"),v(19," Clientes "),p(),g(20,"div",10),J("click",function(){return r.Codigo()}),Q(21,"img",11)(22,"br"),v(23," Generar Codigo "),p()(),g(24,"div",12)(25,"div",13)(26,"span",14),v(27,"Gestion de Muestras"),p()(),Q(28,"div",15)(29,"div",16),g(30,"div",17),Q(31,"div",18),g(32,"span",19),v(33,"Usuario"),p(),Q(34,"div",20),p()(),Q(35,"router-outlet"))},dependencies:[ul],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:20px;top:30%}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:10%;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:225%;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:320px;height:90%;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:17%;position:absolute;left:20%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:52%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;right:175px;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:20px}br[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}}"]})}return n})();var wm=F(6387);let _De=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o}ngOnInit(){var t=this;return _(function*(){t.route.params.subscribe(i=>{t.item=i,console.log(i),t.generateBarcode(i)}),yield t.sleep(500),window.print()})()}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}generateBarcode(t){var i=t.id;let r=t.num;wm("#barcode",i,{format:"CODE128"});for(let o=1;o<r;o++){let s="#barcode"+o;console.log(s),wm(s,i,{format:"CODE128"})}}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-print"]],decls:5,vars:0,consts:[["id","barcode"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"]],template:function(i,r){1&i&&(w_(),Q(0,"svg",0)(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4))},styles:["#barcode[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode1[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}return n})(),FW=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){gi(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(ke))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-client"]],decls:28,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovel2.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre.png","alt","Shovel","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"client works!"),p(),g(2,"div",0),Q(3,"div",1),g(4,"div",2),J("click",function(){return r.handleSignOut()}),Q(5,"img",3)(6,"br"),v(7," Cerrar Sesi\xf3n "),p(),g(8,"div",4),J("click",function(){return r.Unidad()}),Q(9,"img",5)(10,"br"),v(11," Unidades de Producci\xf3n "),p(),g(12,"div",6),J("click",function(){return r.Muestras()}),Q(13,"img",7)(14,"br"),v(15," Muestras "),p()(),g(16,"div",8)(17,"div",9)(18,"span",10),v(19,"Gestion de Muestras"),p()(),Q(20,"div",11)(21,"div",12),g(22,"div",13),J("click",function(){return r.Perfil()}),Q(23,"div",14),g(24,"span",15),v(25,"Usuario "),p(),Q(26,"div",16),p()(),Q(27,"router-outlet"))},dependencies:[ul],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:20px;top:30%}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:10%;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:225%;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:320px;height:90%;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:17%;position:absolute;left:20%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;right:175px;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:20px}br[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:79%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}}"]})}return n})();const bDe=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:gDe},{path:"admin",component:RW,canActivate:[mDe]},{path:"auth",component:JH},{path:"user",component:NW},{path:"client",component:FW},{path:"print/:id/:num",component:_De}];let PR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[Fr.forRoot(bDe),Fr]})}return n})(),yDe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.title="gestion-muestras",console.log("inside app component")}handleSignOut(){gi(this.auth).then(()=>{}).catch(t=>{console.log("here")})}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(ke),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Q(0,"router-outlet")},dependencies:[ul],styles:[".base[_ngcontent-%COMP%]{margin:0;width:100%;height:100%;top:0;left:0;background-repeat:repeat;background-image:url(CaptureLeafRepeatOpacity10.38bc5159f70f7053.png)}"]})}return n})();const vDe_firebase={projectId:"gestion-de-muestras-de-c-fabe0",appId:"1:881625861704:web:1da279954953bf7e3ad27d",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-c-fabe0.appspot.com",apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",messagingSenderId:"881625861704",measurementId:"G-PTHV8B640J"},LW="@firebase/database";let RR="";class xDe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ui(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Np(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class CDe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Js(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const BW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xDe(e)}}catch{}return new CDe},Wl=BW("localStorage"),NR=BW("sessionStorage"),Ah=new hl("@firebase/database"),UW=function(){let n=1;return function(){return n++}}(),zW=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,ue(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new $me;t.update(e);const i=t.digest();return Yy.encodeByteArray(i)},xm=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=xm.apply(null,i):e+="object"==typeof i?Ui(i):i,e+=" "}return e};let Kl=null,jW=!0;const Oi=function(...n){if(!0===jW&&(jW=!1,null===Kl&&!0===NR.get("logging_enabled")&&function(n,e){ue(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ah.logLevel=bt.VERBOSE,Kl=Ah.log.bind(Ah),e&&NR.set("logging_enabled",!0)):"function"==typeof n?Kl=n:(Kl=null,NR.remove("logging_enabled"))}(!0)),Kl){const e=xm.apply(null,n);Kl(e)}},Cm=function(n){return function(...e){Oi(n,...e)}},FR=function(...n){const e="FIREBASE INTERNAL ERROR: "+xm(...n);Ah.error(e)},ks=function(...n){const e=`FIREBASE FATAL ERROR: ${xm(...n)}`;throw Ah.error(e),new Error(e)},dr=function(...n){const e="FIREBASE WARNING: "+xm(...n);Ah.warn(e)},hw=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xc="[MIN_NAME]",ma="[MAX_NAME]",Ql=function(n,e){if(n===e)return 0;if(n===xc||e===ma)return-1;if(e===xc||n===ma)return 1;{const t=qW(n),i=qW(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},TDe=function(n,e){return n===e?0:n<e?-1:1},Em=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ui(e))},LR=function(n){if("object"!=typeof n||null===n)return Ui(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Ui(e[i]),t+=":",t+=LR(n[e[i]]);return t+="}",t},$W=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const GW=function(n){ue(!hw(n),"Invalid JSON number");const i=1023;let r,o,s,a,c;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},SDe=new RegExp("^-?(0*)\\d{1,10}$"),qW=function(n){if(SDe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Sh=function(n){try{n()}catch(e){setTimeout(()=>{throw dr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Im=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class RDe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){dr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class NDe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Oi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dr(e)}}let Tm=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const XW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eK="websocket",tK="long_polling";class BR{constructor(e,t,i,r,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function nK(n,e,t){let i;if(ue("string"==typeof e,"typeof type must == string"),ue("object"==typeof t,"typeof params must == object"),e===eK)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==tK)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function FDe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Pi(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class LDe{constructor(){this.counters_={}}incrementCounter(e,t=1){Js(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Sme(this.counters_)}}const UR={},zR={};function jR(n){const e=n.toString();return UR[e]||(UR[e]=new LDe),UR[e]}class BDe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Sh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Cc{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cm(e),this.stats_=jR(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),nK(t,tK,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new BDe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new HR((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&XW.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cc.forceAllow_=!0}static forceDisallow(){Cc.forceDisallow_=!0}static isAvailable(){return!(!Cc.forceAllow_&&(Cc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ui(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=X9(t),r=$W(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ui(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class HR{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=UW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=HR.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Oi("frame writing exception"),a.stack&&Oi(a.stack),Oi(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Oi("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Oi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let pw=null;typeof MozWebSocket<"u"?pw=MozWebSocket:typeof WebSocket<"u"&&(pw=WebSocket);let kh=(()=>{class n{constructor(t,i,r,o,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cm(this.connId),this.stats_=jR(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&XW.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),nK(t,eK,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wl.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new pw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==pw&&!n.forceDisallow_}static previouslyFailed(){return Wl.isInMemoryStorage||!0===Wl.get("previous_websocket_failure")}markConnectionHealthy(){Wl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Np(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ue(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Ui(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=$W(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),lK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Cc,kh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=kh&&kh.isAvailable();let r=i&&!kh.previouslyFailed();if(t.webSocketOnly&&(i||dr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kh];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class mK{constructor(e,t,i,r,o,s,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cm("c:"+this.id+":"),this.transportManager_=new lK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Im(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Em("t",e),i=Em("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Em("t",e),i=Em("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Em("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?FR("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&dr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Im(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Im(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _K{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class bK{constructor(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){ue(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class gw extends bK{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!VT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gw}getInitialEvent(e){return ue("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Tt(){return new Pt("")}function it(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ec(n){return n.pieces_.length-n.pieceNum_}function qt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Pt(n.pieces_,e)}function GR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Mm(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function wK(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Pt(e,0)}function In(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Pt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Pt(t,0)}function rt(n){return n.pieceNum_>=n.pieces_.length}function Ir(n,e){const t=it(n),i=it(e);if(null===t)return e;if(t===i)return Ir(qt(n),qt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function qR(n,e){if(Ec(n)!==Ec(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function vo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ec(n)>Ec(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class cAe{constructor(e,t){this.errorPrefix_=t,this.parts_=Mm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=rv(this.parts_[i]);xK(this)}}function xK(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yl(n))}function Yl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class WR extends bK{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new WR}getInitialEvent(e){return ue("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Dm=1e3;let _w,Xl=(()=>{class n extends _K{constructor(t,i,r,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Cm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&gw.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(Ui(s)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Rd,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Js(t,"w")){const r=Nd(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();dr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=ev(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=ev(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ui(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):FR("Unrecognized action received from server: "+Ui(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Dm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Dm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};t.realtime_={close:u,sendRequest:function(f){ue(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,b]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);c?Oi("getToken() completed but was canceled"):(Oi("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=b&&b.token,l=new mK(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,C=>{dr(C+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),c||(t.repoInfo_.nodeAdmin&&dr(f),u())}}})()}interrupt(t){Oi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Oi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],zT(this.interruptReasons_)&&(this.reconnectDelay_=Dm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>LR(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Pt(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Oi("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Oi("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+RR.replace(/\./g,"-")]=1,VT()?t["framework.cordova"]=1:i6()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=gw.getInstance().currentlyOnline();return zT(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ct{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ct(e,t)}}class mw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new ct(xc,e),r=new ct(xc,t);return 0!==this.compare(i,r)}minPost(){return ct.MIN}}class IK extends mw{static get __EMPTY_NODE(){return _w}static set __EMPTY_NODE(e){_w=e}compare(e,t){return Ql(e.name,t.name)}isDefinedOn(e){throw Pd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ct.MIN}maxPost(){return new ct(ma,_w)}makePost(e,t){return ue("string"==typeof e,"KeyIndex indexValue must always be a string."),new ct(e,_w)}toString(){return".key"}}const Os=new IK;class bw{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let QR,Go=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??zr.EMPTY_NODE,this.right=s??zr.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return zr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return zr.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class zr{constructor(e,t=zr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new zr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Go.BLACK,null,null))}remove(e){return new zr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Go.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new bw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new bw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new bw(this.root_,null,this.comparator_,!0,e)}}function mAe(n,e){return Ql(n.name,e.name)}function KR(n,e){return Ql(n,e)}zr.EMPTY_NODE=new class gAe{copy(e,t,i,r,o){return this}insert(e,t,i){return new Go(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const TK=function(n){return"number"==typeof n?"number:"+GW(n):"string:"+n},MK=function(n){if(n.isLeafNode()){const e=n.val();ue("string"==typeof e||"number"==typeof e||"object"==typeof e&&Js(e,".sv"),"Priority must be a string or number.")}else ue(n===QR||n.isEmpty(),"priority of unexpected type.");ue(n===QR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let DK,AK,SK,Oh=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,ue(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),MK(this.priorityNode_)}static set __childrenNodeConstructor(t){DK=t}static get __childrenNodeConstructor(){return DK}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return rt(t)?this:".priority"===it(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=it(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(ue(".priority"!==r||1===Ec(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(qt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+TK(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?GW(this.value_):this.value_,this.lazyHash_=zW(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(ue(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return ue(o>=0,"Unknown leaf type: "+i),ue(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const sn=new class vAe extends mw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?Ql(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(ma,new Oh("[PRIORITY-POST]",SK))}makePost(e,t){const i=AK(e);return new ct(t,new Oh("[PRIORITY-POST]",i))}toString(){return".priority"}},wAe=Math.log(2);class xAe{constructor(e){this.count=parseInt(Math.log(e+1)/wAe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yw=function(n,e,t,i){n.sort(e);const r=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=n[c],h=t?t(d):d,new Go(h,d.node,Go.BLACK,null,null);{const f=parseInt(u/2,10)+c,b=r(c,f),C=r(f+1,l);return d=n[f],h=t?t(d):d,new Go(h,d.node,Go.BLACK,b,C)}},a=function(c){let l=null,u=null,d=n.length;const h=function(b,C){const I=d-b,O=d;d-=b;const D=r(I+1,O),B=n[I],Y=t?t(B):B;f(new Go(Y,B.node,C,null,D))},f=function(b){l?(l.left=b,l=b):(u=b,l=b)};for(let b=0;b<c.count;++b){const C=c.nextBitIsOne(),I=Math.pow(2,c.count-(b+1));C?h(I,Go.BLACK):(h(I,Go.BLACK),h(I,Go.RED))}return u}(new xAe(n.length));return new zr(i||e,a)};let YR;const Ph={};class _a{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ue(Ph&&sn,"ChildrenNode.ts has not been loaded"),YR=YR||new _a({".priority":Ph},{".priority":sn}),YR}get(e){const t=Nd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof zr?t:null}hasIndex(e){return Js(this.indexSet_,e.toString())}addIndex(e,t){ue(e!==Os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(ct.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?yw(i,e.getCompare()):Ph;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new _a(u,l)}addToIndexes(e,t){const i=tv(this.indexes_,(r,o)=>{const s=Nd(this.indexSet_,o);if(ue(s,"Missing index implementation for "+o),r===Ph){if(s.isDefinedOn(e.node)){const a=[],c=t.getIterator(ct.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),yw(a,s.getCompare())}return Ph}{const a=t.get(e.name);let c=r;return a&&(c=c.remove(new ct(e.name,a))),c.insert(e,e.node)}});return new _a(i,this.indexSet_)}removeFromIndexes(e,t){const i=tv(this.indexes_,r=>{if(r===Ph)return r;{const o=t.get(e.name);return o?r.remove(new ct(e.name,o)):r}});return new _a(i,this.indexSet_)}}let Am,Ke=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&MK(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Am||(Am=new n(new zr(KR),null,_a.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Am}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Am:i}}getChild(t){const i=it(t);return null===i?this:this.getImmediateChild(i).getChild(qt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(ue(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new ct(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?Am:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=it(t);if(null===r)return i;{ue(".priority"!==it(t)||1===Ec(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(qt(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(sn,(a,c)=>{i[a]=c.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const c in i)a[c]=i[c];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+TK(this.getPriority().val())+":"),this.forEachChild(sn,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":zW(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new ct(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ct(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ct(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ct.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ct.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Sm?-1:0}withIndex(t){if(t===Os||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Os||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(sn),o=i.getIterator(sn);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===Os?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Sm=new class CAe extends Ke{constructor(){super(new zr(KR),Ke.EMPTY_NODE,_a.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ke.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ct,{MIN:{value:new ct(xc,Ke.EMPTY_NODE)},MAX:{value:new ct(ma,Sm)}}),IK.__EMPTY_NODE=Ke.EMPTY_NODE,Oh.__childrenNodeConstructor=Ke,function _Ae(n){QR=n}(Sm),function yAe(n){SK=n}(Sm);const EAe=!0;function Sn(n,e=null){if(null===n)return Ke.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),ue(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Oh(n,Sn(e));if(n instanceof Array||!EAe){let t=Ke.EMPTY_NODE;return Pi(n,(i,r)=>{if(Js(n,i)&&"."!==i.substring(0,1)){const o=Sn(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Sn(e))}{const t=[];let i=!1;if(Pi(n,(s,a)=>{if("."!==s.substring(0,1)){const c=Sn(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new ct(s,c)))}}),0===t.length)return Ke.EMPTY_NODE;const o=yw(t,mAe,s=>s.name,KR);if(i){const s=yw(t,sn.getCompare());return new Ke(o,Sn(e),new _a({".priority":s},{".priority":sn}))}return new Ke(o,Sn(e),_a.Default)}}!function bAe(n){AK=n}(Sn);class XR extends mw{constructor(e){super(),this.indexPath_=e,ue(!rt(e)&&".priority"!==it(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?Ql(e.name,t.name):o}makePost(e,t){const i=Sn(e),r=Ke.EMPTY_NODE.updateChild(this.indexPath_,i);return new ct(t,r)}maxPost(){const e=Ke.EMPTY_NODE.updateChild(this.indexPath_,Sm);return new ct(ma,e)}toString(){return Mm(this.indexPath_,0).join("/")}}const ZR=new class IAe extends mw{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Ql(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(e,t){const i=Sn(e);return new ct(t,i)}toString(){return".value"}};function Om(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class eN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xc}hasEnd(){return this.endSet_}getIndexEndValue(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const e=new eN;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function OK(n){const e={};if(n.isDefault())return e;let t;if(n.index_===sn?t="$priority":n.index_===ZR?t="$value":n.index_===Os?t="$key":(ue(n.index_ instanceof XR,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ui(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Ui(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Ui(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Ui(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Ui(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function PK(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==sn&&(e.i=n.index_.toString()),e}class ww extends _K{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Cm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=ww.getListenId_(e,i),a={};this.listens_[s]=a;const c=OK(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,i),Nd(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(h,null)}})}unlisten(e,t){const i=ww.getListenId_(e,t);delete this.listens_[i]}get(e){const t=OK(e._queryParams),i=e._path.toString(),r=new Rd;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fp(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Np(a.responseText)}catch{dr("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else 401!==a.status&&404!==a.status&&dr("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class PAe{constructor(){this.rootNode_=Ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xw(){return{value:null,children:new Map}}function Nh(n,e,t){if(rt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=it(e);n.children.has(i)||n.children.set(i,xw()),Nh(n.children.get(i),e=qt(e),t)}}function rN(n,e,t){null!==n.value?t(e,n.value):function RAe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{rN(r,new Pt(e.toString()+"/"+i),t)})}class NAe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Pi(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class VAe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new NAe(e);const i=1e4+2e4*Math.random();Im(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Pi(e,(r,o)=>{o>0&&Js(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Im(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ps=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Ps||{});function aN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Cw{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Ps.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(rt(this.path)){if(null!=this.affectedTree.value)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pt(e));return new Cw(Tt(),t,this.revert)}}return ue(it(this.path)===e,"operationForChild called for unrelated child."),new Cw(qt(this.path),this.affectedTree,this.revert)}}class Zl{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Ps.OVERWRITE}operationForChild(e){return rt(this.path)?new Zl(this.source,Tt(),this.snap.getImmediateChild(e)):new Zl(this.source,qt(this.path),this.snap)}}class Fh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Ps.MERGE}operationForChild(e){if(rt(this.path)){const t=this.children.subtree(new Pt(e));return t.isEmpty()?null:t.value?new Zl(this.source,Tt(),t.value):new Fh(this.source,Tt(),t)}return ue(it(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fh(this.source,qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ic{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rt(e))return this.isFullyInitialized()&&!this.filtered_;const t=it(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Nm(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,c)=>function jAe(n,e,t){if(null==e.childName||null==t.childName)throw Pd("Should only compare child_ events.");const i=new ct(e.childName,e.snapshotNode),r=new ct(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,c)),s.forEach(a=>{const c=function zAe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function Ew(n,e){return{eventCache:n,serverCache:e}}function Fm(n,e,t,i){return Ew(new Ic(e,t,i),n.serverCache)}function NK(n,e,t,i){return Ew(n.eventCache,new Ic(e,t,i))}function Iw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let cN;class an{constructor(e,t=(()=>(cN||(cN=new zr(TDe)),cN))()){this.value=e,this.children=t}static fromObject(e){let t=new an(null);return Pi(e,(i,r)=>{t=t.set(new Pt(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Tt(),value:this.value};if(rt(e))return null;{const i=it(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(qt(e),t);return null!=o?{path:In(new Pt(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rt(e))return this;{const t=it(e),i=this.children.get(t);return null!==i?i.subtree(qt(e)):new an(null)}}set(e,t){if(rt(e))return new an(t,this.children);{const i=it(e),o=(this.children.get(i)||new an(null)).set(qt(e),t),s=this.children.insert(i,o);return new an(this.value,s)}}remove(e){if(rt(e))return this.children.isEmpty()?new an(null):new an(null,this.children);{const t=it(e),i=this.children.get(t);if(i){const r=i.remove(qt(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new an(null):new an(this.value,o)}return this}}get(e){if(rt(e))return this.value;{const t=it(e),i=this.children.get(t);return i?i.get(qt(e)):null}}setTree(e,t){if(rt(e))return t;{const i=it(e),o=(this.children.get(i)||new an(null)).setTree(qt(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new an(this.value,s)}}fold(e){return this.fold_(Tt(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(In(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Tt(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(rt(e))return null;{const o=it(e),s=this.children.get(o);return s?s.findOnPath_(qt(e),In(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Tt(),t)}foreachOnPath_(e,t,i){if(rt(e))return this;{this.value&&i(t,this.value);const r=it(e),o=this.children.get(r);return o?o.foreachOnPath_(qt(e),In(t,r),i):new an(null)}}foreach(e){this.foreach_(Tt(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(In(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class qo{constructor(e){this.writeTree_=e}static empty(){return new qo(new an(null))}}function Lm(n,e,t){if(rt(e))return new qo(new an(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=Ir(r,e);return o=o.updateChild(s,t),new qo(n.writeTree_.set(r,o))}{const r=new an(t),o=n.writeTree_.setTree(e,r);return new qo(o)}}}function lN(n,e,t){let i=n;return Pi(t,(r,o)=>{i=Lm(i,In(e,r),o)}),i}function FK(n,e){if(rt(e))return qo.empty();{const t=n.writeTree_.setTree(e,new an(null));return new qo(t)}}function uN(n,e){return null!=eu(n,e)}function eu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ir(t.path,e)):null}function LK(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(sn,(i,r)=>{e.push(new ct(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new ct(i,r.value))}),e}function Tc(n,e){if(rt(e))return n;{const t=eu(n,e);return new qo(null!=t?new an(t):n.writeTree_.subtree(e))}}function dN(n){return n.writeTree_.isEmpty()}function Lh(n,e){return VK(Tt(),n.writeTree_,e)}function VK(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(ue(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=VK(In(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(In(n,".priority"),i)),t}}function Tw(n,e){return HK(e,n)}function KAe(n,e){if(n.snap)return vo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&vo(In(n.path,t),e))return!0;return!1}function YAe(n){return n.visible}function BK(n,e,t){let i=qo.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)vo(t,s)?(a=Ir(t,s),i=Lm(i,a,o.snap)):vo(s,t)&&(a=Ir(s,t),i=Lm(i,Tt(),o.snap.getChild(a)));else{if(!o.children)throw Pd("WriteRecord should have .snap or .children");if(vo(t,s))a=Ir(t,s),i=lN(i,a,o.children);else if(vo(s,t))if(a=Ir(s,t),rt(a))i=lN(i,Tt(),o.children);else{const c=Nd(o.children,it(a));if(c){const l=c.getChild(qt(a));i=Lm(i,Tt(),l)}}}}}return i}function UK(n,e,t,i,r){if(i||r){const o=Tc(n.visibleWrites,e);return!r&&dN(o)?t:r||null!=t||uN(o,Tt())?Lh(BK(n.allWrites,function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(vo(l.path,e)||vo(e,l.path))},e),t||Ke.EMPTY_NODE):null}{const o=eu(n.visibleWrites,e);if(null!=o)return o;{const s=Tc(n.visibleWrites,e);return dN(s)?t:null!=t||uN(s,Tt())?Lh(s,t||Ke.EMPTY_NODE):null}}}function Mw(n,e,t,i){return UK(n.writeTree,n.treePath,e,t,i)}function hN(n,e){return function XAe(n,e,t){let i=Ke.EMPTY_NODE;const r=eu(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(sn,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=Tc(n.visibleWrites,e);return t.forEachChild(sn,(s,a)=>{const c=Lh(Tc(o,new Pt(s)),a);i=i.updateImmediateChild(s,c)}),LK(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return LK(Tc(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function zK(n,e,t,i){return function ZAe(n,e,t,i,r){ue(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=In(e,t);if(uN(n.visibleWrites,o))return null;{const s=Tc(n.visibleWrites,o);return dN(s)?r.getChild(t):Lh(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Dw(n,e){return function eSe(n,e){return eu(n.visibleWrites,e)}(n.writeTree,In(n.treePath,e))}function fN(n,e,t){return function JAe(n,e,t,i){const r=In(e,t),o=eu(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?Lh(Tc(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function jK(n,e){return HK(In(n.treePath,e),n.writeTree)}function HK(n,e){return{treePath:n,writeTree:e}}class rSe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ue("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ue(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,Om(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function km(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function Rh(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Pd("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Om(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const $K=new class oSe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class pN{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Ic(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fN(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jl(this.viewCache_),o=function iSe(n,e,t,i,r,o){return function tSe(n,e,t,i,r,o,s){let a;const c=Tc(n.visibleWrites,e),l=eu(c,Tt());if(null!=l)a=l;else{if(null==t)return[];a=Lh(c,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function GK(n,e,t,i,r,o){const s=e.eventCache;if(null!=Dw(i,t))return e;{let a,c;if(rt(t))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Jl(e),d=hN(i,l instanceof Ke?l:Ke.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const l=Mw(i,Jl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=it(t);if(".priority"===l){ue(1===Ec(t),"Can't have a priority with additional path components");const u=s.getNode();c=e.serverCache.getNode();const d=zK(i,t,u,c);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=qt(t);let d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const h=zK(i,t,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=fN(i,l,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),l,d,u,r,o):s.getNode()}}return Fm(e,a,s.isFullyInitialized()||rt(t),n.filter.filtersNodes())}}function Aw(n,e,t,i,r,o,s,a){const c=e.serverCache;let l;const u=s?n.filter:n.filter.getIndexedFilter();if(rt(t))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(t,i);l=u.updateFullNode(c.getNode(),f,null)}else{const f=it(t);if(!c.isCompleteForPath(t)&&Ec(t)>1)return e;const b=qt(t),I=c.getNode().getImmediateChild(f).updateChild(b,i);l=".priority"===f?u.updatePriority(c.getNode(),I):u.updateChild(c.getNode(),f,I,b,$K,null)}const d=NK(e,l,c.isFullyInitialized()||rt(t),u.filtersNodes());return GK(n,d,t,r,new pN(r,d,o),a)}function gN(n,e,t,i,r,o,s){const a=e.eventCache;let c,l;const u=new pN(r,e,o);if(rt(t))l=n.filter.updateFullNode(e.eventCache.getNode(),i,s),c=Fm(e,l,!0,n.filter.filtersNodes());else{const d=it(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),i),c=Fm(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=qt(t),f=a.getNode().getImmediateChild(d);let b;if(rt(h))b=i;else{const C=u.getCompleteChild(d);b=null!=C?".priority"===GR(h)&&C.getChild(wK(h)).isEmpty()?C:C.updateChild(h,i):Ke.EMPTY_NODE}c=f.equals(b)?e:Fm(e,n.filter.updateChild(a.getNode(),d,b,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function qK(n,e){return n.eventCache.isCompleteForChild(e)}function WK(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function mN(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=rt(t)?i:new an(null).setTree(t,i);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const b=WK(0,e.serverCache.getNode().getImmediateChild(d),h);c=Aw(n,c,new Pt(d),b,r,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const C=WK(0,e.serverCache.getNode().getImmediateChild(d),h);c=Aw(n,c,new Pt(d),C,r,o,s,a)}}),c}function _Se(n,e){const t=Jl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!rt(e)&&!t.getImmediateChild(it(e)).isEmpty())?t.getChild(e):null}function YK(n,e,t,i){e.type===Ps.MERGE&&null!==e.source.queryId&&(ue(Jl(n.viewCache_),"We should always have a full cache before handling merges"),ue(Iw(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function cSe(n,e,t,i,r){const o=new rSe;let s,a;if(t.type===Ps.OVERWRITE){const l=t;l.source.fromUser?s=gN(n,e,l.path,l.snap,i,r,o):(ue(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!rt(l.path),s=Aw(n,e,l.path,l.snap,i,r,a,o))}else if(t.type===Ps.MERGE){const l=t;l.source.fromUser?s=function uSe(n,e,t,i,r,o,s){let a=e;return i.foreach((c,l)=>{const u=In(t,c);qK(e,it(u))&&(a=gN(n,a,u,l,r,o,s))}),i.foreach((c,l)=>{const u=In(t,c);qK(e,it(u))||(a=gN(n,a,u,l,r,o,s))}),a}(n,e,l.path,l.children,i,r,o):(ue(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=mN(n,e,l.path,l.children,i,r,a,o))}else if(t.type===Ps.ACK_USER_WRITE){const l=t;s=l.revert?function fSe(n,e,t,i,r,o){let s;if(null!=Dw(i,t))return e;{const a=new pN(i,e,r),c=e.eventCache.getNode();let l;if(rt(t)||".priority"===it(t)){let u;if(e.serverCache.isFullyInitialized())u=Mw(i,Jl(e));else{const d=e.serverCache.getNode();ue(d instanceof Ke,"serverChildren would be complete if leaf node"),u=hN(i,d)}l=n.filter.updateFullNode(c,u,o)}else{const u=it(t);let d=fN(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?n.filter.updateChild(c,u,d,qt(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,Ke.EMPTY_NODE,qt(t),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Mw(i,Jl(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=Dw(i,Tt()),Fm(e,l,s,n.filter.filtersNodes())}}(n,e,l.path,i,r,o):function dSe(n,e,t,i,r,o,s){if(null!=Dw(r,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(rt(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Aw(n,e,t,c.getNode().getChild(t),r,o,a,s);if(rt(t)){let l=new an(null);return c.getNode().forEachChild(Os,(u,d)=>{l=l.set(new Pt(u),d)}),mN(n,e,t,l,r,o,a,s)}return e}{let l=new an(null);return i.foreach((u,d)=>{const h=In(t,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),mN(n,e,t,l,r,o,a,s)}}(n,e,l.path,l.affectedTree,i,r,o)}else{if(t.type!==Ps.LISTEN_COMPLETE)throw Pd("Unknown operation type: "+t.type);s=function hSe(n,e,t,i,r){const o=e.serverCache;return GK(n,NK(e,o.getNode(),o.isFullyInitialized()||rt(t),o.isFiltered()),t,i,$K,r)}(n,e,t.path,i,o)}const c=o.getChanges();return function lSe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Iw(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function kK(n){return{type:"value",snapshotNode:n}}(Iw(e)))}}(e,s,c),{viewCache:s,changes:c}}(n.processor_,r,e,t,i);return function aSe(n,e){ue(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function XK(n,e,t,i){return function UAe(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function TAe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),Nm(n,r,"child_removed",e,i,t),Nm(n,r,"child_added",e,i,t),Nm(n,r,"child_moved",o,i,t),Nm(n,r,"child_changed",e,i,t),Nm(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let Sw,Ow;function _N(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return ue(null!=o,"SyncTree gave us an op for an invalid query."),YK(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(YK(s,e,t,i));return o}}function Mc(n,e){let t=null;for(const i of n.views.values())t=t||_Se(i,e);return t}class iQ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new an(null),this.pendingWriteTree_=function nSe(){return{visibleWrites:qo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bN(n,e,t,i,r){return function $Ae(n,e,t,i,r){ue(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Lm(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Vh(n,new Zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ac(n,e,t=!1){const i=function qAe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function WAe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);ue(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&KAe(a,i.path)?r=!1:vo(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function QAe(n){n.visibleWrites=BK(n.allWrites,YAe,Tt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=FK(n.visibleWrites,i.path):Pi(i.children,c=>{n.visibleWrites=FK(n.visibleWrites,In(i.path,c))}),!0))}(n.pendingWriteTree_,e)){let o=new an(null);return null!=i.snap?o=o.set(Tt(),!0):Pi(i.children,s=>{o=o.set(new Pt(s),!0)}),Vh(n,new Cw(i.path,o,t))}return[]}function Vm(n,e,t){return Vh(n,new Zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Rw(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const l=Mc(a,Ir(s,e));if(l)return l});return UK(r,e,o,t,!0)}function Vh(n,e){return oQ(e,n.syncPointTree_,null,Tw(n.pendingWriteTree_,Tt()))}function oQ(n,e,t,i){if(rt(n.path))return sQ(n,e,t,i);{const r=e.get(Tt());null==t&&null!=r&&(t=Mc(r,Tt()));let o=[];const s=it(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){const l=t?t.getImmediateChild(s):null,u=jK(i,s);o=o.concat(oQ(a,c,l,u))}return r&&(o=o.concat(_N(r,n,i,t))),o}}function sQ(n,e,t,i){const r=e.get(Tt());null==t&&null!=r&&(t=Mc(r,Tt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=t?t.getImmediateChild(s):null,l=jK(i,s),u=n.operationForChild(s);u&&(o=o.concat(sQ(u,a,c,l)))}),r&&(o=o.concat(_N(r,n,i,t))),o}function vN(n,e){return n.tagToQueryMap.get(e)}function wN(n){const e=n.indexOf("$");return ue(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Pt(n.substr(0,e))}}function xN(n,e,t){const i=n.syncPointTree_.get(e);return ue(i,"Missing sync point for query tag that we're tracking"),_N(i,t,Tw(n.pendingWriteTree_,e),null)}class CN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new CN(t)}node(){return this.node_}}class EN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=In(this.path_,e);return new EN(this.syncTree_,t)}node(){return Rw(this.syncTree_,this.path_)}}const VSe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},cQ=function(n,e,t){return n&&"object"==typeof n?(ue(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?BSe(n[".sv"],e,t):"object"==typeof n[".sv"]?USe(n[".sv"],e):void ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},BSe=function(n,e,t){if("timestamp"===n)return t.timestamp;ue(!1,"Unexpected server value: "+n)},USe=function(n,e,t){n.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&ue(!1,"Unexpected increment value: "+i);const r=e.node();if(ue(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},lQ=function(n,e,t,i){return TN(e,new EN(t,n),i)},IN=function(n,e,t){return TN(n,new CN(e),t)};function TN(n,e,t){const i=n.getPriority().val(),r=cQ(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=cQ(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new Oh(a,Sn(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Oh(r))),s.forEachChild(sn,(a,c)=>{const l=TN(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class MN{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Fw(n,e){let t=e instanceof Pt?e:new Pt(e),i=n,r=it(t);for(;null!==r;){const o=Nd(i.node.children,r)||{children:{},childCount:0};i=new MN(r,i,o),t=qt(t),r=it(t)}return i}function tu(n){return n.node.value}function DN(n,e){n.node.value=e,AN(n)}function uQ(n){return n.node.childCount>0}function Lw(n,e){Pi(n.node.children,(t,i)=>{e(new MN(t,n,i))})}function dQ(n,e,t,i){t&&!i&&e(n),Lw(n,r=>{dQ(r,e,!0,i)}),t&&i&&e(n)}function zm(n){return new Pt(null===n.parent?n.name:zm(n.parent)+"/"+n.name)}function AN(n){null!==n.parent&&function HSe(n,e,t){const i=function zSe(n){return void 0===tu(n)&&!uQ(n)}(t),r=Js(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,AN(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,AN(n))}(n.parent,n.name,n)}const $Se=/[\[\].#$\/\u0000-\u001F\u007F]/,GSe=/[\[\].#$\u0000-\u001F\u007F]/,SN=10485760,Vw=function(n){return"string"==typeof n&&0!==n.length&&!$Se.test(n)},Hm=function(n,e,t){const i=t instanceof Pt?new cAe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Yl(i));if("function"==typeof e)throw new Error(n+"contains a function "+Yl(i)+" with contents = "+e.toString());if(hw(e))throw new Error(n+"contains "+e.toString()+" "+Yl(i));if("string"==typeof e&&e.length>SN/3&&rv(e)>SN)throw new Error(n+"contains a string greater than "+SN+" utf8 bytes "+Yl(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Pi(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Vw(s)))throw new Error(n+" contains an invalid key ("+s+") "+Yl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function lAe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=rv(e),xK(n)})(i,s),Hm(n,a,i),function uAe(n){const e=n.parts_.pop();n.byteLength_-=rv(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Yl(i)+" in addition to actual children.")}},pQ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Vw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!GSe.test(n)}(n)}(t))throw new Error(function iv(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class QSe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eo(n,e,t){(function Bw(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!qR(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function mQ(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(YSe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>vo(i,e)||vo(e,i))}function YSe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Kl&&Oi("event: "+t.toString()),Sh(i)}}}const XSe=25;class ZSe{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QSe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xw(),this.transactionQueueTree_=new MN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bQ(n){const t=n.infoData_.getNode(new Pt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Gm(n){return VSe({timestamp:bQ(n)})}function yQ(n,e,t,i,r){n.dataUpdateCount++;const o=new Pt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const c=tv(t,l=>Sn(l));s=function OSe(n,e,t,i){const r=vN(n,i);if(r){const o=wN(r),s=o.path,a=o.queryId,c=Ir(s,e),l=an.fromObject(t);return xN(n,s,new Fh(aN(a),c,l))}return[]}(n.serverSyncTree_,o,c,r)}else{const c=Sn(t);s=function rQ(n,e,t,i){const r=vN(n,i);if(null!=r){const o=wN(r),s=o.path,a=o.queryId,c=Ir(s,e);return xN(n,s,new Zl(aN(a),c,t))}return[]}(n.serverSyncTree_,o,c,r)}else if(i){const c=tv(t,l=>Sn(l));s=function ASe(n,e,t){const i=an.fromObject(t);return Vh(n,new Fh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,c)}else{const c=Sn(t);s=Vm(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Uh(n,o)),eo(n.eventQueue_,a,s)}function vQ(n,e){PN(n,"connected",e),!1===e&&function ike(n){Bh(n,"onDisconnectEvents");const e=Gm(n),t=xw();rN(n.onDisconnect_,Tt(),(r,o)=>{const s=lQ(r,o,n.serverSyncTree_,e);Nh(t,r,s)});let i=[];rN(t,Tt(),(r,o)=>{i=i.concat(Vm(n.serverSyncTree_,r,o));const s=function LN(n,e){const t=zm(CQ(n,e)),i=Fw(n.transactionQueueTree_,e);return function jSe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{VN(n,r)}),VN(n,i),dQ(i,r=>{VN(n,r)}),t}(n,r);Uh(n,s)}),n.onDisconnect_=xw(),eo(n.eventQueue_,Tt(),i)}(n)}function PN(n,e,t){const i=new Pt("/.info/"+e),r=Sn(t);n.infoData_.updateSnapshot(i,r);const o=Vm(n.infoSyncTree_,i,r);eo(n.eventQueue_,i,o)}function Uw(n){return n.nextWriteId_++}function Bh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Oi(t,...e)}function FN(n,e,t){return Rw(n.serverSyncTree_,e,t)||Ke.EMPTY_NODE}function zw(n,e=n.transactionQueueTree_){if(e||jw(n,e),tu(e)){const t=EQ(n,e);ue(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function uke(n,e,t){const i=t.map(l=>l.currentWriteId),r=FN(n,e,i);let o=r;const s=r.hash();for(let l=0;l<t.length;l++){const u=t[l];ue(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ir(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{Bh(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Ac(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();jw(n,Fw(n.transactionQueueTree_,e)),zw(n,n.transactionQueueTree_),eo(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Sh(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{dr("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}Uh(n,e)}},s)}(n,zm(e),t)}else uQ(e)&&Lw(e,t=>{zw(n,t)})}function Uh(n,e){const t=CQ(n,e),i=zm(t);return function dke(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Ir(t,c.path);let d,u=!1;if(ue(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,r=r.concat(Ac(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=XSe)u=!0,d="maxretry",r=r.concat(Ac(n.serverSyncTree_,c.currentWriteId,!0));else{const h=FN(n,c.path,s);c.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Hm("transaction failed: Data returned ",f,c.path);let b=Sn(f);"object"==typeof f&&null!=f&&Js(f,".priority")||(b=b.updatePriority(h.getPriority()));const I=c.currentWriteId,O=Gm(n),D=IN(b,h,O);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=D,c.currentWriteId=Uw(n),s.splice(s.indexOf(I),1),r=r.concat(bN(n.serverSyncTree_,c.path,D,c.currentWriteId,c.applyLocally)),r=r.concat(Ac(n.serverSyncTree_,I,!0))}else u=!0,d="nodata",r=r.concat(Ac(n.serverSyncTree_,c.currentWriteId,!0))}eo(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}jw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Sh(i[a]);zw(n,n.transactionQueueTree_)}(n,EQ(n,t),i),i}function CQ(n,e){let t,i=n.transactionQueueTree_;for(t=it(e);null!==t&&void 0===tu(i);)i=Fw(i,t),t=it(e=qt(e));return i}function EQ(n,e){const t=[];return IQ(n,e,t),t.sort((i,r)=>i.order-r.order),t}function IQ(n,e,t){const i=tu(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Lw(e,r=>{IQ(n,r,t)})}function jw(n,e){const t=tu(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,DN(e,t.length>0?t:void 0)}Lw(e,i=>{jw(n,i)})}function VN(n,e){const t=tu(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(ue(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(ue(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Ac(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?DN(e,void 0):t.length=o+1,eo(n.eventQueue_,zm(e),r);for(let s=0;s<i.length;s++)Sh(i[s])}}const BN=function(n,e){const t=pke(n),i=t.namespace;return"firebase.com"===t.domain&&ks(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&ks("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&dr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BR(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Pt(t.pathString)}},pke=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function hke(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function fke(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):dr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const b=e.indexOf(".");i=e.substring(0,b).toLowerCase(),t=e.substring(b+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};class to{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return rt(this._path)?null:GR(this._path)}get ref(){return new Wo(this._repo,this._path)}get _queryIdentifier(){const e=PK(this._queryParams),t=LR(e);return"{}"===t?"default":t}get _queryObject(){return PK(this._queryParams)}isEqual(e){if(!((e=xn(e))instanceof to))return!1;const t=this._repo===e._repo,i=qR(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function sAe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Wo extends to{constructor(e,t){super(e,t,new eN,!1)}get parent(){const e=wK(this._path);return null===e?null:new Wo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function vSe(n){ue(!Sw,"__referenceConstructor has already been defined"),Sw=n})(Wo),function ISe(n){ue(!Ow,"__referenceConstructor has already been defined"),Ow=n}(Wo);const zN={};class Rke{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function JSe(n,e,t){if(n.stats_=jR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ww(n.repoInfo_,(i,r,o,s)=>{yQ(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>vQ(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ui(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Xl(n.repoInfo_,e,(i,r,o,s)=>{yQ(n,i,r,o,s)},i=>{vQ(n,i)},i=>{!function eke(n,e){Pi(e,(t,i)=>{PN(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function VDe(n,e){const t=n.toString();return zR[t]||(zR[t]=e()),zR[t]}(n.repoInfo_,()=>new VAe(n.stats_,n.server_)),n.infoData_=new PAe,n.infoSyncTree_=new iQ({startListening:(i,r,o,s)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=Vm(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),PN(n,"connected",!1),n.serverSyncTree_=new iQ({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{const l=s(a,c);eo(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wo(this._repo,Tt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kke(n,e){const t=zN[e];(!t||t[n.key]!==n)&&ks(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function xQ(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ks("Cannot call "+e+" on a deleted database.")}}function Nke(n=Bp(),e){const t=Qa(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=LT("database");i&&function Fke(n,e,t,i={}){(n=xn(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ks("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ks('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Tm(Tm.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:n6(i.mockUserToken,n.app.options.projectId);o=new Tm(s)}!function Ake(n,e,t,i){n.repoInfo_=new BR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}Xl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Xl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Lke(n){(function wDe(n){RR=n})(Ya),zi(new xi("database",(e,{instanceIdentifier:t})=>function Ske(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||ks("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oi("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=BN(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=BN(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const u=r&&c?new Tm(Tm.OWNER):new NDe(n.name,n.options,e);pQ("Invalid Firebase Database URL",s),rt(s.path)||ks("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Oke(n,e,t,i){let r=zN[e.name];r||(r={},zN[e.name]=r);let o=r[n.toURLString()];return o&&ks("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ZSe(n,!1,t,i),r[n.toURLString()]=o,o}(a,n,u,new RDe(n.name,t));return new Rke(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Ht(LW,"0.14.4",n),Ht(LW,"0.14.4","esm2017")}();class jN{constructor(e){return e}}const RQ="database",HN=new X("angularfire2.database-instances");function jke(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new jN(i)}}const Hke={provide:class Uke{constructor(){return Gp(RQ)}},deps:[[new Jt,HN]]},$ke={provide:jN,useFactory:function zke(n,e){const t=$p(RQ,n,e);return t&&new jN(t)},deps:[[new Jt,HN],Za]};let Gke=(()=>{class n{constructor(){Ht("angularfire",Vd.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Je({providers:[$ke,Hke]}),n})();function qke(n,...e){return{ngModule:Gke,providers:[{provide:HN,useFactory:jke(n),multi:!0,deps:[Ae,$t,qp,Wp,[new Jt,Bv],[new Jt,Yp],...e]}]}}const Wke=Ei(Nke,!0),GN="functions";class Zke{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return _(function*(){if(t.appCheck){const i=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var t=this;return _(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const qN="us-central1";class eOe{constructor(e,t,i,r,o=qN,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Zke(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=qN}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const VQ="@firebase/functions";function uOe(n=Bp(),e=qN){const i=Qa(xn(n),GN).getImmediate({identifier:e}),r=LT("functions");return r&&function dOe(n,e,t){!function tOe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(xn(n),e,t)}(i,...r),i}!function lOe(n,e){zi(new xi(GN,(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("messaging-internal"),c=i.getProvider("app-check-internal");return new eOe(o,s,a,c,r,n)},"PUBLIC").setMultipleInstances(!0)),Ht(VQ,"0.10.0",e),Ht(VQ,"0.10.0","esm2017")}(fetch.bind(self));class QN{constructor(e){return e}}const UQ="functions",YN=new X("angularfire2.functions-instances");function pOe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new QN(i)}}const gOe={provide:class hOe{constructor(){return Gp(UQ)}},deps:[[new Jt,YN]]},mOe={provide:QN,useFactory:function fOe(n,e){const t=$p(UQ,n,e);return t&&new QN(t)},deps:[[new Jt,YN],Za]};let _Oe=(()=>{class n{constructor(){Ht("angularfire",Vd.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Je({providers:[mOe,gOe]}),n})();function bOe(n,...e){return{ngModule:_Oe,providers:[{provide:YN,useFactory:pOe(n),multi:!0,deps:[Ae,$t,qp,Wp,[new Jt,Bv],[new Jt,Yp],...e]}]}}const yOe=Ei(uOe,!0);function vOe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td",5),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",8),J("click",function(){const o=Pe(t).$implicit;return Re(tn().Unidades(o.name))}),p(),g(11,"button",9),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoProject(o.name))}),p(),g(12,"button",10),J("click",function(){const o=Pe(t).$implicit;return Re(tn().editProyecto(o.name))}),p()()()}if(2&n){const t=e.$implicit;U(2),We(t.name),U(2),We(t.owner),U(2),We(t.integrantes),U(2),We(t.cliente)}}let wOe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.MyQuery()}getData(){const t=Uo();xs(t,r=>{r&&r.email&&(this.email=r.email)});const i=ve(this.firestore,"projects");fe(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=Ee(this.firestore,"projects",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"projects",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}infoProject(t){this.router.navigate(["user/project-info/"+t])}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Unidades(t){this.router.navigate(["user/unidad-produccion/"+t])}Muestras(t){this.router.navigate(["user/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const i=Uo();let r;r="",console.log(i),xs(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Vt(ve(t.firestore,"projects"),Bt("owner","==",r));fe(a).then(c=>{t.data=[...c.docs.map(l=>({...l.data(),id:l.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-projects"]],decls:23,vars:1,consts:[[1,"center"],[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"integrantes"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"projects works!"),p(),g(2,"div",0)(3,"h1",1),v(4,"Proyectos"),p(),g(5,"div",2)(6,"div",3),J("click",function(){return r.Scan()}),v(7,"SCAN"),p()(),g(8,"div",4)(9,"table")(10,"tr")(11,"th"),v(12," Nombre "),p(),g(13,"th"),v(14," Due\xf1o "),p(),g(15,"th",5),v(16," Integrantes"),p(),g(17,"th"),v(18," Clientes "),p(),Q(19,"th"),p(),ei(20,vOe,13,4,"tr",6),p(),g(21,"button",7),J("click",function(){return r.newProject()}),v(22," Agregar "),p()()()),2&i&&(U(20),ti("ngForOf",r.data))},dependencies:[go],styles:[".center[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%]{position:absolute;margin:10px;left:15%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:45%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:40%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;text-shadow:2px 2px 5px black;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}@media only screen and (min-width: 1536px){.center[_ngcontent-%COMP%]{display:block;width:1200px;position:absolute;left:50%;top:50%;transform:translate(-50%,-60%)}.scanbutton[_ngcontent-%COMP%]{position:relative;width:153px;height:36px;left:49%;top:22%;position:absolute;background:#4C9EFF;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:relative;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:relative;margin:0;width:400px;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:500px;top:0%}.list[_ngcontent-%COMP%]{position:relative;width:1000px;margin:10px;left:200px;top:100px}}"]})}return n})();function xOe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",7),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoMuestra(o.codigo))}),g(11,"div",8),v(12,"Informaci\xf3n"),p()(),g(13,"button",9),J("click",function(){const o=Pe(t).$implicit;return Re(tn().editMuestra(o.codigo))}),g(14,"div",10),v(15,"Editar"),p()(),g(16,"button",11),J("click",function(){const o=Pe(t).$implicit;return Re(tn().Barcode(o.codigo))}),g(17,"div",12),v(18,"Imprimir"),p()()()()}if(2&n){const t=e.$implicit;U(2),We(t.codigo),U(2),We(t.fecha),U(2),We(t.cultivo),U(2),We(t.coordenadas)}}let COe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.up=t.up,console.log(t)}),this.MyQuery()}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"muestras",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"muestras",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["user/muestras-new/"+t])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}backPage(){this.location.back()}MyQuery(){var t=this;return _(function*(){let i=t.up;const r=Vt(ve(t.firestore,"muestras"),Bt("unidad","==",i));fe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield fe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras"]],decls:23,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras works!"),p(),g(2,"h1",0),v(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),J("click",function(){return r.Scan()}),v(6,"ESCANEAR"),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),v(11," Codigo "),p(),g(12,"th"),v(13," Fecha "),p(),g(14,"th"),v(15," Cultivo"),p(),g(16,"th"),v(17," Coordenadas "),p(),Q(18,"th"),p(),ei(19,xOe,19,4,"tr",4),p(),g(20,"button",5),J("click",function(){return r.newMuestra(r.up)}),v(21," Agregar "),p(),g(22,"button",6),J("click",function(){return r.backPage()}),p()()),2&i&&(U(19),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:45%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:35%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;width:30px;height:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})(),EOe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var r=t;this.res=r,wm("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"barcode works!"),p(),w_(),Q(2,"svg",0),oC(),g(3,"form",1,2),J("ngSubmit",function(){Pe(o);const a=un(4);return Re(r.handleRegister(a.value))}),g(5,"div",3)(6,"div",4)(7,"span",5),v(8,"Cantidad: "),p(),g(9,"input",6),st("ngModelChange",function(a){return ht(r.num,a)||(r.num=a),a}),p()(),g(10,"button",7),v(11,"Imprimir"),p()()(),g(12,"button",8),J("click",function(){return r.backPage()}),p()}2&i&&(U(9),ot("ngModel",r.num))},dependencies:[Nn,Bi,XI,wr,Rn,rT,iT,rr,wn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return n})();const IOe=["div"];let TOe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.renderer=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){i.randomCode();let s=t.integrantes.split(/[\s,]+/);const a=Ee(i.firestore,"projects",t.name);Qi(a,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(c=>{alert(c.message)})})()}getData(){const t=ve(this.firestore,"projects");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(et),E(Ro))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-new"]],viewQuery:function(i,r){if(1&i&&Pn(IOe,5),2&i){let o;bn(o=yn())&&(r.div=o.first)}},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"project-new works!"),p(),g(2,"h1",0),v(3,"Nuevo Proyecto"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Name:"),p(),Q(11,"input",7),p(),g(12,"div",5)(13,"span",6),v(14,"Owner:"),p(),Q(15,"input",8),p(),g(16,"div",5)(17,"span",6),v(18,"Integrantes:"),p(),Q(19,"input",9),p(),g(20,"div",5)(21,"span",6),v(22,"Cliente:"),p(),Q(23,"input",10),p(),g(24,"button",11),v(25,"Crear Proyecto"),p()()()()}},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1000px;height:400px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();const MOe=["geo"];let DOe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t),this.Home()}addData(t){const i=Ee(this.firestore,"muestras",t.codigo);console.log(t),Qi(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,unidad:this.pid}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)})}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Home(){this.router.navigate(["user/unidad-produccion-all"])}showPosition(t){n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-new"]],viewQuery:function(i,r){if(1&i&&Pn(MOe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:65,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field"],[1,"boton"],[1,"blank"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"muestras-new works!"),p(),g(2,"h1",0),v(3,"Nueva Muestra"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),Q(11,"input",7),p(),g(12,"div",5)(13,"span",6),v(14,"Cliente:"),p(),Q(15,"input",8),p(),g(16,"div",5)(17,"span",6),v(18,"Fecha:"),p(),Q(19,"input",9),p(),g(20,"div",5)(21,"span",6),v(22,"Cultivo:"),p(),Q(23,"input",10),p(),g(24,"div",5)(25,"span",6),v(26,"Tipo:"),p(),Q(27,"input",11),g(28,"datalist",12),Q(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),v(34,"Fitopat\xf3geno:"),p(),Q(35,"input",16),g(36,"datalist",17),Q(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),v(42,"Lote:"),p(),Q(43,"input",21),p(),g(44,"div",5)(45,"span",6),v(46,"Repetici\xf3n:"),p(),Q(47,"input",22),p(),g(48,"div",5)(49,"span",6),v(50,"Coordenadas:"),p(),g(51,"input",23),st("ngModelChange",function(a){return ht(r.res,a)||(r.res=a),a}),p(),g(52,"div",24),J("click",function(){return r.getLocation()}),Q(53,"img",25),p()(),g(54,"div",5)(55,"span",6),v(56,"S\xedntomas:"),p(),Q(57,"input",26),p(),g(58,"div",5)(59,"span",6),v(60,"Comentarios:"),p(),Q(61,"input",27),p(),g(62,"button",28),v(63,"Crear Muestra"),p()()(),Q(64,"div",29),p()}2&i&&(U(51),ot("ngModel",r.res))},dependencies:[Nn,_p,bp,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:65%;flex-shrink:0;position:absolute;left:50%;top:25%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;position:relative;left:0}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:143px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:78%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();class wo extends Dt{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:i,_value:r,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(i&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,e&&super.next(t),super.complete())}}const AOe=["video"],SOe=["canvas"],kOe=["resultsPanel"],XN="assets/wasm/index.js",Km="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",zQ={audio:!1,video:!0},ZN={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},JN={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},ba={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:zQ,canvasStyles:[ZN,JN]};var Ww=()=>"zbarWasm"in window;const Mt=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},e2=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(i=>{})}},jQ=(n,e,t,i)=>{let r,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=l/u;t.innerHTML="",c>d?(r=l/s,o=l/c/a):(o=u/a,r=u*c/s);for(let h=0;h<n.length;h++){const f=n[h];let b=document.createElement("canvas"),C=b.getContext("2d",{willReadFrequently:!0}),I={},O=[],D=[],B=0,Y=0,ae=2===i.length&&i[1]?.font?.replace(/[^0-9]/g,"");ae&&/[0-9]/g.test(ae)&&(B=parseFloat(ae),Y=(r||1)*B,Number.isNaN(Y)&&(Y=B));const pe=f.points;for(let Ut=0;Ut<pe.length;Ut++){const du=pe?.[Ut]?.x??0,hu=pe?.[Ut]?.y??0;I[`x${Ut+1}`]=du,I[`y${Ut+1}`]=hu,O.push(du),D.push(hu)}let Ge=Math.max(...O),gt=Math.min(...O),ai=Math.max(...D),Yi=Math.min(...D);b.setAttribute("class","qrcode-polygon"),c>d?(b.style.top=Yi*o+.5*(u-l/c)+"px",b.style.left=gt*r+"px",b.width=(Ge-gt)*r,b.height=(ai-Yi)*r):(b.style.top=Yi*o+"px",b.style.left=gt*r+.5*(l-u*c)+"px",b.width=(Ge-gt)*o,b.height=(ai-Yi)*o);for(const Ut in i[0])C[Ut]=i[0][Ut];const Qh=[];for(let Ut=0;Ut<O.length;Ut++)Qh.push((I[`x${Ut+1}`]-gt)*o),Qh.push((I[`y${Ut+1}`]-Yi)*r);const ro=Qh.slice(0);for(C.beginPath(),C.moveTo(ro.shift(),ro.shift());ro.length;)C.lineTo(ro.shift(),ro.shift());if(C.closePath(),C.fill(),C.stroke(),B){const Ut=document.createElement("div");Ut.setAttribute("class","qrcode-tooltip-temp"),Ut.innerText=f.value,Ut.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",Ut.style.borderRadius=`clamp(1px, ${r*B-10}px, 3px)`,Ut.style.paddingBlock=`clamp(1px, ${r*B-10}px, 3px)`,Ut.style.paddingInline=`clamp(2.5px, ${r*B-6}px, 10px)`;const du=`<svg xmlns="http://www.w3.org/2000/svg" width="${Y}" height="${Y}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,hu=(new DOMParser).parseFromString(du,"application/xml"),_e=Ut.ownerDocument.importNode(hu.documentElement,!0);_e.style.marginLeft=`clamp(1px, ${r*B-10}px, 3px)`,Ut.appendChild(_e),_e.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value)),Ut.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value));const ye=document.createElement("div");ye.setAttribute("class","qrcode-tooltip"),ye.appendChild(Ut),o=u/a,r=u*c/s,ye.style.fontSize=r*B+"px",ye.style.top=Yi*o+"px",ye.style.left=gt*r+.5*(l-u*c)+"px",ye.style.width=(Ge-gt)*o+"px",ye.style.height=(ai-Yi)*o+"px";const Ie=document.createElement("span");Ie.innerText=f.value,Ie.style.top=Yi*o+-20*o+"px",Ie.style.left=gt*r+.5*(l-u*c)+"px";const vt=i[1]?.font?.split(" ")?.[1];Ie.style.fontFamily=vt,Ie.style.fontSize=r*B+"px",Ie.style.color=i?.[1]?.fillStyle,t?.appendChild(ye),t?.appendChild(Ie)}t?.appendChild(b)}},HQ=(n,e)=>new Promise((t,i)=>n.toBlob(r=>t(r),e)),$Q=(n=[],e,t,i,r=new wo)=>(GQ(n,t,i).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??ba.decode,i=2===e?.canvasStyles?.length?e?.canvasStyles:[ZN,JN],r=e?.isBeep??ba.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:n.name,file:n,url:URL.createObjectURL(n)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=_(function*(){const u=document.createElement("canvas");u.width=l.naturalWidth||l.width,u.height=l.naturalHeight||l.height;const d=u.getContext("2d");d.drawImage(l,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(Ww()){const f=yield zbarWasm.scanImageData(h);if(f?.length){f.forEach(O=>O.value=O.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let i=e.getContext("2d",{willReadFrequently:!0});for(let r=0;r<n.length;r++){const o=n[r];let s={},a=[],c=[],l=0,d=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(l=parseFloat(d));const h=o.points;for(let D=0;D<h.length;D++){const B=h?.[D]?.x??0,Y=h?.[D]?.y??0;s[`x${D+1}`]=B,s[`y${D+1}`]=Y,a.push(B),c.push(Y)}let f=Math.min(...a),b=Math.min(...c);const C=()=>{for(const Y in t[0])i[Y]=t[0][Y];const D=[];for(let Y=0;Y<a.length;Y++)D.push(s[`x${Y+1}`]),D.push(s[`y${Y+1}`]);const B=D.slice(0);for(i.beginPath(),i.moveTo(B.shift(),B.shift());B.length;)i.lineTo(B.shift(),B.shift());i.closePath(),i.fill(),i.stroke()};let I=document.createElement("canvas");const O=()=>{const D=t[1]?.font?.split(" ")?.[1];I.height=e.height,I.width=e.width;let B=I.getContext("2d",{willReadFrequently:!0});B.font=l+"px "+D;for(const Y in t[1])B[Y]=t[1][Y];VOe(B,o.value,f,b-5)};C(),O(),i.drawImage(I,0,0)}})(f,u,i);const b=yield HQ(u),C=URL.createObjectURL(b);o(Object.assign({},c,{data:f,url:C,canvas:u,file:(O=b,D=c.name,new File([O],D,{lastModified:(new Date).getTime(),type:O.type}))})),e2(r)}else o(Object.assign({},c,{data:f,canvas:u}))}var O,D}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(n)})})(s,e))).then(s=>{Mt(r,s)}).catch(s=>Mt(r,null,s))}),r),VOe=(n,e,t,i)=>{let r=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,i),n.strokeText(o[s],t,i),i+=r},GQ=function(){var n=_(function*(e=[],t=.5,i="image/jpeg"){if(!e.length||1===t)return e;const r=function(){var s=_(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const d=yield new Promise(h=>l.toBlob(h,i,t));return new File([d],a.name,{type:d.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield _(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield r(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),qQ=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},t2=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},WQ=(n=300)=>{n&&UOe()&&window?.navigator?.vibrate(n)},UOe=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let KQ=(()=>{class n{loadFiles(t=[],i,r){const o=new wo;return GQ(t,i,r).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>Mt(o,a)).catch(a=>Mt(o,null,a))}),o}loadFilesToScan(t=[],i,r,o){return $Q(t,i,r,o)}readAsDataURL(t){return new Promise((i,r)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};i(s)},o.onerror=s=>r(s),o.readAsDataURL(t)})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jOe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i,this.event=new Qe,this.src=ba.src,this.fps=ba.fps,this.vibrate=ba.vibrate,this.decode=ba.decode,this.isBeep=ba.isBeep,this.config=ba,this.constraints=ba.constraints,this.canvasStyles=[ZN,JN],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new pr([]),this.devices=new pr([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new wo,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),((n=new wo,e)=>{let t=0;const i=(r=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),Ww()?setTimeout(()=>Mt(n,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${Km}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${XN}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",r?Km:XN),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Mt(n,!1,Km)},t+=1}else{const l=document.createElement("script");l.setAttribute("src",r?Km:XN),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Mt(n,!1,Km)},t+=1}}};return i(),n})(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const i=new wo;return this.isStart?Mt(i,!1):this.safariWebRTC(i,t),i}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new wo;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(i=>{i.stop(),Mt(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),qQ(this.resultsPanel.nativeElement)}catch(i){Mt(t,!1,i)}return t}play(){const t=new wo;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),Mt(t,!0)):Mt(t,!1),t}pause(){const t=new wo;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),Mt(t,!0)):Mt(t,!1),t}playDevice(t,i=new wo){const r=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),Mt(i,!1);break;case t&&(!this.isStart||!r||r.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),Mt(i,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),Mt(i,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:Mt(i,!1),this.STATUS.loadingOFF()}return i}loadImage(t){const i=new wo;this.STATUS.startOFF(),this.STATUS.loadingON();const r=new Image;return r.setAttribute("crossOrigin","anonymous"),r.onload=()=>{Ww()&&this.drawImage(r,o=>{Mt(i,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},r.src=t,i}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,i=0){var r=this;const o=new wo;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===i&&void 0===i&&Number.isNaN(i))Mt(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[i];new window.ImageCapture(a).getPhotoCapabilities().then(_(function*(){yield a.applyConstraints(t),t2(r.video.nativeElement,r.canvas.nativeElement),Mt(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":Mt(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":Mt(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":Mt(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":Mt(o,!1,"Permission denied in browser");break;case"TypeError":Mt(o,!1,"Empty constraints object");break;default:Mt(o,!1,l)}})}}else Mt(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,i,r){var o=this;const s=new wo;return _(function*(){const c=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield HQ(o.canvas.nativeElement),t);$Q([c],o.config,i,r,s).subscribe(l=>{l.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{jQ(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),t2(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const i in t){const r=JSON.parse(JSON.stringify({...e[n],[i]:t[i]}));e[n]=e[n].hasOwnProperty(i)?e[n]:r}return e[n]}return t})("constraints",this.config,zQ)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,i){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(r=>{r.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,i)}).catch(r=>{Mt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,i){navigator.mediaDevices.enumerateDevices().then(r=>{let o=r.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(Mt(t,o),i?i(o):this.playDevice(o[0].deviceId)):(Mt(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(r=>{Mt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,i=(()=>{})){var r=this;return _(function*(){const o=r.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",r.video.nativeElement.style.visibility="hidden",r.renderer.setStyle(r.elementRef.nativeElement,"width",o.width+"px"),r.renderer.setStyle(r.elementRef.nativeElement,"maxWidth","100%"),r.renderer.setStyle(r.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",r.canvas.nativeElement.style.visibility="hidden"),t2(r.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(u=>u.value=u.decode(r.decode?.toLocaleLowerCase())),jQ(c,Object.freeze(r.canvas.nativeElement),r.resultsPanel.nativeElement,r.canvasStyles);const l=()=>{r.eventEmit(c),r.dataForResize=c};t instanceof HTMLImageElement&&(i(!0),l(),WQ(r.vibrate),e2(r.isBeep)),t instanceof HTMLVideoElement&&(l(),WQ(r.vibrate),e2(r.isBeep))}else i(!1),qQ(r.resultsPanel.nativeElement),r.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,Ww()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ro),E(ln))};static#t=this.\u0275cmp=Te({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(i,r){if(1&i&&(Pn(AOe,5),Pn(SOe,5),Pn(kOe,5)),2&i){let o;bn(o=yn())&&(r.video=o.first),bn(o=yn())&&(r.canvas=o.first),bn(o=yn())&&(r.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(i,r){1&i&&Q(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}return n})(),Kw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({providers:[KQ]})}return n})();const qOe=["action"];function WOe(n,e){1&n&&(g(0,"p"),v(1,"\u231b Loading..."),p())}let KOe=(()=>{class n{constructor(t,i,r,o,s){this.qrcode=t,this.router=i,this.route=r,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,i){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,i){"start"===i?t[i](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(i,o),alert):t[i]().subscribe(o=>console.log(i,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(i=>{this.qrCodeResult=i})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(i=>{console.log(i),this.qrCodeResult2=i})}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}MyQuery(){var t=this;return _(function*(){let i=t.item;console.log(i);const r=Vt(ve(t.firestore,"muestras"),Bt("codigo","==",i));fe(r).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+i]))})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(KQ),E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-scan"]],viewQuery:function(i,r){if(1&i&&Pn(qOe,5),2&i){let o;bn(o=yn())&&(r.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(i,r){if(1&i){const o=mt();g(0,"div",0)(1,"ngx-scanner-qrcode",1,2),J("event",function(a){Pe(o);const c=un(2);return Re(r.onEvent(a,c))}),p(),ei(3,WOe,2,0,"p",3),g(4,"button",4),J("click",function(){Pe(o);const a=un(2);return Re(r.handle(a,a.isStart?"stop":"start"))}),Q(5,"img",5),p()()}if(2&i){const o=un(2);U(),ti("config",r.config),U(2),ti("ngIf",o.isLoading),U(),uo("btn-info",!o.isStart)("btn-warning",o.isStart),ti("disabled",o.isLoading),U(),ti("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",iE)}},dependencies:[mI,jOe],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:antiquewhite;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:55%;width:55%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:85%;position:absolute;left:15%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:antiquewhite;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:28%;width:100%;position:absolute}}@media only screen and (min-width: 1536px){.screen[_ngcontent-%COMP%]{display:block;height:40%;width:40%;margin-left:auto;margin-right:auto}}"]})}return n})();const QOe=["geo"];let YOe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return _(function*(){console.log(t);const r=Ee(i.firestore,"muestras",t.codigo);ur(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Vt(ve(t.firestore,"muestras"),Bt("codigo","==",i)),o=yield fe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Muestra?")){const o=Ee(this.firestore,"muestras",this.x);En(o).then(()=>{alert("Data Deleted"),this.Home()}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}static#t=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(i,r){if(1&i&&Pn(QOe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:67,vars:11,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"muestras-edit works!"),p(),g(2,"h1",0),v(3,"Editar Muestra"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),g(11,"input",7),st("ngModelChange",function(a){return ht(r.item.codigo,a)||(r.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Cliente:"),p(),g(15,"input",8),st("ngModelChange",function(a){return ht(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Fecha:"),p(),g(19,"input",9),st("ngModelChange",function(a){return ht(r.item.fecha,a)||(r.item.fecha=a),a}),p()(),g(20,"div",5)(21,"span",6),v(22,"Cultivo:"),p(),g(23,"input",10),st("ngModelChange",function(a){return ht(r.item.cultivo,a)||(r.item.cultivo=a),a}),p()(),g(24,"div",5)(25,"span",6),v(26,"Tipo:"),p(),g(27,"input",11),st("ngModelChange",function(a){return ht(r.item.tipo,a)||(r.item.tipo=a),a}),p(),g(28,"datalist",12),Q(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),v(34,"Fitopat\xf3geno:"),p(),g(35,"input",16),st("ngModelChange",function(a){return ht(r.item.fitopatogeno,a)||(r.item.fitopatogeno=a),a}),p(),g(36,"datalist",17),Q(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),v(42,"Lote:"),p(),g(43,"input",21),st("ngModelChange",function(a){return ht(r.item.lote,a)||(r.item.lote=a),a}),p()(),g(44,"div",5)(45,"span",6),v(46,"Repetici\xf3n:"),p(),g(47,"input",22),st("ngModelChange",function(a){return ht(r.item.repeticion,a)||(r.item.repeticion=a),a}),p()(),g(48,"div",5)(49,"span",6),v(50,"Coordenadas:"),p(),g(51,"input",23),st("ngModelChange",function(a){return ht(r.res,a)||(r.res=a),a}),p(),g(52,"div",24),J("click",function(){return r.getLocation()}),Q(53,"img",25),p()(),g(54,"div",5)(55,"span",6),v(56,"S\xedntomas:"),p(),g(57,"input",26),st("ngModelChange",function(a){return ht(r.item.sintomas,a)||(r.item.sintomas=a),a}),p()(),g(58,"div",5)(59,"span",6),v(60,"Comentarios:"),p(),g(61,"input",27),st("ngModelChange",function(a){return ht(r.item.comentarios,a)||(r.item.comentarios=a),a}),p()(),g(62,"button",28),v(63,"Editar Muestra"),p(),g(64,"button",29),J("click",function(){return r.deleteData(r.item.id)}),v(65," Eliminar "),p()(),Q(66,"div",30),p()()}2&i&&(U(11),ot("ngModel",r.item.codigo),U(4),ot("ngModel",r.item.cliente),U(4),ot("ngModel",r.item.fecha),U(4),ot("ngModel",r.item.cultivo),U(4),ot("ngModel",r.item.tipo),U(8),ot("ngModel",r.item.fitopatogeno),U(8),ot("ngModel",r.item.lote),U(4),ot("ngModel",r.item.repeticion),U(4),ot("ngModel",r.res),U(6),ot("ngModel",r.item.sintomas),U(4),ot("ngModel",r.item.comentarios))},dependencies:[Nn,_p,bp,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;padding-top:2px;width:65%;height:65%;flex-shrink:0;position:absolute;left:50%;top:24%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;padding-top:7px;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:39%;top:16%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:75%;flex-shrink:0;position:absolute;left:2.5%;top:35%;transform:none;padding-bottom:20px}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}return n})();const XOe=["geo"];let ZOe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ee(this.firestore,"muestras",t.codigo);Qi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Vt(ve(t.firestore,"muestras"),Bt("codigo","==",i)),o=yield fe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const i=Ee(this.firestore,"users",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&Pn(XOe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"muestras-info works!"),p(),g(2,"h1",0),v(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Cliente:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Fecha:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Cultivo:"),p(),g(26,"span",7),v(27),p()(),g(28,"div",5)(29,"span",6),v(30,"Tipo:"),p(),g(31,"span",7),v(32),p()(),g(33,"div",5)(34,"span",6),v(35,"Fitopat\xf3geno:"),p(),g(36,"span",7),v(37),p()(),g(38,"div",5)(39,"span",6),v(40,"Lote:"),p(),g(41,"span",7),v(42),p()(),g(43,"div",5)(44,"span",6),v(45,"Repetici\xf3n:"),p(),g(46,"span",7),v(47),p()(),g(48,"div",5)(49,"span",6),v(50,"S\xedntomas:"),p(),g(51,"span",7),v(52),p()(),g(53,"div",5)(54,"span",6),v(55,"Comentarios:"),p(),g(56,"span",7),v(57),p()()()()(),g(58,"button",8),J("click",function(){return r.editMuestra()}),v(59,"Editar Muestra"),p()}2&i&&(U(12),Se(" ",r.item.codigo,""),U(5),Se(" ",r.item.cliente,""),U(5),Se(" ",r.item.fecha,""),U(5),Se(" ",r.item.cultivo,""),U(5),Se(" ",r.item.tipo,""),U(5),Se(" ",r.item.fitopatogeno,""),U(5),Se(" ",r.item.lote,""),U(5),Se(" ",r.item.repeticion,""),U(5),Se(" ",r.item.sintomas,""),U(5),Se(" ",r.item.comentarios,""))},dependencies:[Nn,Rn,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:57%;flex-shrink:0;position:absolute;left:50%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:37%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}return n})();const JOe=["geo"];let ePe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=Ee(this.firestore,"projects",this.pid);Qi(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"projects");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Vt(ve(t.firestore,"projects"),Bt("name","==",i));(yield fe(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ee(this.firestore,"projects",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-edit"]],viewQuery:function(i,r){if(1&i&&Pn(JOe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"project-edit works!"),p(),g(2,"h1",0),v(3,"Editar Projecto"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),g(11,"input",7),st("ngModelChange",function(a){return ht(r.item.name,a)||(r.item.name=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Owner:"),p(),g(15,"input",8),st("ngModelChange",function(a){return ht(r.item.owner,a)||(r.item.owner=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Integrantes:"),p(),g(19,"input",9),st("ngModelChange",function(a){return ht(r.item.integrantes,a)||(r.item.integrantes=a),a}),p()(),g(20,"div",5)(21,"span",6),v(22,"Cliente:"),p(),g(23,"input",10),st("ngModelChange",function(a){return ht(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(24,"button",11),v(25,"Editar Projecto"),p(),g(26,"button",12),J("click",function(){return r.deleteData(r.pid)}),v(27," Delete "),p()()()()}2&i&&(U(11),ot("ngModel",r.item.name),U(4),ot("ngModel",r.item.owner),U(4),ot("ngModel",r.item.integrantes),U(4),ot("ngModel",r.item.cliente))},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:280px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();function tPe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",5),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoMuestra(o.codigo))}),g(11,"div",6),v(12,"Informaci\xf3n"),p()(),g(13,"button",7),J("click",function(){const o=Pe(t).$implicit;return Re(tn().editMuestra(o.codigo))}),g(14,"div",8),v(15,"Editar"),p()(),g(16,"button",9),J("click",function(){const o=Pe(t).$implicit;return Re(tn().Barcode(o.codigo))}),g(17,"div",10),v(18,"Imprimir"),p()()()()}if(2&n){const t=e.$implicit;U(2),We(t.codigo),U(2),We(t.fecha),U(2),We(t.cultivo),U(2),We(t.coordenadas)}}let nPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"muestras",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"muestras",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Vt(ve(t.firestore,"muestras"),Bt("project","==",i));fe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield fe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras-all works!"),p(),g(2,"h1",0),v(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),J("click",function(){return r.Scan()}),v(6,"ESCANEAR"),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),v(11," Codigo "),p(),g(12,"th"),v(13," Fecha "),p(),g(14,"th"),v(15," Cultivo"),p(),g(16,"th"),v(17," Coordenadas "),p(),Q(18,"th"),p(),ei(19,tPe,19,4,"tr",4),p()()),2&i&&(U(19),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4C9EFF;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-40%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:48%;text-overflow:ellipsis;transform:none}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const iPe=["geo"];let rPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=Ee(this.firestore,"projects",this.pid);Qi(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"projects");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Vt(ve(t.firestore,"projects"),Bt("name","==",i));(yield fe(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ee(this.firestore,"projects",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}editProyecto(){this.router.navigate(["user/project-edit/"+this.text])}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-info"]],viewQuery:function(i,r){if(1&i&&Pn(iPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"project-info works!"),p(),g(2,"h1",0),v(3,"Datos del Projecto"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Owner:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Integrantes:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Cliente:"),p(),g(26,"span",7),v(27),p()()()()(),g(28,"button",8),J("click",function(){return r.editProyecto()}),v(29,"Editar Proyecto"),p()}2&i&&(U(12),Se(" ",r.item.name,""),U(5),Se(" ",r.item.owner,""),U(5),Se(" ",r.item.integrantes,""),U(5),Se(" ",r.item.cliente,""))},dependencies:[Nn,Rn,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:60%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:260px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();function oPe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",8),J("click",function(){const o=Pe(t).$implicit,s=tn();return Re(s.Muestras(s.pid,o.codigo))}),p(),g(11,"button",9),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoUnidad(o.codigo))}),p(),g(12,"button",10),J("click",function(){const o=Pe(t).$implicit;return Re(tn().editUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;U(2),We(t.codigo),U(2),We(t.cliente),U(2),We(t.altitud),U(2),We(t.coordenadas)}}let sPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=ve(this.firestore,"unidad-produccion");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"unidad-produccion",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"unidad-produccion",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;console.log(i);const r=Vt(ve(t.firestore,"unidad-produccion"),Bt("project","==",i));fe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield fe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"unidad-produccion works!"),p(),g(2,"h1",0),v(3,"Unidades "),p(),g(4,"div",1)(5,"div",2),J("click",function(){return r.Scan()}),v(6,"SCAN"),p()(),g(7,"div",3)(8,"div",4),v(9,"Proyecto"),p(),g(10,"table")(11,"tr")(12,"th"),v(13," Codigo "),p(),g(14,"th"),v(15," Cliente "),p(),g(16,"th"),v(17," Altitud"),p(),g(18,"th"),v(19," Coordenadas "),p(),Q(20,"th"),p(),ei(21,oPe,13,4,"tr",5),p(),g(22,"button",6),J("click",function(){return r.newUnidad(r.pid)}),v(23," Agregar "),p(),g(24,"button",7),J("click",function(){return r.backPage()}),p()()),2&i&&(U(21),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const aPe=["geo"];let cPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe,this.email=""}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){console.log(t),this.addData(t),this.Home()}addData(t){const i=Ee(this.firestore,"unidad-produccion",t.codigo),r=Uo();xs(r,o=>{o&&o.email&&(this.email=o.email)}),Qi(i,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"unidad-produccion");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}Home(){this.router.navigate(["user/unidad-produccion-all"])}static#t=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(i,r){if(1&i&&Pn(aPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:52,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"unidad-produccion-new works!"),p(),g(2,"h1",0),v(3,"Nueva Unidad"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),Q(11,"input",7),p(),g(12,"div",5)(13,"span",6),v(14,"Cliente:"),p(),Q(15,"input",8),p(),g(16,"div",5)(17,"span",6),v(18,"Coordenadas:"),p(),g(19,"input",9),st("ngModelChange",function(a){return ht(r.res,a)||(r.res=a),a}),p(),g(20,"div",10),J("click",function(){return r.getLocation()}),Q(21,"img",11),p()(),g(22,"div",5)(23,"span",6),v(24,"Localidad:"),p(),Q(25,"input",12),p(),g(26,"div",5)(27,"span",6),v(28,"Municipio:"),p(),Q(29,"input",13),p(),g(30,"div",5)(31,"span",6),v(32,"Estado:"),p(),Q(33,"input",14),p(),g(34,"div",5)(35,"span",6),v(36,"Altitud:"),p(),Q(37,"input",15),p(),g(38,"div",5)(39,"span",6),v(40,"Temperaturas M\xe1ximas:"),p(),Q(41,"input",16),p(),g(42,"div",5)(43,"span",6),v(44,"Temperaturas M\xednimas:"),p(),Q(45,"input",17),p(),g(46,"div",5)(47,"span",6),v(48,"Precipitaci\xf3n:"),p(),Q(49,"input",18),p(),g(50,"button",19),v(51,"Crear Unidad"),p()()()()}2&i&&(U(19),ot("ngModel",r.res))},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:70%;height:20px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:19%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:88%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1100px;height:550px;flex-shrink:0;position:absolute;left:60%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}return n})();const lPe=["geo"];let uPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return _(function*(){console.log(t);const r=Ee(i.firestore,"unidad-produccion",t.codigo);ur(r,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=ve(this.firestore,"unidad-produccion");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Vt(ve(t.firestore,"unidad-produccion"),Bt("codigo","==",i)),o=yield fe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas})})()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Unidad de Producci\xf3n?")){const o=Ee(this.firestore,"unidad-produccion",this.x);En(o).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion-all"])}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(i,r){if(1&i&&Pn(lPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:55,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field",3,"ngModel","ngModelChange"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field",3,"ngModel","ngModelChange"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field",3,"ngModel","ngModelChange"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field",3,"ngModel","ngModelChange"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"unidad-produccion-edit works!"),p(),g(2,"h1",0),v(3,"Editar Unidad"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),g(11,"input",7),st("ngModelChange",function(a){return ht(r.item.codigo,a)||(r.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Cliente:"),p(),g(15,"input",8),st("ngModelChange",function(a){return ht(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Coordenadas:"),p(),g(19,"input",9),st("ngModelChange",function(a){return ht(r.res,a)||(r.res=a),a}),p(),g(20,"div",10),J("click",function(){return r.getLocation()}),Q(21,"img",11),p()(),g(22,"div",5)(23,"span",6),v(24,"Localidad:"),p(),g(25,"input",12),st("ngModelChange",function(a){return ht(r.item.localidad,a)||(r.item.localidad=a),a}),p()(),g(26,"div",5)(27,"span",6),v(28,"Municipio:"),p(),g(29,"input",13),st("ngModelChange",function(a){return ht(r.item.municipio,a)||(r.item.municipio=a),a}),p()(),g(30,"div",5)(31,"span",6),v(32,"Estado:"),p(),g(33,"input",14),st("ngModelChange",function(a){return ht(r.item.estado,a)||(r.item.estado=a),a}),p()(),g(34,"div",5)(35,"span",6),v(36,"Altitud:"),p(),g(37,"input",15),st("ngModelChange",function(a){return ht(r.item.altitud,a)||(r.item.altitud=a),a}),p()(),g(38,"div",5)(39,"span",6),v(40,"Temperaturas M\xe1ximas:"),p(),g(41,"input",16),st("ngModelChange",function(a){return ht(r.item.tempmax,a)||(r.item.tempmax=a),a}),p()(),g(42,"div",5)(43,"span",6),v(44,"Temperaturas M\xednimas:"),p(),g(45,"input",17),st("ngModelChange",function(a){return ht(r.item.tempmin,a)||(r.item.tempmin=a),a}),p()(),g(46,"div",5)(47,"span",6),v(48,"Precipitaci\xf3n:"),p(),g(49,"input",18),st("ngModelChange",function(a){return ht(r.item.precipitacion,a)||(r.item.precipitacion=a),a}),p()(),g(50,"button",19),v(51,"Editar Unidad"),p(),g(52,"button",20),J("click",function(){return r.deleteData(r.item.id)}),v(53," Eliminar "),p()(),Q(54,"div",21),p()()}2&i&&(U(11),ot("ngModel",r.item.codigo),U(4),ot("ngModel",r.item.cliente),U(4),ot("ngModel",r.res),U(6),ot("ngModel",r.item.localidad),U(4),ot("ngModel",r.item.municipio),U(4),ot("ngModel",r.item.estado),U(4),ot("ngModel",r.item.altitud),U(4),ot("ngModel",r.item.tempmax),U(4),ot("ngModel",r.item.tempmin),U(4),ot("ngModel",r.item.precipitacion))},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:30%;top:25%;transform:translate(0)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:-moz-fit-content;height:fit-content;font-family:Arial;font-size:16px;letter-spacing:0;margin-top:5px;margin-bottom:10px}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:75%;flex-shrink:0;position:absolute;left:2.5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:30%;top:25%;transform:translate(0)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px,15px)}.botonrojo[_ngcontent-%COMP%]{position:absolute;transform:translateY(15px)}}"]})}return n})();const dPe=["geo"];let hPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ee(this.firestore,"unidad-produccion",t.codigo);Qi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"unidad-produccion");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Vt(ve(t.firestore,"unidad-produccion"),Bt("codigo","==",i)),o=yield fe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=Ee(this.firestore,"users",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&Pn(dPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),v(3,"Datos de la Unidad"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Cliente:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Coordenadas:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Localidad:"),p(),g(26,"span",7),v(27),p()(),g(28,"div",5)(29,"span",6),v(30,"Municipio:"),p(),g(31,"span",7),v(32),p()(),g(33,"div",5)(34,"span",6),v(35,"Estado:"),p(),g(36,"span",7),v(37),p()(),g(38,"div",5)(39,"span",6),v(40,"Altitud:"),p(),g(41,"span",7),v(42),p()(),g(43,"div",5)(44,"span",6),v(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),v(47),p()(),g(48,"div",5)(49,"span",6),v(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),v(52),p()(),g(53,"div",5)(54,"span",6),v(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),v(57),p()()()()(),g(58,"button",8),J("click",function(){return r.editMuestra()}),v(59,"Editar Unidad"),p()}2&i&&(U(12),Se(" ",r.item.codigo,""),U(5),Se(" ",r.item.cliente,""),U(5),Se(" ",r.item.coordenadas,""),U(5),Se(" ",r.item.localidad,""),U(5),Se(" ",r.item.municipio,""),U(5),Se(" ",r.item.cliente,""),U(5),Se(" ",r.item.altitud,""),U(5),Se(" ",r.item.tempmax,""),U(5),Se(" ",r.item.tempmin,""),U(5),Se(" ",r.item.precipitacion,""))},dependencies:[Nn,Rn,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:52%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}return n})();function fPe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",4),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoClients(o.email))}),p(),g(11,"button",5),J("click",function(){const o=Pe(t).$implicit;return Re(tn().editClients(o.email))}),p()()()}if(2&n){const t=e.$implicit;U(2),We(t.email),U(2),We(t.nombre),U(2),We(t.telefono),U(2),We(t.direccion)}}let pPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=ve(this.firestore,"clientes");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"muestras",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"muestras",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoClients(t){this.router.navigate(["user/clients-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Vt(ve(t.firestore,"muestras"),Bt("project","==",i));fe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield fe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"clients works!"),p(),g(2,"h1",0),v(3,"Clientes"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Email "),p(),g(9,"th"),v(10," Nombre "),p(),g(11,"th"),v(12," Telefono"),p(),g(13,"th"),v(14," Direccion "),p(),Q(15,"th"),p(),ei(16,fPe,12,4,"tr",2),p(),g(17,"button",3),J("click",function(){return r.newClients()}),v(18," Agregar "),p()()),2&i&&(U(16),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:32%;left:45%;transform:translate(-25%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;width:94%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{transform:none;position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{transform:none;color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const gPe=["geo"];let mPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=Ee(this.firestore,"clientes",t.email);Qi(i,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-clients-new"]],viewQuery:function(i,r){if(1&i&&Pn(gPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"clients-new works!"),p(),g(2,"h1",0),v(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Email:"),p(),Q(11,"input",7),p(),g(12,"div",5)(13,"span",6),v(14,"Nombre:"),p(),Q(15,"input",8),p(),g(16,"div",5)(17,"span",6),v(18,"Telefono:"),p(),Q(19,"input",9),p(),g(20,"div",5)(21,"span",6),v(22,"Direccion:"),p(),Q(23,"input",10),p(),g(24,"button",11),v(25,"Crear Cliente"),p()()()()}},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function _Pe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",6),J("click",function(){const o=Pe(t).$implicit;return Re(tn().Muestras(o.project,o.codigo))}),g(11,"div",7),v(12,"Listar Muestras"),p()(),g(13,"button",8),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoUnidad(o.codigo))}),g(14,"div",9),v(15,"Informaci\xf3n"),p()(),g(16,"button",10),J("click",function(){const o=Pe(t).$implicit;return Re(tn().editUnidad(o.codigo))}),g(17,"div",11),v(18,"Editar"),p()()()()}if(2&n){const t=e.$implicit;U(2),We(t.codigo),U(2),We(t.cliente),U(2),We(t.altitud),U(2),We(t.coordenadas)}}let bPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.elem=s,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)})}getData(){const t=ve(this.firestore,"unidad-produccion");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"unidad-produccion",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"unidad-produccion",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+i])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new"])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;console.log(i);const r=Vt(ve(t.firestore,"unidad-produccion"),Bt("project","==",i));fe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield fe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(ln))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-all"]],decls:22,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),v(3,"Unidades de Producci\xf3n "),p(),g(4,"div",1)(5,"div",2),J("click",function(){return r.Scan()}),v(6," ESCANEAR "),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),v(11," Nombre "),p(),g(12,"th"),v(13," Cliente "),p(),g(14,"th"),v(15," Altitud"),p(),g(16,"th"),v(17," Coordenadas "),p(),Q(18,"th"),p(),ei(19,_Pe,19,4,"tr",4),p(),g(20,"button",5),J("click",function(){return r.newUnidad(r.pid)}),v(21," Agregar "),p()()),2&i&&(U(19),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:50%;top:38%;transform:translate(-30%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:50%;top:30%;transform:translate(0);position:absolute;background:#4C9EFF;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:650px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:20%;transform:translate(-35%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;top:50%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;transform:none;left:35%;top:40%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;transform:none;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:200px;height:100px;font-family:Verdana;font-size:28px;letter-spacing:0;transform:none;position:absolute;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.muestras-tip[_ngcontent-%COMP%]{margin:5px;position:relative;top:-28px;left:-45px;font-size:10px}.detalles-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-48px}.edit-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-33px}}"]})}return n})();const yPe=["geo"];let vPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return _(function*(){console.log(t);const r=Ee(i.firestore,"clientes",t.email);ur(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=ve(this.firestore,"clientes");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Vt(ve(t.firestore,"clientes"),Bt("email","==",i)),o=yield fe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=Ee(this.firestore,"clientes",this.x);En(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-clients-edit"]],viewQuery:function(i,r){if(1&i&&Pn(yPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"clients-edit works!"),p(),g(2,"h1",0),v(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Email:"),p(),g(11,"input",7),st("ngModelChange",function(a){return ht(r.item.email,a)||(r.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Nombre:"),p(),g(15,"input",8),st("ngModelChange",function(a){return ht(r.item.nombre,a)||(r.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Telefono:"),p(),g(19,"input",9),st("ngModelChange",function(a){return ht(r.item.telefono,a)||(r.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),v(22,"Direccion:"),p(),g(23,"input",10),st("ngModelChange",function(a){return ht(r.item.direccion,a)||(r.item.direccion=a),a}),p()(),g(24,"button",11),v(25,"Editar Cliente"),p()()()()}2&i&&(U(11),ot("ngModel",r.item.email),U(4),ot("ngModel",r.item.nombre),U(4),ot("ngModel",r.item.telefono),U(4),ot("ngModel",r.item.direccion))},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;flex-shrink:0;transform:none;position:absolute;top:40%;left:50%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;flex-shrink:0;margin-left:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const wPe=["geo"],xPe=[{path:"user",component:NW,children:[{path:"projects",component:wOe},{path:"project-new",component:TOe},{path:"project-edit/:id",component:ePe},{path:"project-info/:id",component:rPe},{path:"barcode/:id",component:EOe},{path:"barcode-cantidad/:id",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),console.log(i.id),this.generateBarcode(t)})}generateBarcode(t){var i=t;console.log(t),console.log(i),this.res=i,wm("#barcode",i,{format:"CODE128"})}toPrint(){this.router.navigate(["/print/"+this.res])}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode-cantidad"]],standalone:!0,features:[ho],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"barcode-cantidad works!"),p(),w_(),Q(2,"svg",0),oC(),g(3,"button",1),J("click",function(){return r.toPrint()}),v(4,"Print"),p())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}return n})()},{path:"barcode-new",component:(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.codigo),this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var r=t;this.res=r,wm("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}addData(t){let i=Ee(this.firestore,"muestras",t.codigo);Qi(i,{codigo:t.codigo}),t.id&&(i=Ee(this.firestore,"projects",t.id),Qi(i,{name:t.id})),t.ud&&(i=Ee(this.firestore,"unidad-produccion",t.ud),Qi(i,{codigo:t.ud}))}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["user/barcode/"+t])}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode-new"]],decls:25,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["name","ud","ngModel","","placeholder","ID Unidad","id","ud","type","ud",1,"input-field"],[1,"Opcional"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"barcode-new works!"),p(),g(2,"h1",0),v(3,"Generar Codigo"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"div",6)(10,"span",7),v(11,"Unidad de Producci\xf3n: "),p(),Q(12,"input",8),g(13,"span",9),v(14," (opcional) "),p()()(),g(15,"div",10)(16,"div",6)(17,"span",7),v(18," Codigo: "),p(),Q(19,"input",11),g(20,"span",12),v(21," * (obligatorio) "),p()()(),g(22,"button",13),v(23,"Generar"),p(),g(24,"button",14),J("click",function(){return r.backPage()}),p()()()()}},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:50%;top:20%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:625px;height:225px;flex-shrink:0;position:absolute;top:50%;left:53%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:60%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:60%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;left:0%;top:0%;transform:none}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:30px;font-family:Verdana;font-size:28px;text-align:center;letter-spacing:0;transform:none;position:absolute;left:0%;top:30%}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;transform:none;position:absolute;left:10%;top:40%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:100%;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;height:20px;width:80%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:57%;top:75%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}.red[_ngcontent-%COMP%]{display:block;font-family:Arial;text-align:left;font-size:16px;color:red}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;transform:none;position:absolute;left:10%;top:75%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return n})()},{path:"muestras/:up",component:COe},{path:"muestras-new/:id",component:DOe},{path:"muestras-edit/:id",component:YOe},{path:"muestras-info/:id",component:ZOe},{path:"muestras-all",component:nPe},{path:"unidad-produccion/:id",component:sPe},{path:"unidad-produccion-new",component:cPe},{path:"unidad-produccion-edit/:id",component:uPe},{path:"unidad-produccion-info/:id",component:hPe},{path:"unidad-produccion-all",component:bPe},{path:"clients",component:pPe},{path:"clients-new",component:mPe},{path:"clients-edit/:id",component:vPe},{path:"clients-info/:id",component:(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ee(this.firestore,"clientes",t.codigo);Qi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"clientes");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Vt(ve(t.firestore,"clientes"),Bt("email","==",i)),o=yield fe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editClients(){this.router.navigate(["user/clientes-edit/"+this.text])}deleteData(t){const i=Ee(this.firestore,"clientes",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et),E(vi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-clients-info"]],viewQuery:function(i,r){if(1&i&&Pn(wPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"clients-info works!"),p(),g(2,"h1",0),v(3,"Informacion del Cliente"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Email:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Nombre:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Telefono:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Direccion:"),p(),g(26,"span",7),v(27),p()()()()(),g(28,"button",8),J("click",function(){return r.editClients()}),v(29,"Editar Cliente"),p()}2&i&&(U(12),Se(" ",r.item.email,""),U(5),Se(" ",r.item.nombre,""),U(5),Se(" ",r.item.telefono,""),U(5),Se(" ",r.item.direccion,""))},dependencies:[Nn,Rn,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;top:45%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;height:35%;flex-shrink:0;margin-left:5px;position:absolute;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:35%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})()},{path:"scan",component:KOe}]}];let CPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[Fr.forChild(xPe),Fr]})}return n})();function ZQ(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function JQ(n){return Wn((e,t)=>n<=t)}function SPe(n,e){return n===e}let kPe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({providers:[kPe]})}return n})();function Qw(n){return Array.isArray(n)?n:[n]}function si(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Hh(n){return n instanceof ln?n.nativeElement:n}const eY=new Set;let iu,NPe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):LPe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function FPe(n,e){if(!eY.has(n))try{iu||(iu=document.createElement("style"),e&&(iu.nonce=e),iu.setAttribute("type","text/css"),document.head.appendChild(iu)),iu.sheet&&(iu.sheet.insertRule(`@media ${n} {body{ }}`,0),eY.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(ki),$(dC,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LPe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let tY=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Dt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nY(Qw(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=ky(nY(Qw(t)).map(s=>this._registerQuery(s).observable));return o=bd(o.pipe(qn(1)),o.pipe(JQ(1),function RPe(n,e=Hp){return Tn((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);a()}t.subscribe(mn(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Ve(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Qt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(cT(i),Ve(({matches:s})=>({query:t,matches:s})),Ny(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)($(NPe),$(Ae))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nY(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const $h_Medium="(min-width: 960px) and (max-width: 1279.98px)",$h_Large="(min-width: 1280px) and (max-width: 1919.98px)";let r2=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function zPe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function UPe(n){try{return n.frameElement}catch{return null}}(function QPe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===sY(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=sY(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function WPe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function KPe(n){return!function HPe(n){return function GPe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jPe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function $Pe(n){return function qPe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||oY(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)($(ki))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oY(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function sY(n){if(!oY(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class YPe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(qn(1)).subscribe(e)}}let aY=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new YPe(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)($(r2),$(Ae),$(ft))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cY(n){return 0===n.buttons||0===n.detail}function lY(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const XPe=new X("cdk-input-modality-detector-options"),ZPe={ignoreKeys:[18,17,224,91,16]},Gh=ym({passive:!0,capture:!0});let JPe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new pr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=wc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cY(s)?"keyboard":"mouse"),this._mostRecentTarget=wc(s))},this._onTouchstart=s=>{lY(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=wc(s))},this._options={...ZPe,...o},this.modalityDetected=this._modality.pipe(JQ(1)),this.modalityChanged=this.modalityDetected.pipe(function APe(n,e=Ea){return n=n??SPe,Tn((t,i)=>{let r,o=!0;t.subscribe(mn(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gh),r.addEventListener("mousedown",this._onMousedown,Gh),r.addEventListener("touchstart",this._onTouchstart,Gh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gh),document.removeEventListener("mousedown",this._onMousedown,Gh),document.removeEventListener("touchstart",this._onTouchstart,Gh))}static#e=this.\u0275fac=function(i){return new(i||n)($(ki),$(Ae),$(ft),$(XPe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yw=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Yw||{});const tRe=new X("cdk-focus-monitor-default-options"),Xw=ym({passive:!0,capture:!0});let o2=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Dt,this._rootNodeFocusAndBlurListener=a=>{for(let l=wc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||Yw.IMMEDIATE}monitor(t,i=!1){const r=Hh(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ce();const o=function dDe(n){if(function uDe(){if(null==SR){const n=typeof document<"u"?document.head:null;SR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return SR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Dt,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Hh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Hh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Yw.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===Yw.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=wc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xw)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ny(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)($(Ae),$(ki),$(JPe),$(ft,8),$(tRe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ru=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(ru||{});const dY="cdk-high-contrast-black-on-white",hY="cdk-high-contrast-white-on-black",s2="cdk-high-contrast-active";let fY=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=te(tY).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ru.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ru.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ru.BLACK_ON_WHITE}return ru.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(s2,dY,hY),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===ru.BLACK_ON_WHITE?t.add(s2,dY):i===ru.WHITE_ON_BLACK&&t.add(s2,hY)}}static#e=this.\u0275fac=function(i){return new(i||n)($(ki),$(ft))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nRe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)($(fY))};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[OPe]})}return n})();const iRe=["addListener","removeListener"],rRe=["addEventListener","removeEventListener"],oRe=["on","off"];function Qm(n,e,t,i){if(wt(t)&&(i=t,t=void 0),i)return Qm(n,e,t).pipe(VI(i));const[r,o]=function cRe(n){return wt(n.addEventListener)&&wt(n.removeEventListener)}(n)?rRe.map(s=>a=>n[s](e,a,t)):function sRe(n){return wt(n.addListener)&&wt(n.removeListener)}(n)?iRe.map(pY(n,e)):function aRe(n){return wt(n.on)&&wt(n.off)}(n)?oRe.map(pY(n,e)):[];if(!r&&FI(n))return wi(s=>Qm(s,e,t))(Vi(n));if(!r)throw new TypeError("Invalid event target");return new Qt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function pY(n,e){return t=>i=>n[t](e,i)}const Ym={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Ym;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new bi(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Ym;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ym;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class uRe extends gv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lRe extends pv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Ym.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Ym.cancelAnimationFrame(t),e._scheduled=void 0)}});let a2,hRe=1;const Zw={};function gY(n){return n in Zw&&(delete Zw[n],!0)}const fRe={setImmediate(n){const e=hRe++;return Zw[e]=!0,a2||(a2=Promise.resolve()),a2.then(()=>gY(e)&&n()),e},clearImmediate(n){gY(n)}},{setImmediate:pRe,clearImmediate:gRe}=fRe,Jw={setImmediate(...n){const{delegate:e}=Jw;return(e?.setImmediate||pRe)(...n)},clearImmediate(n){const{delegate:e}=Jw;return(e?.clearImmediate||gRe)(n)},delegate:void 0};new class _Re extends gv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class mRe extends pv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Jw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Jw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function c2(n=0,e,t=d0e){let i=-1;return null!=e&&(Gz(e)?t=e:i=e),new Qt(r=>{let o=function vRe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function mY(n,e=Hp){return function yRe(n){return Tn((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(mn(t,l=>{i=!0,r=l,o||Vi(n(l)).subscribe(o=mn(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>c2(n,e))}const wRe=new X("cdk-dir-doc",{providedIn:"root",factory:function xRe(){return te(ft)}}),CRe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let l2=(()=>{class n{constructor(t){this.value="ltr",this.change=new Qe,t&&(this.value=function ERe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?CRe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)($(wRe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({})}return n})(),TRe=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Dt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Qt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(mY(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ce()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Wn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Hh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)($(Ae),$(ki),$(ft,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_Y=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Dt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(mY(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)($(ki),$(Ae),$(ft,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({})}return n})(),bY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[Xm,u2,Xm,u2]})}return n})();class d2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class h2 extends d2{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class yY extends d2{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class DRe extends d2{constructor(e){super(),this.element=e instanceof ln?e.nativeElement:e}}class f2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof h2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof yY?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof DRe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ARe extends f2{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||$t.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let p2=(()=>{class n extends f2{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Qe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(E($u),E(co),E(ft))};static#t=this.\u0275dir=be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ut.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[xt]})}return n})(),SRe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({})}return n})();function ex(...n){const e=hp(n),t=function ife(n,e){return"number"==typeof LI(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Vi(i[0]):_d(t)(pi(i,e)):hs}const vY=lDe();class kRe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=si(-this._previousScrollPosition.left),e.style.top=si(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),vY&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vY&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class ORe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Wn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wY{enable(){}disable(){}attach(){}}function g2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function xY(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class PRe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();g2(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let RRe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new wY,this.close=s=>new ORe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new kRe(this._viewportRuler,this._document),this.reposition=s=>new PRe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)($(TRe),$(_Y),$(Ae),$(ft))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class CY{constructor(e){if(this.scrollStrategy=new wY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class NRe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let EY=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)($(ft))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FRe=(()=>{class n extends EY{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)($(ft),$(Ae,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LRe=(()=>{class n extends EY{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=wc(o)},this._clickListener=o=>{const s=wc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)($(ft),$(ki),$(Ae,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),m2=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||OR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),OR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)($(ft),$(ki))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class tx{constructor(e,t,i,r,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Dt,this._attachments=new Dt,this._detachments=new Dt,this._locationChanges=bi.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Dt,this._outsidePointerEvents=new Dt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=si(this._config.width),e.height=si(this._config.height),e.minWidth=si(this._config.minWidth),e.minHeight=si(this._config.minHeight),e.maxWidth=si(this._config.maxWidth),e.maxHeight=si(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Qw(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ny(ex(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const IY="cdk-overlay-connected-position-bounding-box",VRe=/([A-Za-z%]+)$/;class BRe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Dt,this._resizeSubscription=bi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(IY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ou(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=MY(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let h=0-a,f=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),C=this._subtractOverflows(o.height,h,f),I=b*C;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=TY(this._overlayRef.getConfig().minHeight),a=TY(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=MY(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function URe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new NRe(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>b&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-b/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=si(i.height),r.top=si(i.top),r.bottom=si(i.bottom),r.width=si(i.width),r.left=si(i.left),r.right=si(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=si(o)),s&&(r.maxWidth=si(s))}this._lastBoundingBoxSize=i,ou(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ou(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ou(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();ou(i,this._getExactOverlayY(t,e,u)),ou(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=si(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=si(s.maxWidth):o&&(i.maxWidth="")),ou(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=si(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=si(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xY(e,i),isOriginOutsideView:g2(e,i),isOverlayClipped:xY(t,i),isOverlayOutsideView:g2(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Qw(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ln)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ou(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function TY(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(VRe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function MY(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const DY="cdk-global-overlay-wrapper";class zRe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(DY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",b="",C="";c?C="flex-start":"center"===u?(C="center",h?b=d:f=d):h?"left"===u||"end"===u?(C="flex-end",f=d):("right"===u||"start"===u)&&(C="flex-start",b=d):"left"===u||"start"===u?(C="flex-start",f=d):("right"===u||"end"===u)&&(C="flex-end",b=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=C,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(DY),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let jRe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new zRe}flexibleConnectedTo(t){return new BRe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)($(_Y),$(ft),$(ki),$(m2))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HRe=0,ya=(()=>{class n{constructor(t,i,r,o,s,a,c,l,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new CY(t);return s.direction=s.direction||this._directionality.value,new tx(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+HRe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(cs)),new ARe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)($(RRe),$(m2),$($u),$(jRe),$(FRe),$($t),$(Ae),$(ft),$(l2),$(vi),$(LRe),$(Hc,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $Re=new X("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=te(ya);return()=>n.scrollStrategies.reposition()}}),qRe={provide:$Re,deps:[ya],useFactory:function GRe(n){return()=>n.scrollStrategies.reposition()}};let WRe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({providers:[ya,qRe],imports:[Xm,SRe,bY,bY]})}return n})();var Le=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Le||{});const va="*";function AY(n,e){return{type:Le.Trigger,name:n,definitions:e,options:{}}}function nx(n,e=null){return{type:Le.Animate,styles:e,timings:n}}function SY(n,e=null){return{type:Le.Group,steps:n,options:e}}function qh(n){return{type:Le.Style,styles:n,offset:null}}function ix(n,e,t){return{type:Le.State,name:n,styles:e,options:t}}function rx(n,e,t=null){return{type:Le.Transition,expr:n,animation:e,options:t}}function kY(n=null){return{type:Le.AnimateChild,options:n}}function OY(n,e,t=null){return{type:Le.Query,selector:n,animation:e,options:t}}class Zm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class PY{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let FY=(()=>{class n{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return n})(),LY=(()=>{class n{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return n})();const JRe=new X("mat-sanity-checks",{providedIn:"root",factory:function ZRe(){return!0}});let xo=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!OR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)($(fY),$(JRe,8),$(ft))};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[Xm,Xm]})}return n})();const VY=new X("MAT_DATE_LOCALE",{providedIn:"root",factory:function tNe(){return te(ls)}});class BY{constructor(){this._localeChanges=new Dt,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const nNe=new X("mat-date-formats"),iNe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function b2(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let rNe=(()=>{class n extends BY{constructor(t){super(),this.useUtcForDisplay=!1,this._matDateLocale=te(VY,{optional:!0}),void 0!==t&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return b2(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return b2(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return b2(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(iNe.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)($(VY,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const oNe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function sNe(n=oNe){return[{provide:BY,useClass:rNe},{provide:nNe,useValue:n}]}var Co=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Co||{});class aNe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Co.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const UY=ym({passive:!0,capture:!0});class cNe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=wc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,UY)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,UY)))}}const zY={enterDuration:225,exitDuration:150},jY=ym({passive:!0,capture:!0}),HY=["mousedown","touchstart"],$Y=["mouseup","mouseleave","touchend","touchcancel"];class ox{static#e=this._eventManager=new cNe;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Hh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...zY,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function uNe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,b="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,C=new aNe(this,u,i,b);u.style.transform="scale3d(1, 1, 1)",C.state=Co.FADING_IN,i.persistent||(this._mostRecentTransientRipple=C);let I=null;return!b&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const O=()=>this._finishRippleTransition(C),D=()=>this._destroyRipple(C);u.addEventListener("transitionend",O),u.addEventListener("transitioncancel",D),I={onTransitionEnd:O,onTransitionCancel:D}}),this._activeRipples.set(C,I),(b||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(e){if(e.state===Co.FADING_OUT||e.state===Co.HIDDEN)return;const t=e.element,i={...zY,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Co.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Hh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,HY.forEach(i=>{ox._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$Y.forEach(t=>{this._triggerElement.addEventListener(t,this,jY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Co.FADING_IN?this._startFadeOutTransition(e):e.state===Co.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Co.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Co.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=cY(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!lY(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Co.VISIBLE||e.config.terminateOnPointerUp&&e.state===Co.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(HY.forEach(t=>ox._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&$Y.forEach(t=>e.removeEventListener(t,this,jY)))}}const GY=new X("mat-ripple-global-options");let dNe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new ox(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(E(ln),E(Ae),E(ki),E(GY,8),E(Hc,8))};static#t=this.\u0275dir=be({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&uo("mat-ripple-unbounded",r.unbounded)},inputs:{color:[ut.None,"matRippleColor","color"],unbounded:[ut.None,"matRippleUnbounded","unbounded"],centered:[ut.None,"matRippleCentered","centered"],radius:[ut.None,"matRippleRadius","radius"],animation:[ut.None,"matRippleAnimation","animation"],disabled:[ut.None,"matRippleDisabled","disabled"],trigger:[ut.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),hNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[xo,xo]})}return n})();const qY={capture:!0},WY=["focus","click","mouseenter","touchstart"],y2="mat-ripple-loader-uninitialized",v2="mat-ripple-loader-class-name",KY="mat-ripple-loader-centered",sx="mat-ripple-loader-disabled";let fNe=(()=>{class n{constructor(){this._document=te(ft,{optional:!0}),this._animationMode=te(Hc,{optional:!0}),this._globalRippleOptions=te(GY,{optional:!0}),this._platform=te(ki),this._ngZone=te(Ae),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${y2}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of WY)this._document?.addEventListener(t,this._onInteraction,qY)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of WY)this._document?.removeEventListener(i,this._onInteraction,qY)}configureRipple(t,i){t.setAttribute(y2,""),(i.className||!t.hasAttribute(v2))&&t.setAttribute(v2,i.className||""),i.centered&&t.setAttribute(KY,""),i.disabled&&t.setAttribute(sx,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(sx,""):t.removeAttribute(sx)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(v2)),t.append(r);const o=new dNe(new ln(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(KY),o.disabled=t.hasAttribute(sx),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(y2),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pNe=new X("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=te(ya);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),mNe={provide:pNe,deps:[ya],useFactory:function gNe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let bNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({providers:[mNe],imports:[nRe,za,WRe,xo,xo,u2]})}return n})(),yNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({providers:[sNe()],imports:[za,CPe,yp,Kw,bNe]})}return n})(),vNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras"]],standalone:!0,features:[ho],decls:2,vars:0,template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras works!"),p())}})}return n})();function wNe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td",4),v(2),p(),g(3,"td",4),v(4),p(),g(5,"td")(6,"button",5),J("click",function(){const o=Pe(t).$implicit;return Re(tn().updateData(o.id))}),v(7," Actualizar "),p(),g(8,"button",6),J("click",function(){const o=Pe(t).$implicit;return Re(tn().deleteData(o.id))}),v(9," Eliminar "),p()()()}if(2&n){const t=e.$implicit;U(2),We(t.email),U(2),We(t.role)}}const xNe=[{path:"admin",component:RW,children:[{path:"users",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}NewUser(){this.router.navigate(["/admin/user-new"])}getData(){const t=ve(this.firestore,"users");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"users",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){if(1==confirm("Seguro que desea eliminar este usuario?")){const r=Ee(this.firestore,"users",t);En(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(o=>{alert(o.message)})}}handleSignOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}handleLogin(t){var i=this;return _(function*(){let r=t;const o=Vt(ve(i.firestore,"users"),Bt("email","==",r));(yield fe(o)).forEach(a=>{a.data(),Ik(i.auth,r,t.pass).then(function(){var u=_(function*(d){});return function(d){return u.apply(this,arguments)}}())})})()}deleteMyUser(t){var i=this;return _(function*(){let r,o=i.auth.currentUser?.email;console.log(i.auth.currentUser),r=" ",null==o&&(r=o),i.current=o;const s=Vt(ve(i.firestore,"users"),Bt("email","==",o));(yield fe(s)).forEach(c=>{let u=c.data().password;i.key=u,i.handleLogin(t),console.log(i.auth.currentUser),Ik(i.auth,r,u),console.log(i.auth.currentUser)})})()}getUserData(){var t=this;return _(function*(){let i=t.auth.currentUser?.email;t.current=i;const r=Vt(ve(t.firestore,"users"),Bt("email","==",t.current));(yield fe(r)).forEach(s=>{let c=s.data().password;t.key=c})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-users"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[1,"NewUser",3,"click"],[4,"ngFor","ngForOf"],["contenteditable","true"],[3,"click"],[1,"red",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"users works!"),p(),g(2,"h1",0),v(3,"Usuarios"),p(),g(4,"div",1)(5,"button",2),J("click",function(){return r.NewUser()}),v(6," Crear Usuario "),p(),g(7,"table")(8,"tr")(9,"th"),v(10," Email "),p(),g(11,"th"),v(12," Role "),p(),Q(13,"th"),p(),ei(14,wNe,10,2,"tr",3),p()()),2&i&&(U(14),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:50%;top:30%;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.red[_ngcontent-%COMP%]{background-color:#c23e3e}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:50%;top:15%;transform:translate(-50%)}.NewUser[_ngcontent-%COMP%]{width:140px}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:15%;top:28%}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}return n})()},{path:"user-new",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}Users(){this.router.navigate(["/admin/users"])}handleRegister(t){ZH(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert(i.message)}),this.addData(t),this.Users()}addData(t){const i=Ee(this.firestore,"users",t.email);t.password==t.confirmpassword?"Investigador"==t.role||"Cliente"==t.role?Qi(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=ve(this.firestore,"users");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ue),E(et),E(ke))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-user-new"]],decls:31,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"user-new works!"),p(),Q(2,"div",0),g(3,"span",1),v(4,"Registrar"),p(),Q(5,"div",2),g(6,"form",3,4),J("ngSubmit",function(){Pe(o);const a=un(7);return Re(r.handleRegister(a.value))}),g(8,"div",5)(9,"div",6)(10,"span",7),v(11,"Email:"),p(),Q(12,"input",8),p(),g(13,"div",6)(14,"span",9),v(15,"Roles:"),p(),Q(16,"input",10),g(17,"datalist",11),Q(18,"option",12)(19,"option",13),p()(),g(20,"div",6)(21,"span",14),v(22,"Clave:"),p(),Q(23,"input",15),p(),g(24,"div",6)(25,"span",16),v(26,"Confirmar Clave:"),p(),Q(27,"input",17),p(),g(28,"button",18),v(29,"Sign Up"),p()()(),g(30,"button",19),J("click",function(){return r.Salir()}),p()}},dependencies:[Nn,_p,bp,Bi,wr,Rn,rr,wn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-40%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-40%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})()},{path:"muestras",component:vNe}]}];let CNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[Fr.forChild(xNe),Fr]})}return n})(),ENe=(()=>{class n{Hello(){console.log("hello")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[CNe,PR,za,yp,Kw,Fr]})}return n})();const Wh=new Qt(Yh),TNe={connector:()=>new Dt};function YY(n,e=TNe){const{connector:t}=e;return Tn((i,r)=>{const o=t();Vi(n(function INe(n){return new Qt(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function XY(n,e){return e?t=>bd(e.pipe(qn(1),function ANe(){return Tn((n,e)=>{n.subscribe(mn(e,Yh))})}()),t.pipe(XY(n))):wi((t,i)=>Vi(n(t,i)).pipe(qn(1),Yj(t)))}const e_="Service workers are disabled or not supported by this browser";class ax{constructor(e){if(this.serviceWorker=e,e){const i=Qm(e,"controllerchange").pipe(Ve(()=>e.controller)),o=bd(vp(()=>Ce(e.controller)),i);this.worker=o.pipe(Wn(u=>!!u)),this.registration=this.worker.pipe(Nr(()=>e.getRegistration()));const l=Qm(e,"message").pipe(Ve(u=>u.data)).pipe(Wn(u=>u&&u.type)).pipe(function DNe(n){return n?e=>YY(n)(e):e=>function MNe(n,e){const t=wt(n)?n:()=>n;return wt(e)?YY(e,{connector:t}):i=>new aT(i,t)}(new Dt)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function kNe(n){return vp(()=>yd(new Error(n)))}(e_)}postMessage(e,t){return this.worker.pipe(qn(1),Kn(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Wn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(qn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Wn(t=>t.nonce===e),qn(1),Ve(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ZY=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Dt,!t.isEnabled)return this.messages=Wh,this.notificationClicks=Wh,void(this.subscription=Wh);this.messages=this.sw.eventsOfType("PUSH").pipe(Ve(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ve(r=>r.data)),this.pushManager=this.sw.registration.pipe(Ve(r=>r.pushManager));const i=this.pushManager.pipe(Nr(r=>r.getSubscription()));this.subscription=ex(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(e_));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Nr(s=>s.subscribe(i)),qn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(qn(1),Nr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(e_))}decodeBase64(t){return atob(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(ax))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),JY=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Wh,void(this.unrecoverable=Wh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(e_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(e_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static#e=this.\u0275fac=function(i){return new(i||n)($(ax))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const eX=new X("");function ONe(n,e,t,i){return()=>{if(!my(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=Ce(null);break;case"registerWithDelay":r=tX(+a[0]||0);break;case"registerWhenStable":r=a[0]?ex(nX(n),tX(+a[0])):nX(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Ae).runOutsideAngular(()=>r.pipe(qn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function tX(n){return Ce(null).pipe(function SNe(n,e=Hp){const t=c2(n,e);return XY(()=>t)}(n))}function nX(n){return n.get(cs).isStable.pipe(Wn(t=>t))}function PNe(n,e){return new ax(my(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class w2{}function RNe(n,e={}){return function U_(n){return{\u0275providers:n}}([ZY,JY,{provide:eX,useValue:n},{provide:w2,useValue:e},{provide:ax,useFactory:PNe,deps:[w2,so]},{provide:rp,useFactory:ONe,deps:[$t,eX,w2,so],multi:!0}])}let NNe=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[RNe(t,i)]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({providers:[ZY,JY]})}return n})();function FNe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td")(8,"button",3),J("click",function(){const o=Pe(t).$implicit;return Re(tn().Muestras(o.name))}),p()()()}if(2&n){const t=e.$implicit;U(2),We(t.name),U(2),We(t.owner),U(2),We(t.integrantes)}}let LNe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=Uo();xs(t,r=>{r&&(console.log(r.email),r.email&&(this.email=r.email))});const i=ve(this.firestore,"projects");fe(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=Ee(this.firestore,"projects",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"projects",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const i=Uo();let r;r="",console.log(i),xs(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Vt(ve(t.firestore,"projects"),Bt("cliente","==",r));fe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield fe(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"projects works!"),p(),g(2,"h1",0),v(3,"Proyectos"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Nombre "),p(),g(9,"th"),v(10," Due\xf1o "),p(),g(11,"th"),v(12," Integrantes"),p(),Q(13,"th"),p(),ei(14,FNe,9,3,"tr",2),p()()),2&i&&(U(14),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}return n})();function VNe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",4),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;U(2),We(t.codigo),U(2),We(t.fecha),U(2),We(t.cultivo),U(2),We(t.coordenadas)}}let BNe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"muestras",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"muestras",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["client/projects"])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Vt(ve(t.firestore,"muestras"),Bt("project","==",i));fe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield fe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras works!"),p(),g(2,"h1",0),v(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),J("click",function(){return r.infoProject(r.pid)}),v(6,"Proyecto"),p(),g(7,"table")(8,"tr")(9,"th"),v(10," Codigo "),p(),g(11,"th"),v(12," Fecha "),p(),g(13,"th"),v(14," Cultivo"),p(),g(15,"th"),v(16," Coordenadas "),p(),Q(17,"th"),p(),ei(18,VNe,11,4,"tr",3),p()()),2&i&&(U(18),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function UNe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",3),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;U(2),We(t.codigo),U(2),We(t.fecha),U(2),We(t.cultivo),U(2),We(t.coordenadas)}}let zNe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"muestras",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"muestras",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){const i=Uo();let r,o=[];r="",console.log(i),xs(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=Vt(ve(t.firestore,"projects"),Bt("cliente","==",r));fe(d).then(b=>{t.dataTem=[...b.docs.map(C=>({...C.data(),id:C.id}))]}),(yield fe(d)).forEach(b=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let b=0;b<f;b++)console.log(t.dataTem[b].name),o.push(t.dataTem[b].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=Vt(ve(t.firestore,"muestras"),Bt("project","in",o));fe(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield fe(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras-all works!"),p(),g(2,"h1",0),v(3,"Muestras"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Codigo "),p(),g(9,"th"),v(10," Fecha "),p(),g(11,"th"),v(12," Cultivo"),p(),g(13,"th"),v(14," Coordenadas "),p(),Q(15,"th"),p(),ei(16,UNe,11,4,"tr",2),p()()),2&i&&(U(16),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function jNe(n,e){if(1&n){const t=mt();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",3),J("click",function(){const o=Pe(t).$implicit;return Re(tn().infoUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;U(2),We(t.codigo),U(2),We(t.project),U(2),We(t.altitud),U(2),We(t.coordenadas)}}let HNe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=ve(this.firestore,"unidad-produccion");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ee(this.firestore,"unidad-produccion",t);ur(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ee(this.firestore,"unidad-produccion",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){gi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){const i=Uo();let r,o=[];r="",console.log(i),xs(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=Vt(ve(t.firestore,"projects"),Bt("cliente","==",r));fe(d).then(b=>{t.dataTem=[...b.docs.map(C=>({...C.data(),id:C.id}))]}),(yield fe(d)).forEach(b=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let b=0;b<f;b++)console.log(t.dataTem[b].name),o.push(t.dataTem[b].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=Vt(ve(t.firestore,"unidad-produccion"),Bt("project","in",o));fe(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield fe(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),v(3,"Unidades"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Codigo "),p(),g(9,"th"),v(10," Proyecto "),p(),g(11,"th"),v(12," Altitud"),p(),g(13,"th"),v(14," Coordenadas "),p(),Q(15,"th"),p(),ei(16,jNe,11,4,"tr",2),p()()),2&i&&(U(16),ti("ngForOf",r.data))},dependencies:[go],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:22%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const $Ne=["geo"];let GNe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ee(this.firestore,"unidad-produccion",t.codigo);Qi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"unidad-produccion");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Vt(ve(t.firestore,"unidad-produccion"),Bt("codigo","==",i)),o=yield fe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=Ee(this.firestore,"users",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&Pn($Ne,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),v(3,"Datos de la Unidad"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Cliente:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Coordenadas:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Localidad:"),p(),g(26,"span",7),v(27),p()(),g(28,"div",5)(29,"span",6),v(30,"Municipio:"),p(),g(31,"span",7),v(32),p()(),g(33,"div",5)(34,"span",6),v(35,"Estado:"),p(),g(36,"span",7),v(37),p()(),g(38,"div",5)(39,"span",6),v(40,"Altitud:"),p(),g(41,"span",7),v(42),p()(),g(43,"div",5)(44,"span",6),v(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),v(47),p()(),g(48,"div",5)(49,"span",6),v(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),v(52),p()(),g(53,"div",5)(54,"span",6),v(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),v(57),p()()()()()}2&i&&(U(12),Se(" ",r.item.codigo,""),U(5),Se(" ",r.item.cliente,""),U(5),Se(" ",r.item.coordenadas,""),U(5),Se(" ",r.item.localidad,""),U(5),Se(" ",r.item.municipio,""),U(5),Se(" ",r.item.cliente,""),U(5),Se(" ",r.item.altitud,""),U(5),Se(" ",r.item.tempmax,""),U(5),Se(" ",r.item.tempmin,""),U(5),Se(" ",r.item.precipitacion,""))},dependencies:[Nn,Rn,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:45%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}return n})();const qNe=["geo"];let WNe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){const r=Ee(i.firestore,"clientes",t.codigo);Qi(r,t).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Uo();xs(t,r=>{r&&r.email&&(this.email=r.email)});const i=ve(this.firestore,"clientes");fe(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=Uo();let r;r="",console.log(i),xs(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Vt(ve(t.firestore,"clientes"),Bt("email","==",r));fe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield fe(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(t){const r=Ee(this.firestore,"clientes",this.x);En(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-perfil"]],viewQuery:function(i,r){if(1&i&&Pn(qNe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"perfil works!"),p(),g(2,"p"),v(3,"clients-info works!"),p(),g(4,"h1",0),v(5,"Informacion del Cliente"),p(),Q(6,"div",1),g(7,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(8);return Re(r.handleRegister(a.value))}),g(9,"div",4)(10,"div",5)(11,"span",6),v(12,"Email:"),p(),g(13,"span",7),v(14),p()(),g(15,"div",5)(16,"span",6),v(17,"Nombre:"),p(),g(18,"span",7),v(19),p()(),g(20,"div",5)(21,"span",6),v(22,"Telefono:"),p(),g(23,"span",7),v(24),p()(),g(25,"div",5)(26,"span",6),v(27,"Direccion:"),p(),g(28,"span",7),v(29),p()(),g(30,"button",8),J("click",function(){return r.editClients()}),v(31,"Editar Cliente"),p()()()}2&i&&(U(14),Se(" ",r.item.email,""),U(5),Se(" ",r.item.nombre,""),U(5),Se(" ",r.item.telefono,""),U(5),Se(" ",r.item.direccion,""))},dependencies:[Nn,Rn,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:500px;height:250px;position:absolute;top:38%;left:53%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:54%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-35%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:45px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:81%;top:105%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;top:45%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;height:35%;flex-shrink:0;margin-left:5px;position:absolute;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:35%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const KNe=["geo"];let QNe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Qe,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){console.log(t);const r=Ee(i.firestore,"clientes",t.email);ur(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=ve(this.firestore,"clientes");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=Uo();let r;r="",console.log(i),xs(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Vt(ve(t.firestore,"clientes"),Bt("email","==",r));fe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield fe(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const r=Ee(this.firestore,"clientes",this.x);En(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(i,r){if(1&i&&Pn(KNe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"perfil-edit works!"),p(),g(2,"h1",0),v(3," Editar Perfil"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Email:"),p(),g(11,"input",7),st("ngModelChange",function(a){return ht(r.item.email,a)||(r.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Nombre:"),p(),g(15,"input",8),st("ngModelChange",function(a){return ht(r.item.nombre,a)||(r.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Telefono:"),p(),g(19,"input",9),st("ngModelChange",function(a){return ht(r.item.telefono,a)||(r.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),v(22,"Direccion:"),p(),g(23,"input",10),st("ngModelChange",function(a){return ht(r.item.direccion,a)||(r.item.direccion=a),a}),p()(),g(24,"button",11),v(25,"Editar Cliente"),p()()()()}2&i&&(U(11),ot("ngModel",r.item.email),U(4),ot("ngModel",r.item.nombre),U(4),ot("ngModel",r.item.telefono),U(4),ot("ngModel",r.item.direccion))},dependencies:[Nn,Bi,wr,Rn,rr,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:520px;height:250px;position:absolute;top:38%;left:60%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:60%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;flex-shrink:0;transform:none;position:absolute;top:40%;left:50%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;flex-shrink:0;margin-left:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%)}}"]})}return n})();const YNe=["geo"],XNe=[{path:"client",component:FW,children:[{path:"projects",component:LNe},{path:"muestras-all",component:zNe},{path:"muestras/:id",component:BNe},{path:"unidad-produccion-all",component:HNe},{path:"muestras-info/:id",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ee(this.firestore,"muestras",t.codigo);Qi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=ve(this.firestore,"muestras");fe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Vt(ve(t.firestore,"muestras"),Bt("codigo","==",i));(yield fe(r)).forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ee(this.firestore,"users",t);En(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static#e=this.\u0275fac=function(i){return new(i||n)(E(ke),E(at),E(Ue),E(et))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&Pn(YNe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:53,vars:9,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=mt();g(0,"p"),v(1,"muestras-info works!"),p(),g(2,"h1",0),v(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),J("ngSubmit",function(){Pe(o);const a=un(6);return Re(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Cliente:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Fecha:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Cultivo:"),p(),g(26,"span",7),v(27),p()(),g(28,"div",5)(29,"span",6),v(30,"Tipo:"),p(),g(31,"span",7),v(32),p()(),g(33,"div",5)(34,"span",6),v(35,"Fitopat\xf3geno:"),p(),g(36,"span",7),v(37),p()(),g(38,"div",5)(39,"span",6),v(40,"Coordenadas:"),p(),g(41,"span",7),v(42),p()(),g(43,"div",5)(44,"span",6),v(45,"S\xedntomas:"),p(),g(46,"span",7),v(47),p()(),g(48,"div",5)(49,"span",6),v(50,"Comentarios:"),p(),g(51,"span",7),v(52),p()()()()()}2&i&&(U(12),Se(" ",r.item.codigo,""),U(5),Se(" ",r.item.cliente,""),U(5),Se(" ",r.item.fecha,""),U(5),Se(" ",r.item.cultivo,""),U(5),Se(" ",r.item.tipo,""),U(5),Se(" ",r.item.fitopatogeno,""),U(5),Se(" ",r.item.coordenadas,""),U(5),Se(" ",r.item.sintomas,""),U(5),Se(" ",r.item.comentarios,""))},dependencies:[Nn,Rn,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:57%;flex-shrink:0;position:absolute;left:50%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:40%;flex-shrink:0;position:absolute;left:5%;top:40%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:85%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}return n})()},{path:"unidad-produccion-info/:id",component:GNe},{path:"perfil",component:WNe},{path:"perfil-edit",component:QNe}]}];let ZNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[Fr.forChild(XNe),Fr]})}return n})(),JNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[ZNe,PR,za,yp,Kw,Fr]})}return n})();function e2e(n,e){}class cx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let iX=(()=>{class n extends f2{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=te(ki),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=te(Gu),this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=kR(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=kR();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=kR()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(E(ln),E(aY),E(ft,8),E(cx),E(r2),E(Ae),E(tx),E(o2))};static#t=this.\u0275cmp=Te({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Pn(p2,7),2&i){let o;bn(o=yn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Or("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[xt,ho],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&ei(0,e2e,0,0,"ng-template",0)},dependencies:[p2],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class x2{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Dt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ZQ(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const rX=new X("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=te(ya);return()=>n.scrollStrategies.block()}}),t2e=new X("DialogData"),n2e=new X("DefaultDialogConfig");let r2e=0,o2e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Dt,this._afterOpenedAtThisLevel=new Dt,this._ariaHiddenElements=new Map,this.afterAllClosed=vp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cT(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new cx,...i}).id=i.id||"cdk-dialog-"+r2e++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new x2(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){C2(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){C2(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),C2(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new CY({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:cx,useValue:r},{provide:x2,useValue:i},{provide:tx,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=iX;const c=new h2(a,r.viewContainerRef,$t.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof is){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new yY(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new h2(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:t2e,useValue:t.data},{provide:x2,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(l2,null,{optional:!0}))&&a.push({provide:l2,useValue:{value:t.direction,change:Ce()}}),$t.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)($(ya),$($t),$(n2e,8),$(n,12),$(m2),$(rX))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C2(n,e){let t=n.length;for(;t--;)e(n[t])}function s2e(n,e){}const a2e={bottomSheetState:AY("state",[ix("void, hidden",qh({transform:"translateY(100%)"})),ix("visible",qh({transform:"translateY(0%)"})),rx("visible => void, visible => hidden",SY([nx(`${LY.COMPLEX} ${FY.ACCELERATION_CURVE}`),OY("@*",kY(),{optional:!0})])),rx("void => visible",SY([nx(`${LY.EXITING} ${FY.DECELERATION_CURVE}`),OY("@*",kY(),{optional:!0})]))])};let c2e=(()=>{class n extends iX{constructor(t,i,r,o,s,a,c,l,u){super(t,i,r,o,s,a,c,u),this._animationState="void",this._animationStateChanged=new Qe,this._breakpointSubscription=l.observe([$h_Medium,$h_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",l.isMatched($h_Medium)),this._toggleClass("mat-bottom-sheet-container-large",l.isMatched($h_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",l.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,i){this._elementRef.nativeElement.classList.toggle(t,i)}static#e=this.\u0275fac=function(i){return new(i||n)(E(ln),E(aY),E(ft,8),E(cx),E(r2),E(Ae),E(tx),E(tY),E(o2))};static#t=this.\u0275cmp=Te({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,r){1&i&&S1("@state.start",function(s){return r._onAnimationStart(s)})("@state.done",function(s){return r._onAnimationDone(s)}),2&i&&(Or("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),M1("@state",r._animationState))},standalone:!0,features:[xt,ho],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&ei(0,s2e,0,0,"ng-template",0)},dependencies:[p2],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[a2e.bottomSheetState]}})}return n})();const oX=new X("MatBottomSheetData");class l2e{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class E2{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,t,i){this._ref=e,this._afterOpened=new Dt,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(Wn(r=>"done"===r.phaseName&&"visible"===r.toState),qn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Wn(r=>"done"===r.phaseName&&"hidden"===r.toState),qn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),ex(this.backdropClick(),this.keydownEvents().pipe(Wn(r=>27===r.keyCode))).subscribe(r=>{!this.disableClose&&("keydown"!==r.type||!ZQ(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Wn(t=>"start"===t.phaseName),qn(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const u2e=new X("mat-bottom-sheet-default-options");let d2e=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,i,r,o){this._overlay=t,this._parentBottomSheet=r,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(o2e)}open(t,i){const r={...this._defaultOptions||new l2e,...i};let o;return this._dialog.open(t,{...r,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:c2e,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,c)=>(o=new E2(s,r,c),[{provide:E2,useValue:o},{provide:oX,useValue:r.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(i){return new(i||n)($(ya),$($t),$(n,12),$(u2e,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const h2e=["*",[["mat-toolbar-row"]]],f2e=["*","mat-toolbar-row"];let p2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=be({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),g2e=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(E(ln),E(ki),E(ft))};static#t=this.\u0275cmp=Te({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&P1(o,p2e,5),2&i){let s;bn(s=yn())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(Ub(r.color?"mat-"+r.color:""),uo("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[ho],ngContentSelectors:f2e,decls:2,vars:0,template:function(i,r){1&i&&(il(h2e),Rr(0),Rr(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),m2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[xo,xo]})}return n})();const _2e=["mat-button",""],b2e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],y2e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],w2e=["mat-icon-button",""],x2e=["*"],C2e=new X("MAT_BUTTON_CONFIG"),E2e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let sX=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=te(o2),this._rippleLoader=te(fNe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=te(C2e,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:u}of E2e)a.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){bE()};static#t=this.\u0275dir=be({type:n,inputs:{color:"color",disableRipple:[ut.HasDecoratorInputTransform,"disableRipple","disableRipple",us],disabled:[ut.HasDecoratorInputTransform,"disabled","disabled",us],ariaDisabled:[ut.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",us],disabledInteractive:[ut.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",us]},features:[r1]})}return n})(),I2e=(()=>{class n extends sX{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(E(ln),E(ki),E(Ae),E(Hc,8))};static#t=this.\u0275cmp=Te({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Or("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Ub(r.color?"mat-"+r.color:""),uo("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[xt,ho],attrs:_2e,ngContentSelectors:y2e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(il(b2e),Q(0,"span",0),Rr(1),g(2,"span",1),Rr(3,1),p(),Rr(4,2),Q(5,"span",2)(6,"span",3)),2&i&&uo("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),M2e=(()=>{class n extends sX{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(E(ln),E(ki),E(Ae),E(Hc,8))};static#t=this.\u0275cmp=Te({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Or("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Ub(r.color?"mat-"+r.color:""),uo("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[xt,ho],attrs:w2e,ngContentSelectors:x2e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(il(),Q(0,"span",0),Rr(1),Q(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),D2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[xo,hNe,xo]})}return n})();function A2e(n,e){if(1&n){const t=mt();g(0,"mat-toolbar",1)(1,"button",2),J("click",function(){return Pe(t),Re(tn().installPwa())}),v(2," Agregar a Inicio "),p(),g(3,"button",3),J("click",function(){return Pe(t),Re(tn().close())}),v(4," Cerrar "),p()()}}let S2e=(()=>{class n{constructor(t,i){this.data=t,this.bottomSheetRef=i}installPwa(){this.data.promptEvent.prompt(),this.close()}close(){this.bottomSheetRef.dismiss()}static#e=this.\u0275fac=function(i){return new(i||n)(E(oX),E(E2))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-prompt"]],decls:1,vars:1,consts:[["color","primary","class","android-prompt",4,"ngIf"],["color","primary",1,"android-prompt"],["mat-button","",1,"install",3,"click"],["mat-icon-button","",1,"close",3,"click"]],template:function(i,r){1&i&&ei(0,A2e,5,0,"mat-toolbar",0),2&i&&ti("ngIf","android"===r.data.mobileType)},dependencies:[g2e,I2e,M2e,mI],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-background-color: white!important;--mat-bottom-sheet-container-text-color: rgba(0, 0, 0, .87) !important;padding:3vh 2px!important;min-width:95vw!important;min-height:15vh!important;margin:0 auto;box-sizing:border-box!important;display:block!important}.android-prompt[_ngcontent-%COMP%]{position:inherit;padding:1vh 2px!important;display:flex;justify-content:space-between;align-items:center}.android-prompt[_ngcontent-%COMP%]   .install[_ngcontent-%COMP%]{background-color:#4c8bf5;color:#fff;border-radius:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px}.android-prompt[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background-color:#fff;color:#4c8bf5;border-radius:5px;border:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px;min-width:75px}.ios-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.ios-prompt[_ngcontent-%COMP%]   .close-ios-inv[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;padding:10px 25px 0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-7px}.ios-prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}"]})}return n})(),k2e=(()=>{class n{constructor(t,i){this.bottomSheet=t,this.platform=i}initPwaPrompt(){this.platform.ANDROID&&(console.log("android"),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.openPromptComponent("android")}))}openPromptComponent(t){c2(2e3).pipe(qn(1)).subscribe(()=>this.bottomSheet.open(S2e,{data:{mobileType:t,promptEvent:this.promptEvent}}))}static#e=this.\u0275fac=function(i){return new(i||n)($(d2e),$(ki))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[xo,xo]})}return n})(),yFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({imports:[xo,za,xo]})}return n})();function kX(n){return new j(3e3,!1)}function Rc(n){switch(n.length){case 0:return new Zm;case 1:return n[0];default:return new PY(n)}}function OX(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let b=f,C=h;if("offset"!==f)switch(b=n.normalizePropertyName(b,r),C){case"!":C=t.get(f);break;case va:C=i.get(f);break;default:C=n.normalizeStyleValue(f,b,C,r)}d.set(b,C)}),u||o.push(d),a=d,s=l}),r.length)throw function jFe(n){return new j(3502,!1)}();return o}function R2(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&N2(t,"start",n)));break;case"done":n.onDone(()=>i(t&&N2(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&N2(t,"destroy",n)))}}function N2(n,e,t){const o=F2(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function F2(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function no(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function PX(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const eLe=(()=>typeof document>"u"?null:document.documentElement)();function L2(n){const e=n.parentNode||n.host||null;return e===eLe?null:e}let cu=null,RX=!1;function NX(n,e){for(;e;){if(e===n)return!0;e=L2(e)}return!1}function FX(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let V2=(()=>{class n{validateStyleProperty(t){return function nLe(n){cu||(cu=function iLe(){return typeof document<"u"?document.body:null}()||{},RX=!!cu.style&&"WebkitAppearance"in cu.style);let e=!0;return cu.style&&!function tLe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in cu.style,!e&&RX&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return NX(t,i)}getParentElement(t){return L2(t)}query(t,i,r){return FX(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Zm(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class B2{static#e=this.NOOP=new V2}class U2{}const oLe=1e3,z2="ng-enter",px="ng-leave",gx="ng-trigger",mx=".ng-trigger",VX="ng-animating",j2=".ng-animating";function xa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:H2(parseFloat(e[1]),e[2])}function H2(n,e){return"s"===e?n*oLe:n}function _x(n,e,t){return n.hasOwnProperty("duration")?n:function aLe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(kX()),{duration:0,delay:0,easing:""};r=H2(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=H2(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function vFe(){return new j(3100,!1)}()),a=!0),o<0&&(e.push(function wFe(){return new j(3101,!1)}()),a=!0),a&&e.splice(c,0,kX())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Fs(n,e,t){e.forEach((i,r)=>{const o=G2(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function lu(n,e){e.forEach((t,i)=>{const r=G2(i);n.style[r]=""})}function r_(n){return Array.isArray(n)?1==n.length?n[0]:function KRe(n,e=null){return{type:Le.Sequence,steps:n,options:e}}(n):n}const $2=new RegExp("{{\\s*(.+?)\\s*}}","g");function UX(n){let e=[];if("string"==typeof n){let t;for(;t=$2.exec(n);)e.push(t[1]);$2.lastIndex=0}return e}function o_(n,e,t){const i=`${n}`,r=i.replace($2,(o,s)=>{let a=e[s];return null==a&&(t.push(function CFe(n){return new j(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const uLe=/-+([a-z0-9])/g;function G2(n){return n.replace(uLe,(...e)=>e[1].toUpperCase())}function io(n,e,t){switch(e.type){case Le.Trigger:return n.visitTrigger(e,t);case Le.State:return n.visitState(e,t);case Le.Transition:return n.visitTransition(e,t);case Le.Sequence:return n.visitSequence(e,t);case Le.Group:return n.visitGroup(e,t);case Le.Animate:return n.visitAnimate(e,t);case Le.Keyframes:return n.visitKeyframes(e,t);case Le.Style:return n.visitStyle(e,t);case Le.Reference:return n.visitReference(e,t);case Le.AnimateChild:return n.visitAnimateChild(e,t);case Le.AnimateRef:return n.visitAnimateRef(e,t);case Le.Query:return n.visitQuery(e,t);case Le.Stagger:return n.visitStagger(e,t);default:throw function EFe(n){return new j(3004,!1)}()}}function q2(n,e){return window.getComputedStyle(n)[e]}const fLe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zX extends U2{normalizePropertyName(e,t){return G2(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(fLe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function IFe(n,e){return new j(3005,!1)}())}return s+o}}const bx="*";const yx=new Set(["true","1"]),vx=new Set(["false","0"]);function jX(n,e){const t=yx.has(n)||vx.has(n),i=yx.has(e)||vx.has(e);return(r,o)=>{let s=n==bx||n==r,a=e==bx||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?yx.has(n):vx.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?yx.has(e):vx.has(e)),s&&a}}const _Le=new RegExp("s*:selfs*,?","g");function W2(n,e,t,i){return new bLe(n).build(e,t,i)}class bLe{constructor(e){this._driver=e}build(e,t,i){const r=new wLe(t);return this._resetContextStyleTimingState(r),io(this,r_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function TFe(){return new j(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Le.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==Le.Transition){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function MFe(){return new j(3007,!1)}())}),{type:Le.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{UX(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function DFe(n,e){return new j(3008,!1)}(0,o.values()))}return{type:Le.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=io(this,r_(e.animation),t),r=function pLe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function gLe(n,e,t){if(":"==n[0]){const c=function mLe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function VFe(n){return new j(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function LFe(n){return new j(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(jX(r,s)),"<"==o[0]&&(r!=bx||s!=bx)&&e.push(jX(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Le.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:uu(e.options)}}visitSequence(e,t){return{type:Le.Sequence,steps:e.steps.map(i=>io(this,i,t)),options:uu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=io(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Le.Group,steps:o,options:uu(e.options)}}visitAnimate(e,t){const i=function CLe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return K2(_x(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=K2(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=_x(t,e);return K2(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:qh({});if(o.type==Le.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=qh(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:Le.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===va?i.push(a):t.errors.push(new j(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:Le.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function SFe(n,e,t,i,r){return new j(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:r}),t.options&&function lLe(n,e,t){const i=e.params||{},r=UX(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function xFe(n){return new j(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Le.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kFe(){return new j(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(O=>{const D=this._makeStyleAst(O,t);let B=null!=D.offset?D.offset:function xLe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(D.styles),Y=0;return null!=B&&(o++,Y=D.offset=B),c=c||Y<0||Y>1,a=a||Y<l,l=Y,s.push(Y),D});c&&t.errors.push(function OFe(){return new j(3012,!1)}()),a&&t.errors.push(function PFe(){return new j(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function RFe(){return new j(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,b=t.currentTime,C=t.currentAnimateTimings,I=C.duration;return u.forEach((O,D)=>{const B=h>0?D==f?1:h*D:s[D],Y=B*I;t.currentTime=b+C.delay+Y,C.duration=Y,this._validateStyleAst(O,t),O.offset=B,i.styles.push(O)}),i}visitReference(e,t){return{type:Le.Reference,animation:io(this,r_(e.animation),t),options:uu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Le.AnimateChild,options:uu(e.options)}}visitAnimateRef(e,t){return{type:Le.AnimateRef,animation:this.visitReference(e.animation,t),options:uu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function yLe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(_Le,"")),n=n.replace(/@\*/g,mx).replace(/@\w+/g,t=>mx+"-"+t.slice(1)).replace(/:animating/g,j2),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,no(t.collectedStyles,t.currentQuerySelector,new Map);const a=io(this,r_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Le.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:uu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function NFe(){return new j(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_x(e.timings,t.errors,!0);return{type:Le.Stagger,animation:io(this,r_(e.animation),t),timings:i,options:null}}}class wLe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uu(n){return n?(n={...n}).params&&(n.params=function vLe(n){return n?{...n}:null}(n.params)):n={},n}function K2(n,e,t){return{duration:n,delay:e,easing:t}}function Q2(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class wx{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const TLe=new RegExp(":enter","g"),DLe=new RegExp(":leave","g");function Y2(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new ALe).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class ALe{buildKeyframes(e,t,i,r,o,s,a,c,l,u=[]){l=l||new wx;const d=new X2(e,t,l,r,o,u,[]);d.options=c;const h=c.delay?xa(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),io(this,i,d);const f=d.timelines.filter(b=>b.containsAnimation());if(f.length&&a.size){let b;for(let C=f.length-1;C>=0;C--){const I=f[C];if(I.element===t){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,d.errors,c)}return f.length?f.map(b=>b.buildKeyframes()):[Q2(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:xa(o_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?xa(i.duration):null,a=null!=i.delay?xa(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),io(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Le.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xx);const s=xa(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>io(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?xa(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),io(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _x(t.params?o_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==Le.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?xa(r.delay):0;o&&(t.previousNode.type===Le.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xx);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),io(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;io(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const xx={};class X2{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Cx(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=xa(i.duration)),null!=i.delay&&(r.delay=xa(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=o_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new X2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=xx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new SLe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(TLe,"."+this._enterClassName)).replace(DLe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function FFe(n){return new j(3014,!1)}()),a}}class Cx{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Cx(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||va),this._currentKeyframe.set(t,va);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function kLe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,va)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=o_(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??va),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{"!"===u?e.add(d):u===va&&t.add(d)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Q2(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class SLe extends Cx{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",GX(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]);const f=h.get("offset");h.set("offset",GX((t+f*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return Q2(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function GX(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function qX(n,e,t,i,r,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const Z2={};class WX{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function OLe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||Z2,b=this.buildStyles(i,a&&a.params||Z2,d),C=c&&c.params||Z2,I=this.buildStyles(r,C,d),O=new Set,D=new Map,B=new Map,Y="void"===r,ae={params:KX(C,h),delay:this.ast.options?.delay},pe=u?[]:Y2(e,t,this.ast.animation,o,s,b,I,ae,l,d);let Ge=0;return pe.forEach(gt=>{Ge=Math.max(gt.duration+gt.delay,Ge)}),d.length?qX(t,this._triggerName,i,r,Y,b,I,[],[],D,B,Ge,d):(pe.forEach(gt=>{const ai=gt.element,Yi=no(D,ai,new Set);gt.preStyleProps.forEach(ro=>Yi.add(ro));const Qh=no(B,ai,new Set);gt.postStyleProps.forEach(ro=>Qh.add(ro)),ai!==t&&O.add(ai)}),qX(t,this._triggerName,i,r,Y,b,I,pe,[...O.values()],D,B,Ge))}}function KX(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class PLe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=KX(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=o_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class NLe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new PLe(r.style,r.options&&r.options.params||{},i))}),QX(this.states,"true","1"),QX(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new WX(e,r,this.states))}),this.fallbackTransition=function FLe(n,e,t){return new WX(n,{type:Le.Transition,animation:{type:Le.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function QX(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const LLe=new wx;class VLe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=W2(this._driver,t,i,[]);if(i.length)throw function HFe(n){return new j(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=OX(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Y2(this._driver,t,o,z2,px,new Map,new Map,i,LLe,r),s.forEach(u=>{const d=no(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function $Fe(){return new j(3300,!1)}()),s=[]),r.length)throw function GFe(n){return new j(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,va))})});const l=Rc(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function qFe(n){return new j(3301,!1)}();return t}listen(e,t,i,r){const o=F2(t,"","","");return R2(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const YX="ng-animate-queued",J2="ng-animate-disabled",HLe=[],XX={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$Le={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ko="__ng_removed";class eF{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function KLe(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const s_="void",tF=new eF(s_);class GLe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Eo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function WFe(n,e){return new j(3302,!1)}();if(null==i||0==i.length)throw function KFe(n){return new j(3303,!1)}();if(!function QLe(n){return"start"==n||"done"==n}(i))throw function QFe(n,e){return new j(3400,!1)}();const o=no(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=no(this._engine.statesByElement,e,new Map);return a.has(t)||(Eo(e,gx),Eo(e,gx+"-"+t),a.set(t,tF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function YFe(n){return new j(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new nF(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Eo(e,gx),Eo(e,gx+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new eF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=tF),l.value!==s_&&c.value===l.value){if(!function ZLe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const C=[],I=o.matchStyles(c.value,c.params,C),O=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{lu(e,I),Fs(e,O)})}return}const h=no(this._engine.playersByElement,e,[]);h.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),b=!1;if(!f){if(!r)return;f=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(Eo(e,YX),s.onStart(()=>{Kh(e,YX)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const I=this._engine.playersByElement.get(e);if(I){let O=I.indexOf(s);O>=0&&I.splice(O,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,mx,!0);i.forEach(r=>{if(r[Ko])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,s_,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Rc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||tF,u=new eF(s_),d=new nF(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Ko];(!o||o===XX)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Eo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=F2(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,R2(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class qLe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new GLe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Ex(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ex(t))return;const o=t[Ko];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Eo(e,J2)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kh(e,J2))}removeNode(e,t,i){if(Ex(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Ko]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Ex(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,mx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,j2,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ko];if(t&&t.setForRemoval){if(e[Ko]=XX,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(J2)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Eo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Rc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function XFe(n){return new j(3402,!1)}()}_flushAnimations(e,t){const i=new wx,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(_e=>{u.add(_e);const ye=this.driver.query(_e,".ng-animate-queued",!0);for(let Ie=0;Ie<ye.length;Ie++)u.add(ye[Ie])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=eZ(h,this.collectedEnterElements),b=new Map;let C=0;f.forEach((_e,ye)=>{const Ie=z2+C++;b.set(ye,Ie),_e.forEach(vt=>Eo(vt,Ie))});const I=[],O=new Set,D=new Set;for(let _e=0;_e<this.collectedLeaveElements.length;_e++){const ye=this.collectedLeaveElements[_e],Ie=ye[Ko];Ie&&Ie.setForRemoval&&(I.push(ye),O.add(ye),Ie.hasAnimation?this.driver.query(ye,".ng-star-inserted",!0).forEach(vt=>O.add(vt)):D.add(ye))}const B=new Map,Y=eZ(h,Array.from(O));Y.forEach((_e,ye)=>{const Ie=px+C++;B.set(ye,Ie),_e.forEach(vt=>Eo(vt,Ie))}),e.push(()=>{f.forEach((_e,ye)=>{const Ie=b.get(ye);_e.forEach(vt=>Kh(vt,Ie))}),Y.forEach((_e,ye)=>{const Ie=B.get(ye);_e.forEach(vt=>Kh(vt,Ie))}),I.forEach(_e=>{this.processLeaveNode(_e)})});const ae=[],pe=[];for(let _e=this._namespaceList.length-1;_e>=0;_e--)this._namespaceList[_e].drainQueuedTransitions(t).forEach(Ie=>{const vt=Ie.player,Ri=Ie.element;if(ae.push(vt),this.collectedEnterElements.length){const hr=Ri[Ko];if(hr&&hr.setForMove){if(hr.previousTriggersValues&&hr.previousTriggersValues.has(Ie.triggerName)){const fu=hr.previousTriggersValues.get(Ie.triggerName),Io=this.statesByElement.get(Ie.element);if(Io&&Io.has(Ie.triggerName)){const Tx=Io.get(Ie.triggerName);Tx.value=fu,Io.set(Ie.triggerName,Tx)}}return void vt.destroy()}}const Ls=!d||!this.driver.containsElement(d,Ri),oo=B.get(Ri),Nc=b.get(Ri),kn=this._buildInstruction(Ie,i,Nc,oo,Ls);if(kn.errors&&kn.errors.length)return void pe.push(kn);if(Ls)return vt.onStart(()=>lu(Ri,kn.fromStyles)),vt.onDestroy(()=>Fs(Ri,kn.toStyles)),void r.push(vt);if(Ie.isFallbackTransition)return vt.onStart(()=>lu(Ri,kn.fromStyles)),vt.onDestroy(()=>Fs(Ri,kn.toStyles)),void r.push(vt);const lZ=[];kn.timelines.forEach(hr=>{hr.stretchStartingKeyframe=!0,this.disabledNodes.has(hr.element)||lZ.push(hr)}),kn.timelines=lZ,i.append(Ri,kn.timelines),s.push({instruction:kn,player:vt,element:Ri}),kn.queriedElements.forEach(hr=>no(a,hr,[]).push(vt)),kn.preStyleProps.forEach((hr,fu)=>{if(hr.size){let Io=c.get(fu);Io||c.set(fu,Io=new Set),hr.forEach((Tx,oF)=>Io.add(oF))}}),kn.postStyleProps.forEach((hr,fu)=>{let Io=l.get(fu);Io||l.set(fu,Io=new Set),hr.forEach((Tx,oF)=>Io.add(oF))})});if(pe.length){const _e=[];pe.forEach(ye=>{_e.push(function ZFe(n,e){return new j(3505,!1)}())}),ae.forEach(ye=>ye.destroy()),this.reportError(_e)}const Ge=new Map,gt=new Map;s.forEach(_e=>{const ye=_e.element;i.has(ye)&&(gt.set(ye,ye),this._beforeAnimationBuild(_e.player.namespaceId,_e.instruction,Ge))}),r.forEach(_e=>{const ye=_e.element;this._getPreviousPlayers(ye,!1,_e.namespaceId,_e.triggerName,null).forEach(vt=>{no(Ge,ye,[]).push(vt),vt.destroy()})});const ai=I.filter(_e=>nZ(_e,c,l)),Yi=new Map;JX(Yi,this.driver,D,l,va).forEach(_e=>{nZ(_e,c,l)&&ai.push(_e)});const ro=new Map;f.forEach((_e,ye)=>{JX(ro,this.driver,new Set(_e),c,"!")}),ai.forEach(_e=>{const ye=Yi.get(_e),Ie=ro.get(_e);Yi.set(_e,new Map([...ye?.entries()??[],...Ie?.entries()??[]]))});const Ut=[],du=[],hu={};s.forEach(_e=>{const{element:ye,player:Ie,instruction:vt}=_e;if(i.has(ye)){if(u.has(ye))return Ie.onDestroy(()=>Fs(ye,vt.toStyles)),Ie.disabled=!0,Ie.overrideTotalTime(vt.totalTime),void r.push(Ie);let Ri=hu;if(gt.size>1){let oo=ye;const Nc=[];for(;oo=oo.parentNode;){const kn=gt.get(oo);if(kn){Ri=kn;break}Nc.push(oo)}Nc.forEach(kn=>gt.set(kn,Ri))}const Ls=this._buildAnimation(Ie.namespaceId,vt,Ge,o,ro,Yi);if(Ie.setRealPlayer(Ls),Ri===hu)Ut.push(Ie);else{const oo=this.playersByElement.get(Ri);oo&&oo.length&&(Ie.parentPlayer=Rc(oo)),r.push(Ie)}}else lu(ye,vt.fromStyles),Ie.onDestroy(()=>Fs(ye,vt.toStyles)),du.push(Ie),u.has(ye)&&r.push(Ie)}),du.forEach(_e=>{const ye=o.get(_e.element);if(ye&&ye.length){const Ie=Rc(ye);_e.setRealPlayer(Ie)}}),r.forEach(_e=>{_e.parentPlayer?_e.syncPlayerEvents(_e.parentPlayer):_e.destroy()});for(let _e=0;_e<I.length;_e++){const ye=I[_e],Ie=ye[Ko];if(Kh(ye,px),Ie&&Ie.hasAnimation)continue;let vt=[];if(a.size){let Ls=a.get(ye);Ls&&Ls.length&&vt.push(...Ls);let oo=this.driver.query(ye,j2,!0);for(let Nc=0;Nc<oo.length;Nc++){let kn=a.get(oo[Nc]);kn&&kn.length&&vt.push(...kn)}}const Ri=vt.filter(Ls=>!Ls.destroyed);Ri.length?YLe(this,ye,Ri):this.processLeaveNode(ye)}return I.length=0,Ut.forEach(_e=>{this.players.push(_e),_e.onDone(()=>{_e.destroy();const ye=this.players.indexOf(_e);this.players.splice(ye,1)}),_e.play()}),Ut}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==s_;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=no(i,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(f=>{const b=f.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),f.destroy(),d.push(f)})}lu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(b=>{const C=b.element;u.add(C);const I=C[Ko];if(I&&I.removedBeforeQueried)return new Zm(b.duration,b.delay);const O=C!==c,D=function XLe(n){const e=[];return tZ(n,e),e}((i.get(C)||HLe).map(Ge=>Ge.getRealPlayer())).filter(Ge=>!!Ge.element&&Ge.element===C),B=o.get(C),Y=s.get(C),ae=OX(this._normalizer,b.keyframes,B,Y),pe=this._buildPlayer(b,ae,D);if(b.subTimeline&&r&&d.add(C),O){const Ge=new nF(e,a,C);Ge.setRealPlayer(pe),l.push(Ge)}return pe});l.forEach(b=>{no(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function WLe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>Eo(b,VX));const f=Rc(h);return f.onDestroy(()=>{u.forEach(b=>Kh(b,VX)),Fs(c,t.toStyles)}),d.forEach(b=>{no(r,b,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Zm(e.duration,e.delay)}}class nF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Zm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>R2(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){no(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ex(n){return n&&1===n.nodeType}function ZX(n,e){const t=n.style.display;return n.style.display=e??"none",t}function JX(n,e,t,i,r){const o=[];t.forEach(c=>o.push(ZX(c)));const s=[];i.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,r);u.set(d,h),(!h||0==h.length)&&(l[Ko]=$Le,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>ZX(c,o[a++])),s}function eZ(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Eo(n,e){n.classList?.add(e)}function Kh(n,e){n.classList?.remove(e)}function YLe(n,e,t){Rc(t).onDone(()=>n.processLeaveNode(e))}function tZ(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof PY?tZ(i.players,e):e.push(i)}}function nZ(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class a_{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new qLe(e.body,t,i,r),this._timelineEngine=new VLe(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],u=W2(this._driver,o,c,[]);if(c.length)throw function zFe(n,e){return new j(3404,!1)}();a=function RLe(n,e,t){return new NLe(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=PX(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=PX(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class c_{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=c_.initialStylesByElement.get(e);r||c_.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Fs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fs(this._element,this._initialStyles),this._endStyles&&(Fs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c_.initialStylesByElement.delete(this._element),this._startStyles&&(lu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),Fs(this._element,this._initialStyles),this._state=3)}}function iF(n){let e=null;return n.forEach((t,i)=>{(function e3e(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class iZ{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:q2(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class rZ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return NX(e,t)}getParentElement(e){return L2(e)}query(e,t,i){return FX(e,t,i)}computeStyle(e,t,i){return q2(e,t)}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof iZ);(function dLe(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((b,C)=>l.set(C,b))});let d=function cLe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));d=function hLe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,q2(n,a)))}}return e}(e,d,l);const h=function JLe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=iF(e[0]),e.length>1&&(i=iF(e[e.length-1]))):e instanceof Map&&(t=iF(e)),t||i?new c_(n,t,i):null}(e,d);return new iZ(e,d,c,h)}}const oZ="@.disabled";class sZ{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==oZ?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class t3e extends sZ{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oZ?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function n3e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function i3e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class r3e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let u=l.get(r);return u||(u=new sZ("",r,this.engine,()=>l.delete(r)),l.set(r,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new t3e(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let o3e=(()=>{class n extends a_{constructor(t,i,r){super(t,i,r,te(LE,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)($(ft),$(B2),$(U2))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const aZ=[{provide:U2,useFactory:function s3e(){return new zX}},{provide:a_,useClass:o3e},{provide:VE,useFactory:function a3e(n,e,t){return new r3e(n,e,t)},deps:[MI,a_,Ae]}],rF=[{provide:B2,useFactory:()=>new rZ},{provide:Hc,useValue:"BrowserAnimations"},...aZ],cZ=[{provide:B2,useClass:V2},{provide:Hc,useValue:"NoopAnimations"},...aZ];let c3e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?cZ:rF}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n});static#n=this.\u0275inj=Je({providers:rF,imports:[Tz]})}return n})();const l3e=n=>()=>n.initPwaPrompt();let u3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=tt({type:n,bootstrap:[yDe]});static#n=this.\u0275inj=Je({providers:[{provide:Ua,useClass:jU},{provide:rp,useFactory:l3e,deps:[k2e],multi:!0}],imports:[m2e,SX,yFe,SX,D2e,c3e,za,Fr,Tz,PR,yp,pDe,x0e(()=>C0e(vDe_firebase)),sEe(()=>Uo()),qke(()=>Wke()),iDe(()=>{const t=oDe();return rDe(t),t}),bOe(()=>yOe()),yNe,ENe,JNe,Kw,NNe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return n})();hhe().bootstrapModule(u3e).catch(n=>console.error(n))},6387:(De,S,F)=>{var _=le(F(4168)),N=le(F(6017)),K=le(F(1301)),z=le(F(7164)),m=le(F(8619)),x=le(F(4866)),T=le(F(3057)),k=F(723),ne=le(F(530));function le(Xe){return Xe&&Xe.__esModule?Xe:{default:Xe}}var ge=function(){},Wt=function(Kt,On,cn){var gn=new ge;if(typeof Kt>"u")throw Error("No element to render on was provided.");return gn._renderProperties=(0,m.default)(Kt),gn._encodings=[],gn._options=ne.default,gn._errorHandler=new T.default(gn),typeof On<"u"&&((cn=cn||{}).format||(cn.format=Fc()),gn.options(cn)[cn.format](On,cn).render()),gn};for(var fr in Wt.getModule=function(Xe){return _.default[Xe]},_.default)_.default.hasOwnProperty(fr)&&To(_.default,fr);function To(Xe,Kt){ge.prototype[Kt]=ge.prototype[Kt.toUpperCase()]=ge.prototype[Kt.toLowerCase()]=function(On,cn){var gn=this;return gn._errorHandler.wrapBarcodeCall(function(){cn.text=typeof cn.text>"u"?void 0:""+cn.text;var Tr=(0,N.default)(gn._options,cn);Tr=(0,x.default)(Tr);var sF=Ca(On,Xe[Kt],Tr);return gn._encodings.push(sF),gn})}}function Ca(Xe,Kt,On){var cn=new Kt(Xe=""+Xe,On);if(!cn.valid())throw new k.InvalidInputException(cn.constructor.name,Xe);var gn=cn.encode();gn=(0,K.default)(gn);for(var Tr=0;Tr<gn.length;Tr++)gn[Tr].options=(0,N.default)(On,gn[Tr].options);return gn}function Fc(){return _.default.CODE128?"CODE128":Object.keys(_.default)[0]}function Vs(Xe,Kt,On){Kt=(0,K.default)(Kt);for(var cn=0;cn<Kt.length;cn++)Kt[cn].options=(0,N.default)(On,Kt[cn].options),(0,z.default)(Kt[cn].options);(0,z.default)(On),new(0,Xe.renderer)(Xe.element,Kt,On).render(),Xe.afterRender&&Xe.afterRender()}ge.prototype.options=function(Xe){return this._options=(0,N.default)(this._options,Xe),this},ge.prototype.blank=function(Xe){var Kt=new Array(Xe+1).join("0");return this._encodings.push({data:Kt}),this},ge.prototype.init=function(){var Xe;if(this._renderProperties)for(var Kt in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var On=(0,N.default)(this._options,(Xe=this._renderProperties[Kt]).options);"auto"==On.format&&(On.format=Fc()),this._errorHandler.wrapBarcodeCall(function(){var Tr=Ca(On.value,_.default[On.format.toUpperCase()],On);Vs(Xe,Tr,On)})}},ge.prototype.render=function(){if(!this._renderProperties)throw new k.NoElementException;if(Array.isArray(this._renderProperties))for(var Xe=0;Xe<this._renderProperties.length;Xe++)Vs(this._renderProperties[Xe],this._encodings,this._options);else Vs(this._renderProperties,this._encodings,this._options);return this},ge.prototype._defaults=ne.default,typeof window<"u"&&(window.JsBarcode=Wt),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Xe,Kt){var On=[];return jQuery(this).each(function(){On.push(this)}),Wt(On,Xe,Kt)}),De.exports=Wt},9418:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function _(H,N){(function F(_,H){if(!(_ instanceof H))throw new TypeError("Cannot call a class as a function")})(this,_),this.data=H,this.text=N.text||H,this.options=N}},8514:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,w){return x&&m(y.prototype,x),w&&m(y,w),y}}(),H=function q(m){return m&&m.__esModule?m:{default:m}}(F(9418)),N=F(9144),M=function(m){function y(x,w){!function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y);var T=function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x.substring(1),w));return T.bytes=x.split("").map(function(k){return k.charCodeAt(0)}),T}return function z(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var w=this.bytes,T=w.shift()-105,k=N.SET_BY_CODE[T];if(void 0===k)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&w.unshift(N.FNC1);var P=y.next(w,1,k);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:y.getBar(T)+P.result+y.getBar((P.checksum+T)%N.MODULO)+y.getBar(N.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var w=this.options.ean128||!1;return"string"==typeof w&&(w="true"===w.toLowerCase()),w}}],[{key:"getBar",value:function(w){return N.BARS[w]?N.BARS[w].toString():""}},{key:"correctIndex",value:function(w,T){if(T===N.SET_A){var k=w.shift();return k<32?k+64:k-32}return T===N.SET_B?w.shift()-32:10*(w.shift()-48)+w.shift()-48}},{key:"next",value:function(w,T,k){if(!w.length)return{result:"",checksum:0};var P=void 0,ne=void 0;if(w[0]>=200){ne=w.shift()-105;var le=N.SWAP[ne];void 0!==le?P=y.next(w,T+1,le):((k===N.SET_A||k===N.SET_B)&&ne===N.SHIFT&&(w[0]=k===N.SET_A?w[0]>95?w[0]-96:w[0]:w[0]<32?w[0]+96:w[0]),P=y.next(w,T+1,k))}else ne=y.correctIndex(w,k),P=y.next(w,T+1,k);return{result:y.getBar(ne)+P.result,checksum:ne*T+P.checksum}}}]),y}(H.default);S.default=M},2100:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,w){return x&&m(y.prototype,x),w&&m(y,w),y}}(),H=function q(m){return m&&m.__esModule?m:{default:m}}(F(8514)),N=F(9144),M=function(m){function y(x,w){return function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N.A_START_CHAR+x,w))}return function z(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return new RegExp("^"+N.A_CHARS+"+$").test(this.data)}}]),y}(H.default);S.default=M},2943:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,w){return x&&m(y.prototype,x),w&&m(y,w),y}}(),H=function q(m){return m&&m.__esModule?m:{default:m}}(F(8514)),N=F(9144),M=function(m){function y(x,w){return function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N.B_START_CHAR+x,w))}return function z(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return new RegExp("^"+N.B_CHARS+"+$").test(this.data)}}]),y}(H.default);S.default=M},5683:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,w){return x&&m(y.prototype,x),w&&m(y,w),y}}(),H=function q(m){return m&&m.__esModule?m:{default:m}}(F(8514)),N=F(9144),M=function(m){function y(x,w){return function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N.C_START_CHAR+x,w))}return function z(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return new RegExp("^"+N.C_CHARS+"+$").test(this.data)}}]),y}(H.default);S.default=M},7737:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=q(F(8514)),N=q(F(4336));function q(m){return m&&m.__esModule?m:{default:m}}function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}var M=function(m){function y(x,w){if(function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),/^[\x00-\x7F\xC8-\xD3]+$/.test(x))var T=R(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,(0,N.default)(x),w));else T=R(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,w));return R(T)}return function z(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),y}(_.default);S.default=M},4336:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=F(9144),_=function(z){return z.match(new RegExp("^"+G.A_CHARS+"*"))[0].length},H=function(z){return z.match(new RegExp("^"+G.B_CHARS+"*"))[0].length},N=function(z){return z.match(new RegExp("^"+G.C_CHARS+"*"))[0]};function q(R,z){var M=z?G.A_CHARS:G.B_CHARS,m=R.match(new RegExp("^("+M+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(m)return m[1]+String.fromCharCode(204)+K(R.substring(m[1].length));var y=R.match(new RegExp("^"+M+"+"))[0];return y.length===R.length?R:y+String.fromCharCode(z?205:206)+q(R.substring(y.length),!z)}function K(R){var z=N(R),M=z.length;if(M===R.length)return R;R=R.substring(M);var m=_(R)>=H(R);return z+String.fromCharCode(m?206:205)+q(R,m)}S.default=function(R){var z=void 0;if(N(R).length>=2)z=G.C_START_CHAR+K(R);else{var m=_(R)>H(R);z=(m?G.A_START_CHAR:G.B_START_CHAR)+q(R,m)}return z.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(y,x){return String.fromCharCode(203)+x})}},9144:(De,S)=>{var F;function G(fr,To,Ca){return To in fr?Object.defineProperty(fr,To,{value:Ca,enumerable:!0,configurable:!0,writable:!0}):fr[To]=Ca,fr}Object.defineProperty(S,"__esModule",{value:!0});var _=S.SET_A=0,H=S.SET_B=1,N=S.SET_C=2,K=(S.SHIFT=98,S.START_A=103),R=S.START_B=104,z=S.START_C=105;S.MODULO=103,S.STOP=106,S.FNC1=207,S.SET_BY_CODE=(G(F={},K,_),G(F,R,H),G(F,z,N),F),S.SWAP={101:_,100:H,99:N},S.A_START_CHAR=String.fromCharCode(208),S.B_START_CHAR=String.fromCharCode(209),S.C_START_CHAR=String.fromCharCode(210),S.A_CHARS="[\0-_\xc8-\xcf]",S.B_CHARS="[ -\x7f\xc8-\xcf]",S.C_CHARS="(\xcf*[0-9]{2}\xcf*)",S.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},8754:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE128C=S.CODE128B=S.CODE128A=S.CODE128=void 0;var _=M(F(7737)),N=M(F(2100)),K=M(F(2943)),z=M(F(5683));function M(m){return m&&m.__esModule?m:{default:m}}S.CODE128=_.default,S.CODE128A=N.default,S.CODE128B=K.default,S.CODE128C=z.default},6602:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE39=void 0;var G=function(){function P(ne,le){for(var ge=0;ge<le.length;ge++){var Wt=le[ge];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(ne,Wt.key,Wt)}}return function(ne,le,ge){return le&&P(ne.prototype,le),ge&&P(ne,ge),ne}}(),z=function(P){function ne(le,ge){return function q(P,ne){if(!(P instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,ne),le=le.toUpperCase(),ge.mod43&&(le+=function w(P){return M[P]}(function k(P){for(var ne=0,le=0;le<P.length;le++)ne+=T(P[le]);return ne%=43}(le))),function K(P,ne){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ne||"object"!=typeof ne&&"function"!=typeof ne?P:ne}(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,le,ge))}return function R(P,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);P.prototype=Object.create(ne&&ne.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(P,ne):P.__proto__=ne)}(ne,P),G(ne,[{key:"encode",value:function(){for(var ge=y("*"),Wt=0;Wt<this.data.length;Wt++)ge+=y(this.data[Wt])+"0";return{data:ge+=y("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),ne}(function N(P){return P&&P.__esModule?P:{default:P}}(F(9418)).default),M=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],m=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function y(P){return function x(P){return m[P].toString(2)}(T(P))}function T(P){return M.indexOf(P)}S.CODE39=z},4079:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function x(w,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,T,k){return T&&x(w.prototype,T),k&&x(w,k),w}}(),_=F(1392),N=R(F(2651));function R(x){return x&&x.__esModule?x:{default:x}}var y=function(x){function w(T,k){!function z(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var P=function M(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,k));return P.fontSize=!k.flat&&k.fontSize>10*k.width?10*k.width:k.fontSize,P.guardHeight=k.height+P.fontSize/2+k.textMargin,P}return function m(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),G(w,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(k,P){return this.text.substr(k,P)}},{key:"leftEncode",value:function(k,P){return(0,N.default)(k,P)}},{key:"rightText",value:function(k,P){return this.text.substr(k,P)}},{key:"rightEncode",value:function(k,P){return(0,N.default)(k,P)}},{key:"encodeGuarded",value:function(){var k={fontSize:this.fontSize},P={height:this.guardHeight};return[{data:_.SIDE_BIN,options:P},{data:this.leftEncode(),text:this.leftText(),options:k},{data:_.MIDDLE_BIN,options:P},{data:this.rightEncode(),text:this.rightText(),options:k},{data:_.SIDE_BIN,options:P}]}},{key:"encodeFlat",value:function(){return{data:[_.SIDE_BIN,this.leftEncode(),_.MIDDLE_BIN,this.rightEncode(),_.SIDE_BIN].join(""),text:this.text}}}]),w}(R(F(9418)).default);S.default=y},9619:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function x(w,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,T,k){return T&&x(w.prototype,T),k&&x(w,k),w}}(),_=function x(w,T,k){null===w&&(w=Function.prototype);var P=Object.getOwnPropertyDescriptor(w,T);if(void 0===P){var ne=Object.getPrototypeOf(w);return null===ne?void 0:x(ne,T,k)}if("value"in P)return P.value;var le=P.get;return void 0===le?void 0:le.call(k)},H=F(1392),q=function K(x){return x&&x.__esModule?x:{default:x}}(F(4079)),m=function(w){return(10-w.substr(0,12).split("").map(function(k){return+k}).reduce(function(k,P,ne){return ne%2?k+3*P:k+P},0)%10)%10},y=function(x){function w(T,k){(function R(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")})(this,w),-1!==T.search(/^[0-9]{12}$/)&&(T+=m(T));var P=function z(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,k));return P.lastChar=k.lastChar,P}return function M(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),G(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var k=this.data.substr(1,6),P=H.EAN13_STRUCTURE[this.data[0]];return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftEncode",this).call(this,k,P)}},{key:"rightText",value:function(){return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var k=this.data.substr(7,6);return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightEncode",this).call(this,k,"RRRRRR")}},{key:"encodeGuarded",value:function(){var k=_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(k.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(k.push({data:"00"}),k.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),k}}]),w}(q.default);S.default=y},5754:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function x(w,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,T,k){return T&&x(w.prototype,T),k&&x(w,k),w}}(),_=F(1392),N=R(F(2651));function R(x){return x&&x.__esModule?x:{default:x}}var y=function(x){function w(T,k){return function z(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w),function M(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,k))}return function m(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),G(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var k=_.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,N.default)(this.data,k,"01"),text:this.text}}}]),w}(R(F(9418)).default);S.default=y},1931:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function w(T,k){for(var P=0;P<k.length;P++){var ne=k[P];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(T,ne.key,ne)}}return function(T,k,P){return k&&w(T.prototype,k),P&&w(T,P),T}}(),_=F(1392),N=R(F(2651));function R(w){return w&&w.__esModule?w:{default:w}}var x=function(w){function T(k,P){return function z(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}(this,T),function M(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?w:T}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k,P))}return function m(w,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}(T,w),G(T,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var P=_.EAN5_STRUCTURE[function(T){return T.split("").map(function(P){return+P}).reduce(function(P,ne,le){return le%2?P+9*ne:P+3*ne},0)%10}(this.data)];return{data:"1011"+(0,N.default)(this.data,P,"01"),text:this.text}}}]),T}(R(F(9418)).default);S.default=x},3372:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function y(x,w){for(var T=0;T<w.length;T++){var k=w[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,w,T){return w&&y(x.prototype,w),T&&y(x,T),x}}(),_=function y(x,w,T){null===x&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,w);if(void 0===k){var P=Object.getPrototypeOf(x);return null===P?void 0:y(P,w,T)}if("value"in k)return k.value;var ne=k.get;return void 0===ne?void 0:ne.call(T)},N=function q(y){return y&&y.__esModule?y:{default:y}}(F(4079)),M=function(x){return(10-x.substr(0,7).split("").map(function(T){return+T}).reduce(function(T,k,P){return P%2?T+k:T+3*k},0)%10)%10},m=function(y){function x(w,T){return function K(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),-1!==w.search(/^[0-9]{7}$/)&&(w+=M(w)),function R(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w,T))}return function z(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),G(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===M(this.data)}},{key:"leftText",value:function(){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var T=this.data.substr(0,4);return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,T,"LLLL")}},{key:"rightText",value:function(){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var T=this.data.substr(4,4);return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,T,"RRRR")}}]),x}(N.default);S.default=m},5821:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function x(w,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,T,k){return T&&x(w.prototype,T),k&&x(w,k),w}}();S.checksum=y;var H=K(F(2651));function K(x){return x&&x.__esModule?x:{default:x}}var m=function(x){function w(T,k){(function R(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")})(this,w),-1!==T.search(/^[0-9]{11}$/)&&(T+=y(T));var P=function z(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,k));return P.displayValue=k.displayValue,P.fontSize=k.fontSize>10*k.width?10*k.width:k.fontSize,P.guardHeight=k.height+P.fontSize/2+k.textMargin,P}return function M(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),G(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==y(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var k="";return k+="101",k+=(0,H.default)(this.data.substr(0,6),"LLLLLL"),k+="01010",k+=(0,H.default)(this.data.substr(6,6),"RRRRRR"),{data:k+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var k=[];return this.displayValue&&k.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),k.push({data:"101"+(0,H.default)(this.data[0],"L"),options:{height:this.guardHeight}}),k.push({data:(0,H.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),k.push({data:"01010",options:{height:this.guardHeight}}),k.push({data:(0,H.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),k.push({data:(0,H.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&k.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),k}}]),w}(K(F(9418)).default);function y(x){var T,w=0;for(T=1;T<11;T+=2)w+=parseInt(x[T]);for(T=0;T<11;T+=2)w+=3*parseInt(x[T]);return(10-w%10)%10}S.default=m},1091:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function k(P,ne){for(var le=0;le<ne.length;le++){var ge=ne[le];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(P,ge.key,ge)}}return function(P,ne,le){return ne&&k(P.prototype,ne),le&&k(P,le),P}}(),H=R(F(2651)),q=R(F(9418)),K=F(5821);function R(k){return k&&k.__esModule?k:{default:k}}function M(k,P){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?k:P}var y=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],x=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],w=function(k){function P(ne,le){!function z(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,P);var ge=M(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,ne,le));if(ge.isValid=!1,-1!==ne.search(/^[0-9]{6}$/))ge.middleDigits=ne,ge.upcA=T(ne,"0"),ge.text=le.text||""+ge.upcA[0]+ne+ge.upcA[ge.upcA.length-1],ge.isValid=!0;else{if(-1===ne.search(/^[01][0-9]{7}$/))return M(ge);if(ge.middleDigits=ne.substring(1,ne.length-1),ge.upcA=T(ge.middleDigits,ne[0]),ge.upcA[ge.upcA.length-1]!==ne[ne.length-1])return M(ge);ge.isValid=!0}return ge.displayValue=le.displayValue,ge.fontSize=le.fontSize>10*le.width?10*le.width:le.fontSize,ge.guardHeight=le.height+ge.fontSize/2+le.textMargin,ge}return function m(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(k,P):k.__proto__=P)}(P,k),G(P,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var le="";return le+="101",le+=this.encodeMiddleDigits(),{data:le+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var le=[];return this.displayValue&&le.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),le.push({data:"101",options:{height:this.guardHeight}}),le.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),le.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&le.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),le}},{key:"encodeMiddleDigits",value:function(){var le=this.upcA[0],Wt=x[parseInt(this.upcA[this.upcA.length-1])][parseInt(le)];return(0,H.default)(this.middleDigits,Wt)}}]),P}(q.default);function T(k,P){for(var ne=parseInt(k[k.length-1]),le=y[ne],ge="",Wt=0,fr=0;fr<le.length;fr++){var To=le[fr];ge+="X"===To?k[Wt++]:To}return(ge=""+P+ge)+(0,K.checksum)(ge)}S.default=w},1392:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SIDE_BIN="101",S.MIDDLE_BIN="01010",S.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},S.EAN2_STRUCTURE=["LL","LG","GL","GG"],S.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],S.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2651:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=F(1392);S.default=function(N,q,K){var R=N.split("").map(function(M,m){return G.BINARIES[q[m]]}).map(function(M,m){return M?M[N[m]]:""});if(K){var z=N.length-1;R=R.map(function(M,m){return m<z?M+K:M})}return R.join("")}},2708:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.UPCE=S.UPC=S.EAN2=S.EAN5=S.EAN8=S.EAN13=void 0;var _=w(F(9619)),N=w(F(3372)),K=w(F(1931)),z=w(F(5754)),m=w(F(5821)),x=w(F(1091));function w(T){return T&&T.__esModule?T:{default:T}}S.EAN13=_.default,S.EAN8=N.default,S.EAN5=K.default,S.EAN2=z.default,S.UPC=m.default,S.UPCE=x.default},8817:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.GenericBarcode=void 0;var G=function(){function M(m,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,y,x){return y&&M(m.prototype,y),x&&M(m,x),m}}(),z=function(M){function m(y,x){return function q(M,m){if(!(M instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function K(M,m){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?M:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,x))}return function R(M,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);M.prototype=Object.create(m&&m.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(M,m):M.__proto__=m)}(m,M),G(m,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),m}(function N(M){return M&&M.__esModule?M:{default:M}}(F(9418)).default);S.GenericBarcode=z},6065:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,w){return x&&m(y.prototype,x),w&&m(y,w),y}}(),_=F(5168),M=function(m){function y(){return function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function z(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var w=this,T=this.data.match(/.{2}/g).map(function(k){return w.encodePair(k)}).join("");return{data:_.START_BIN+T+_.END_BIN,text:this.text}}},{key:"encodePair",value:function(w){var T=_.BINARIES[w[1]];return _.BINARIES[w[0]].split("").map(function(k,P){return("1"===k?"111":"1")+("1"===T[P]?"000":"0")}).join("")}}]),y}(function q(m){return m&&m.__esModule?m:{default:m}}(F(9418)).default);S.default=M},9643:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,w){return x&&m(y.prototype,x),w&&m(y,w),y}}(),H=function N(m){return m&&m.__esModule?m:{default:m}}(F(6065)),z=function(y){var x=y.substr(0,13).split("").map(function(w){return parseInt(w,10)}).reduce(function(w,T,k){return w+T*(3-k%2*2)},0);return 10*Math.ceil(x/10)-x},M=function(m){function y(x,w){return function q(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),-1!==x.search(/^[0-9]{13}$/)&&(x+=z(x)),function K(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,w))}return function R(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===z(this.data)}}]),y}(H.default);S.default=M},5168:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.START_BIN="1010",S.END_BIN="11101",S.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},8969:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ITF14=S.ITF=void 0;var _=q(F(6065)),N=q(F(9643));function q(K){return K&&K.__esModule?K:{default:K}}S.ITF=_.default,S.ITF14=N.default},7037:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,w){return x&&m(y.prototype,x),w&&m(y,w),y}}(),z=function(m){function y(x,w){return function q(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function K(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,w))}return function R(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"encode",value:function(){for(var w="110",T=0;T<this.data.length;T++){var P=parseInt(this.data[T]).toString(2);P=M(P,4-P.length);for(var ne=0;ne<P.length;ne++)w+="0"==P[ne]?"100":"110"}return{data:w+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),y}(function N(m){return m&&m.__esModule?m:{default:m}}(F(9418)).default);function M(m,y){for(var x=0;x<y;x++)m="0"+m;return m}S.default=z},3922:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function N(M){return M&&M.__esModule?M:{default:M}}(F(7037)),H=F(6225),z=function(M){function m(y,x){return function q(M,m){if(!(M instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function K(M,m){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?M:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y+(0,H.mod10)(y),x))}return function R(M,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);M.prototype=Object.create(m&&m.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(M,m):M.__proto__=m)}(m,M),m}(_.default);S.default=z},8742:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function N(M){return M&&M.__esModule?M:{default:M}}(F(7037)),H=F(6225),z=function(M){function m(y,x){return function q(M,m){if(!(M instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),y+=(0,H.mod10)(y),y+=(0,H.mod10)(y),function K(M,m){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?M:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,x))}return function R(M,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);M.prototype=Object.create(m&&m.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(M,m):M.__proto__=m)}(m,M),m}(_.default);S.default=z},1825:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function N(M){return M&&M.__esModule?M:{default:M}}(F(7037)),H=F(6225),z=function(M){function m(y,x){return function q(M,m){if(!(M instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function K(M,m){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?M:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y+(0,H.mod11)(y),x))}return function R(M,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);M.prototype=Object.create(m&&m.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(M,m):M.__proto__=m)}(m,M),m}(_.default);S.default=z},4455:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function N(M){return M&&M.__esModule?M:{default:M}}(F(7037)),H=F(6225),z=function(M){function m(y,x){return function q(M,m){if(!(M instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),y+=(0,H.mod11)(y),y+=(0,H.mod10)(y),function K(M,m){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?M:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,x))}return function R(M,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);M.prototype=Object.create(m&&m.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(M,m):M.__proto__=m)}(m,M),m}(_.default);S.default=z},6225:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.mod10=function F(_){for(var H=0,N=0;N<_.length;N++){var q=parseInt(_[N]);H+=(N+_.length)%2==0?q:2*q%10+Math.floor(2*q/10)}return(10-H%10)%10},S.mod11=function G(_){for(var H=0,N=[2,3,4,5,6,7],q=0;q<_.length;q++){var K=parseInt(_[_.length-1-q]);H+=N[q%N.length]*K}return(11-H%11)%11}},1122:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MSI1110=S.MSI1010=S.MSI11=S.MSI10=S.MSI=void 0;var _=y(F(7037)),N=y(F(3922)),K=y(F(1825)),z=y(F(8742)),m=y(F(4455));function y(x){return x&&x.__esModule?x:{default:x}}S.MSI=_.default,S.MSI10=N.default,S.MSI11=K.default,S.MSI1010=z.default,S.MSI1110=m.default},886:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.codabar=void 0;var G=function(){function M(m,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,y,x){return y&&M(m.prototype,y),x&&M(m,x),m}}(),z=function(M){function m(y,x){(function q(M,m){if(!(M instanceof m))throw new TypeError("Cannot call a class as a function")})(this,m),0===y.search(/^[0-9\-\$\:\.\+\/]+$/)&&(y="A"+y+"A");var w=function K(M,m){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?M:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y.toUpperCase(),x));return w.text=w.options.text||w.text.replace(/[A-D]/g,""),w}return function R(M,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);M.prototype=Object.create(m&&m.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(M,m):M.__proto__=m)}(m,M),G(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var x=[],w=this.getEncodings(),T=0;T<this.data.length;T++)x.push(w[this.data.charAt(T)]),T!==this.data.length-1&&x.push("0");return{text:this.text,data:x.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),m}(function N(M){return M&&M.__esModule?M:{default:M}}(F(9418)).default);S.codabar=z},4168:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=F(6602),_=F(8754),H=F(2708),N=F(8969),q=F(1122),K=F(8758),R=F(886),z=F(8817);S.default={CODE39:G.CODE39,CODE128:_.CODE128,CODE128A:_.CODE128A,CODE128B:_.CODE128B,CODE128C:_.CODE128C,EAN13:H.EAN13,EAN8:H.EAN8,EAN5:H.EAN5,EAN2:H.EAN2,UPC:H.UPC,UPCE:H.UPCE,ITF14:N.ITF14,ITF:N.ITF,MSI:q.MSI,MSI10:q.MSI10,MSI11:q.MSI11,MSI1010:q.MSI1010,MSI1110:q.MSI1110,pharmacode:K.pharmacode,codabar:R.codabar,GenericBarcode:z.GenericBarcode}},8758:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.pharmacode=void 0;var G=function(){function M(m,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,y,x){return y&&M(m.prototype,y),x&&M(m,x),m}}(),z=function(M){function m(y,x){!function q(M,m){if(!(M instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var w=function K(M,m){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?M:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,x));return w.number=parseInt(y,10),w}return function R(M,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);M.prototype=Object.create(m&&m.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(M,m):M.__proto__=m)}(m,M),G(m,[{key:"encode",value:function(){for(var x=this.number,w="";!isNaN(x)&&0!=x;)x%2==0?(w="11100"+w,x=(x-2)/2):(w="100"+w,x=(x-1)/2);return{data:w=w.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),m}(function N(M){return M&&M.__esModule?M:{default:M}}(F(9418)).default);S.pharmacode=z},3057:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var F=function(){function H(N,q){for(var K=0;K<q.length;K++){var R=q[K];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,q,K){return q&&H(N.prototype,q),K&&H(N,K),N}}(),_=function(){function H(N){(function G(H,N){if(!(H instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.api=N}return F(H,[{key:"handleCatch",value:function(q){if("InvalidInputException"!==q.name)throw q;if(this.api._options.valid===this.api._defaults.valid)throw q.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(q){try{var K=q.apply(void 0,arguments);return this.api._options.valid(!0),K}catch(R){return this.handleCatch(R),this.api}}}]),H}();S.default=_},723:(De,S)=>{function F(K,R){if(!(K instanceof R))throw new TypeError("Cannot call a class as a function")}function G(K,R){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?K:R}function _(K,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);K.prototype=Object.create(R&&R.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(K,R):K.__proto__=R)}Object.defineProperty(S,"__esModule",{value:!0});var H=function(K){function R(z,M){F(this,R);var m=G(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return m.name="InvalidInputException",m.symbology=z,m.input=M,m.message='"'+m.input+'" is not a valid input for '+m.symbology,m}return _(R,Error),R}(),N=function(K){function R(){F(this,R);var z=G(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return z.name="InvalidElementException",z.message="Not supported type to render on",z}return _(R,Error),R}(),q=function(K){function R(){F(this,R);var z=G(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return z.name="NoElementException",z.message="No element to render on.",z}return _(R,Error),R}();S.InvalidInputException=H,S.InvalidElementException=N,S.NoElementException=q},7164:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function F(G){return G.marginTop=G.marginTop||G.margin,G.marginBottom=G.marginBottom||G.margin,G.marginRight=G.marginRight||G.margin,G.marginLeft=G.marginLeft||G.margin,G}},7020:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=q(F(4866)),N=q(F(530));function q(R){return R&&R.__esModule?R:{default:R}}S.default=function K(R){var z={};for(var M in N.default)N.default.hasOwnProperty(M)&&(R.hasAttribute("jsbarcode-"+M.toLowerCase())&&(z[M]=R.getAttribute("jsbarcode-"+M.toLowerCase())),R.hasAttribute("data-"+M.toLowerCase())&&(z[M]=R.getAttribute("data-"+M.toLowerCase())));return z.value=R.getAttribute("jsbarcode-value")||R.getAttribute("data-value"),(0,_.default)(z)}},8619:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},H=R(F(7020)),q=R(F(2233)),K=F(723);function R(y){return y&&y.__esModule?y:{default:y}}S.default=function z(y){if("string"==typeof y)return function M(y){var x=document.querySelectorAll(y);if(0!==x.length){for(var w=[],T=0;T<x.length;T++)w.push(z(x[T]));return w}}(y);if(Array.isArray(y)){for(var x=[],w=0;w<y.length;w++)x.push(z(y[w]));return x}if(typeof HTMLCanvasElement<"u"&&y instanceof HTMLImageElement)return function m(y){var x=document.createElement("canvas");return{element:x,options:(0,H.default)(y),renderer:q.default.CanvasRenderer,afterRender:function(){y.setAttribute("src",x.toDataURL())}}}(y);if(y&&y.nodeName&&"svg"===y.nodeName.toLowerCase()||typeof SVGElement<"u"&&y instanceof SVGElement)return{element:y,options:(0,H.default)(y),renderer:q.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&y instanceof HTMLCanvasElement)return{element:y,options:(0,H.default)(y),renderer:q.default.CanvasRenderer};if(y&&y.getContext)return{element:y,renderer:q.default.CanvasRenderer};if(y&&"object"===(typeof y>"u"?"undefined":G(y))&&!y.nodeName)return{element:y,renderer:q.default.ObjectRenderer};throw new K.InvalidElementException}},1301:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function F(G){var _=[];return function H(N){if(Array.isArray(N))for(var q=0;q<N.length;q++)H(N[q]);else N.text=N.text||"",N.data=N.data||"",_.push(N)}(G),_}},6017:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var F=Object.assign||function(G){for(var _=1;_<arguments.length;_++){var H=arguments[_];for(var N in H)Object.prototype.hasOwnProperty.call(H,N)&&(G[N]=H[N])}return G};S.default=function(G,_){return F({},G,_)}},4866:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function F(G){var _=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var H in _)_.hasOwnProperty(H)&&"string"==typeof G[H=_[H]]&&(G[H]=parseInt(G[H],10));return"string"==typeof G.displayValue&&(G.displayValue="false"!=G.displayValue),G}},530:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1799:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function z(M,m){for(var y=0;y<m.length;y++){var x=m[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(M,x.key,x)}}return function(M,m,y){return m&&z(M.prototype,m),y&&z(M,y),M}}(),H=function q(z){return z&&z.__esModule?z:{default:z}}(F(6017)),N=F(4358),R=function(){function z(M,m,y){(function K(z,M){if(!(z instanceof M))throw new TypeError("Cannot call a class as a function")})(this,z),this.canvas=M,this.encodings=m,this.options=y}return G(z,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var m=0;m<this.encodings.length;m++){var y=(0,H.default)(this.options,this.encodings[m].options);this.drawCanvasBarcode(y,this.encodings[m]),this.drawCanvasText(y,this.encodings[m]),this.moveCanvasDrawing(this.encodings[m])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var m=this.canvas.getContext("2d");m.save(),(0,N.calculateEncodingAttributes)(this.encodings,this.options,m);var y=(0,N.getTotalWidthOfEncodings)(this.encodings),x=(0,N.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=y+this.options.marginLeft+this.options.marginRight,this.canvas.height=x,m.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(m.fillStyle=this.options.background,m.fillRect(0,0,this.canvas.width,this.canvas.height)),m.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(m,y){var T,x=this.canvas.getContext("2d"),w=y.data;T="top"==m.textPosition?m.marginTop+m.fontSize+m.textMargin:m.marginTop,x.fillStyle=m.lineColor;for(var k=0;k<w.length;k++){var P=k*m.width+y.barcodePadding;"1"===w[k]?x.fillRect(P,T,m.width,m.height):w[k]&&x.fillRect(P,T,m.width,m.height*w[k])}}},{key:"drawCanvasText",value:function(m,y){var T,k,x=this.canvas.getContext("2d");m.displayValue&&(k="top"==m.textPosition?m.marginTop+m.fontSize-m.textMargin:m.height+m.textMargin+m.marginTop+m.fontSize,x.font=m.fontOptions+" "+m.fontSize+"px "+m.font,"left"==m.textAlign||y.barcodePadding>0?(T=0,x.textAlign="left"):"right"==m.textAlign?(T=y.width-1,x.textAlign="right"):(T=y.width/2,x.textAlign="center"),x.fillText(y.text,T,k))}},{key:"moveCanvasDrawing",value:function(m){this.canvas.getContext("2d").translate(m.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),z}();S.default=R},2233:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=R(F(1799)),N=R(F(5794)),K=R(F(1138));function R(z){return z&&z.__esModule?z:{default:z}}S.default={CanvasRenderer:_.default,SVGRenderer:N.default,ObjectRenderer:K.default}},1138:(De,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var F=function(){function H(N,q){for(var K=0;K<q.length;K++){var R=q[K];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,q,K){return q&&H(N.prototype,q),K&&H(N,K),N}}(),_=function(){function H(N,q,K){(function G(H,N){if(!(H instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.object=N,this.encodings=q,this.options=K}return F(H,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),H}();S.default=_},4358:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getTotalWidthOfEncodings=S.calculateEncodingAttributes=S.getBarcodePadding=S.getEncodingHeight=S.getMaximumHeightOfEncodings=void 0;var _=function H(m){return m&&m.__esModule?m:{default:m}}(F(6017));function N(m,y){return y.height+(y.displayValue&&m.text.length>0?y.fontSize+y.textMargin:0)+y.marginTop+y.marginBottom}function q(m,y,x){if(x.displayValue&&y<m){if("center"==x.textAlign)return Math.floor((m-y)/2);if("left"==x.textAlign)return 0;if("right"==x.textAlign)return Math.floor(m-y)}return 0}function M(m,y,x){var w;if(x)w=x;else{if(!(typeof document<"u"))return 0;w=document.createElement("canvas").getContext("2d")}w.font=y.fontOptions+" "+y.fontSize+"px "+y.font;var T=w.measureText(m);return T?T.width:0}S.getMaximumHeightOfEncodings=function z(m){for(var y=0,x=0;x<m.length;x++)m[x].height>y&&(y=m[x].height);return y},S.getEncodingHeight=N,S.getBarcodePadding=q,S.calculateEncodingAttributes=function K(m,y,x){for(var w=0;w<m.length;w++){var P,T=m[w],k=(0,_.default)(y,T.options);P=k.displayValue?M(T.text,k,x):0;var ne=T.data.length*k.width;T.width=Math.ceil(Math.max(P,ne)),T.height=N(T,k),T.barcodePadding=q(P,ne,k)}},S.getTotalWidthOfEncodings=function R(m){for(var y=0,x=0;x<m.length;x++)y+=m[x].width;return y}},5794:(De,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function M(m,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,y,x){return y&&M(m.prototype,y),x&&M(m,x),m}}(),H=function q(M){return M&&M.__esModule?M:{default:M}}(F(6017)),N=F(4358),R="http://www.w3.org/2000/svg",z=function(){function M(m,y,x){(function K(M,m){if(!(M instanceof m))throw new TypeError("Cannot call a class as a function")})(this,M),this.svg=m,this.encodings=y,this.options=x,this.document=x.xmlDocument||document}return G(M,[{key:"render",value:function(){var y=this.options.marginLeft;this.prepareSVG();for(var x=0;x<this.encodings.length;x++){var w=this.encodings[x],T=(0,H.default)(this.options,w.options),k=this.createGroup(y,T.marginTop,this.svg);this.setGroupOptions(k,T),this.drawSvgBarcode(k,T,w),this.drawSVGText(k,T,w),y+=w.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,N.calculateEncodingAttributes)(this.encodings,this.options);var y=(0,N.getTotalWidthOfEncodings)(this.encodings),x=(0,N.getMaximumHeightOfEncodings)(this.encodings),w=y+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(w,x),this.options.background&&this.drawRect(0,0,w,x,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(y,x,w){var k,T=w.data;k="top"==x.textPosition?x.fontSize+x.textMargin:0;for(var P=0,ne=0,le=0;le<T.length;le++)ne=le*x.width+w.barcodePadding,"1"===T[le]?P++:P>0&&(this.drawRect(ne-x.width*P,k,x.width*P,x.height,y),P=0);P>0&&this.drawRect(ne-x.width*(P-1),k,x.width*P,x.height,y)}},{key:"drawSVGText",value:function(y,x,w){var k,P,T=this.document.createElementNS(R,"text");x.displayValue&&(T.setAttribute("style","font:"+x.fontOptions+" "+x.fontSize+"px "+x.font),P="top"==x.textPosition?x.fontSize-x.textMargin:x.height+x.textMargin+x.fontSize,"left"==x.textAlign||w.barcodePadding>0?(k=0,T.setAttribute("text-anchor","start")):"right"==x.textAlign?(k=w.width-1,T.setAttribute("text-anchor","end")):(k=w.width/2,T.setAttribute("text-anchor","middle")),T.setAttribute("x",k),T.setAttribute("y",P),T.appendChild(this.document.createTextNode(w.text)),y.appendChild(T))}},{key:"setSvgAttributes",value:function(y,x){var w=this.svg;w.setAttribute("width",y+"px"),w.setAttribute("height",x+"px"),w.setAttribute("x","0px"),w.setAttribute("y","0px"),w.setAttribute("viewBox","0 0 "+y+" "+x),w.setAttribute("xmlns",R),w.setAttribute("version","1.1"),w.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(y,x,w){var T=this.document.createElementNS(R,"g");return T.setAttribute("transform","translate("+y+", "+x+")"),w.appendChild(T),T}},{key:"setGroupOptions",value:function(y,x){y.setAttribute("style","fill:"+x.lineColor+";")}},{key:"drawRect",value:function(y,x,w,T,k){var P=this.document.createElementNS(R,"rect");return P.setAttribute("x",y),P.setAttribute("y",x),P.setAttribute("width",w),P.setAttribute("height",T),k.appendChild(P),P}}]),M}();S.default=z}},De=>{De(De.s=1797)}]);