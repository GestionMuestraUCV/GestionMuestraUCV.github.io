"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[792],{6603:(Te,S,N)=>{function $(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){$(o,i,r,s,a,"next",c)}function a(c){$(o,i,r,s,a,"throw",c)}s(void 0)})}}let R=null,K=1;const P=Symbol("SIGNAL");function U(n){const e=R;return R=n,e}function A(n){if((!Ls(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==K)){if(!n.producerMustRecompute(n)&&!dr(n))return n.dirty=!1,void(n.lastCleanEpoch=K);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=K}}function dr(n){Qe(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(A(t),i!==t.version))return!0}return!1}function Fc(n,e){if(function Kt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Qe(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Fc(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Qe(r),r.producerIndexOfThis[i]=e}}function Ls(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Qe(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let gF=null;function yt(n){return"function"==typeof n}function Vx(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Bx=Vx(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function m_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ai{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(yt(i))try{i()}catch(o){e=o instanceof Bx?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{vF(o)}catch(s){e=e??[],s instanceof Bx?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Bx(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vF(e);else{if(e instanceof ai){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&m_(t,e)}remove(e){const{_finalizers:t}=this;t&&m_(t,e),e instanceof ai&&e._removeParent(this)}}ai.EMPTY=(()=>{const n=new ai;return n.closed=!0,n})();const bF=ai.EMPTY;function yF(n){return n instanceof ai||n&&"closed"in n&&yt(n.remove)&&yt(n.add)&&yt(n.unsubscribe)}function vF(n){yt(n)?n():n.unsubscribe()}const Lc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},__={setTimeout(n,e,...t){const{delegate:i}=__;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=__;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function wF(n){__.setTimeout(()=>{const{onUnhandledError:e}=Lc;if(!e)throw n;e(n)})}function ef(){}const CZ=Ux("C",void 0,void 0);function Ux(n,e,t){return{kind:n,value:e,error:t}}let Vc=null;function b_(n){if(Lc.useDeprecatedSynchronousErrorHandling){const e=!Vc;if(e&&(Vc={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Vc;if(Vc=null,t)throw i}}else n()}class zx extends ai{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yF(e)&&e.add(this)):this.destination=AZ}static create(e,t,i){return new tf(e,t,i)}next(e){this.isStopped?Hx(function IZ(n){return Ux("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hx(function EZ(n){return Ux("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hx(CZ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const MZ=Function.prototype.bind;function jx(n,e){return MZ.call(n,e)}class DZ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){y_(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){y_(i)}else y_(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){y_(t)}}}class tf extends zx{constructor(e,t,i){let r;if(super(),yt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Lc.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&jx(e.next,o),error:e.error&&jx(e.error,o),complete:e.complete&&jx(e.complete,o)}):r=e}this.destination=new DZ(r)}}function y_(n){Lc.useDeprecatedSynchronousErrorHandling?function TZ(n){Lc.useDeprecatedSynchronousErrorHandling&&Vc&&(Vc.errorThrown=!0,Vc.error=n)}(n):wF(n)}function Hx(n,e){const{onStoppedNotification:t}=Lc;t&&__.setTimeout(()=>t(n,e))}const AZ={closed:!0,next:ef,error:function SZ(n){throw n},complete:ef},$x="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ca(n){return n}function xF(n){return 0===n.length?Ca:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Qt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function PZ(n){return n&&n instanceof zx||function OZ(n){return n&&yt(n.next)&&yt(n.error)&&yt(n.complete)}(n)&&yF(n)}(t)?t:new tf(t,i,r);return b_(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=CF(i))((r,o)=>{const s=new tf({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[$x](){return this}pipe(...t){return xF(t)(this)}toPromise(t){return new(t=CF(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function CF(n){var e;return null!==(e=n??Lc.Promise)&&void 0!==e?e:Promise}const RZ=Vx(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let vt=(()=>{class n extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new EF(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new RZ}next(t){b_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){b_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){b_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?bF:(this.currentObservers=null,o.push(t),new ai(()=>{this.currentObservers=null,m_(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Qt;return t.source=this,t}}return n.create=(e,t)=>new EF(e,t),n})();class EF extends vt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:bF}}class hr extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function IF(n){return yt(n?.lift)}function En(n){return e=>{if(IF(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function mn(n,e,t,i,r){return new NZ(n,e,t,i,r)}class NZ extends zx{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Fe(n,e){return En((t,i)=>{let r=0;t.subscribe(mn(i,o=>{i.next(n.call(e,o,r++))}))})}const TF="https://g.co/ng/security#xss";class z extends Error{constructor(e,t){super(function mu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Gx(n){return e=>{setTimeout(n,void 0,e)}}const We=class FZ extends vt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Gx(o),r&&(r=Gx(r)),s&&(s=Gx(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof ai&&e.add(a),a}};var at=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(at||{});function ci(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ci).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function qx(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}var w_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(w_||{}),Io=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Io||{});function Vs(n){return{toString:n}.toString()}const At=globalThis,Wo={},Et=[];function Pt(n){for(let e in n)if(n[e]===Pt)return e;throw Error("Could not find renamed property on target object.")}function UZ(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}const nf=Pt({\u0275cmp:Pt}),Wx=Pt({\u0275dir:Pt}),Kx=Pt({\u0275pipe:Pt}),SF=Pt({\u0275mod:Pt}),Bs=Pt({\u0275fac:Pt}),rf=Pt({__NG_ELEMENT_ID__:Pt}),AF=Pt({__NG_ENV_ID__:Pt});var ct=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ct||{});function kF(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Qx(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];PF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function OF(n){return 3===n||4===n||6===n}function PF(n){return 64===n.charCodeAt(0)}function sf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||RF(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function RF(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const NF="ng-template";function zZ(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==kF(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function FF(n){return 4===n.type&&n.value!==NF}function jZ(n,e,t){return e===(4!==n.type||t?n.value:NF)}function HZ(n,e,t){let i=4;const r=n.attrs||[],o=function qZ(n){for(let e=0;e<n.length;e++)if(OF(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!jZ(n,c,t)||""===c&&1===e.length){if(To(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!zZ(n.attrs,l,t)){if(To(i))return!1;s=!0}continue}const d=$Z(8&i?"class":c,r,FF(n),t);if(-1===d){if(To(i))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==kF(f,l,0)||2&i&&l!==h){if(To(i))return!1;s=!0}}}}else{if(!s&&!To(i)&&!To(c))return!1;if(s&&To(c))continue;s=!1,i=c|1&i}}return To(i)||s}function To(n){return!(1&n)}function $Z(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function WZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function LF(n,e,t=!1){for(let i=0;i<e.length;i++)if(HZ(n,e[i],t))return!0;return!1}function KZ(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function VF(n,e){return n?":not("+e.trim()+")":e}function QZ(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!To(s)&&(e+=VF(o,r),r=""),i=s,o=o||!To(i);t++}return""!==r&&(e+=VF(o,r)),e}function Ce(n){return Vs(()=>{const e=UF(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===w_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Io.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""};zF(t);const i=n.dependencies;return t.directiveDefs=x_(i,!1),t.pipeDefs=x_(i,!0),t.id=function tJ(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function ZZ(n){return et(n)||li(n)}function JZ(n){return null!==n}function Je(n){return Vs(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function BF(n,e){if(null==n)return Wo;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=ct.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==ct.None?[i,a]:i,e[o]=s):t[o]=i}return t}function me(n){return Vs(()=>{const e=UF(n);return zF(e),e})}function Ir(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function et(n){return n[nf]||null}function li(n){return n[Wx]||null}function Pi(n){return n[Kx]||null}function Yi(n,e){const t=n[SF]||null;if(!t&&!0===e)throw new Error(`Type ${ci(n)} does not have '\u0275mod' property.`);return t}function UF(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Wo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BF(n.inputs,e),outputs:BF(n.outputs),debugInfo:null}}function zF(n){n.features?.forEach(e=>e(n))}function x_(n,e){if(!n)return null;const t=e?Pi:ZZ;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(JZ)}const _n=0,ie=1,Ie=2,Un=3,Mo=4,Xi=5,Do=6,_u=7,Yt=8,Ri=9,Us=10,Ve=11,af=12,jF=13,bu=14,In=15,cf=16,yu=17,zs=18,lf=19,HF=20,Ta=21,C_=22,Bc=23,ze=25,Yx=1,Ko=7,vu=9,zn=10;var Xx=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Xx||{});function Zi(n){return Array.isArray(n)&&"object"==typeof n[Yx]}function Ji(n){return Array.isArray(n)&&!0===n[Yx]}function Zx(n){return!!(4&n.flags)}function Uc(n){return n.componentOffset>-1}function I_(n){return!(1&~n.flags)}function So(n){return!!n.template}function Jx(n){return!!(512&n[Ie])}let QF=!1;function Ut(n){for(;Array.isArray(n);)n=n[_n];return n}function df(n,e){return Ut(e[n])}function fr(n,e){return Ut(e[n.index])}function hf(n,e){return n.data[e]}function jr(n,e){const t=e[n];return Zi(t)?t:t[_n]}function iC(n){return!(128&~n[Ie])}function Qo(n,e){return null==e?null:n[e]}function YF(n){n[yu]=0}function lJ(n){1024&n[Ie]||(n[Ie]|=1024,iC(n)&&ff(n))}function rC(n){return!!(9216&n[Ie]||n[Bc]?.dirty)}function oC(n){rC(n)?ff(n):64&n[Ie]&&(function oJ(){return QF}()?(n[Ie]|=1024,ff(n)):n[Us].changeDetectionScheduler?.notify())}function ff(n){n[Us].changeDetectionScheduler?.notify();let e=zc(n);for(;null!==e&&!(8192&e[Ie])&&(e[Ie]|=8192,iC(e));)e=zc(e)}function T_(n,e){if(!(256&~n[Ie]))throw new z(911,!1);null===n[Ta]&&(n[Ta]=[]),n[Ta].push(e)}function zc(n){const e=n[Un];return Ji(e)?e[Un]:e}const Re={lFrame:sL(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JF(){return Re.bindingsEnabled}function xu(){return null!==Re.skipHydrationRootTNode}function q(){return Re.lFrame.lView}function lt(){return Re.lFrame.tView}function Ae(n){return Re.lFrame.contextLView=n,n[Yt]}function ke(n){return Re.lFrame.contextLView=null,n}function Rt(){let n=eL();for(;null!==n&&64===n.type;)n=n.parent;return n}function eL(){return Re.lFrame.currentTNode}function Yo(n,e){const t=Re.lFrame;t.currentTNode=n,t.isParent=e}function aC(){return Re.lFrame.isParent}function cC(){Re.lFrame.isParent=!1}function Ao(){return Re.lFrame.bindingIndex++}function Hs(n){const e=Re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function vJ(n,e){const t=Re.lFrame;t.bindingIndex=t.bindingRootIndex=n,lC(e)}function lC(n){Re.lFrame.currentDirectiveIndex=n}function uC(n){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function dC(){return Re.lFrame.currentQueryIndex}function M_(n){Re.lFrame.currentQueryIndex=n}function xJ(n){const e=n[ie];return 2===e.type?e.declTNode:1===e.type?n[Xi]:null}function rL(n,e,t){if(t&at.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&at.Host||(r=xJ(o),null===r||(o=o[bu],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Re.lFrame=oL();return i.currentTNode=e,i.lView=n,!0}function hC(n){const e=oL(),t=n[ie];Re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function oL(){const n=Re.lFrame,e=null===n?null:n.child;return null===e?sL(n):e}function sL(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function aL(){const n=Re.lFrame;return Re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const cL=aL;function fC(){const n=aL();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function er(){return Re.lFrame.selectedIndex}function jc(n){Re.lFrame.selectedIndex=n}function Xt(){const n=Re.lFrame;return hf(n.tView,n.selectedIndex)}function D_(){Re.lFrame.currentNamespace="svg"}function pC(){!function IJ(){Re.lFrame.currentNamespace=null}()}let uL=!0;function S_(){return uL}function Ma(n){uL=n}function TJ(){return Cu(Rt(),q())}function Cu(n,e){return new cn(fr(n,e))}let _C,cn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=TJ}}return n})();function dL(n){return n instanceof cn?n.nativeElement:n}function Eu(n,e){n.forEach(t=>Array.isArray(t)?Eu(t,e):e(t))}function hL(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function A_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Hr(n,e,t){let i=Iu(n,e);return i>=0?n[1|i]=t:(i=~i,function fL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function mC(n,e){const t=Iu(n,e);if(t>=0)return n[1|t]}function Iu(n,e){return function pL(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}function DJ(){return this._results[Symbol.iterator]()}class gf{get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=gf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=DJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function Tr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function MJ(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function O_(n){return!(128&~n.flags)}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function R_(n){return _L(n,F_)||_L(n,bL)}function _L(n,e){return n.hasOwnProperty(e)?n[e]:null}function N_(n){return n&&(n.hasOwnProperty(bC)||n.hasOwnProperty(PJ))?n[bC]:null}const F_=Pt({\u0275prov:Pt}),bC=Pt({\u0275inj:Pt}),bL=Pt({ngInjectableDef:Pt}),PJ=Pt({ngInjectorDef:Pt});class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const L_=new X("",{providedIn:"root",factory:()=>RJ}),RJ="ng",yL=new X(""),so=new X("",{providedIn:"platform",factory:()=>"unknown"}),Hc=new X(""),yC=new X("",{providedIn:"root",factory:()=>function Da(){if(void 0!==_C)return _C;if(typeof document<"u")return document;throw new z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),LJ=Pt({__forward_ref__:Pt});function Zt(n){return n.__forward_ref__=Zt,n.toString=function(){return ci(this())},n}function Pe(n){return V_(n)?n():n}function V_(n){return"function"==typeof n&&n.hasOwnProperty(LJ)&&n.__forward_ref__===Zt}function EC(n){return n&&!!n.\u0275providers}function je(n){return"string"==typeof n?n:null==n?"":String(n)}function IC(n,e){throw new z(-201,!1)}let TC;function wL(){return TC}function Mr(n){const e=TC;return TC=n,e}function xL(n,e,t){const i=R_(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&at.Optional?null:void 0!==e?e:void IC()}const _f={},MC="__NG_DI_FLAG__",B_="ngTempTokenPath",HJ=/\n/gm,CL="__source";let Tu;function Sa(n){const e=Tu;return Tu=n,e}function qJ(n,e=at.Default){if(void 0===Tu)throw new z(-203,!1);return null===Tu?xL(n,void 0,e):Tu.get(n,e&at.Optional?null:void 0,e)}function H(n,e=at.Default){return(wL()||qJ)(Pe(n),e)}function J(n,e=at.Default){return H(n,U_(e))}function U_(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function DC(n){const e=[];for(let t=0;t<n.length;t++){const i=Pe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new z(900,!1);let r,o=at.Default;for(let s=0;s<i.length;s++){const a=i[s],c=WJ(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(H(r,o))}else e.push(H(i))}return e}function bf(n,e){return n[MC]=e,n.prototype[MC]=e,n}function WJ(n){return n[MC]}let IL=()=>null;function FC(n,e,t=!1){return IL(n,e,t)}const ku="__parameters__";function Pu(n,e,t){return Vs(()=>{const i=function UC(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(ku)?c[ku]:Object.defineProperty(c,ku,{value:[]})[ku];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const Jt=bf(Pu("Optional"),8),xf=bf(Pu("SkipSelf"),4);function $c(n,e){return n.hasOwnProperty(Bs)?n[Bs]:null}const Gc=new X(""),kL=new X("",-1),zC=new X("");class q_{get(e,t=_f){if(t===_f){const i=new Error(`NullInjectorError: No provider for ${ci(e)}!`);throw i.name="NullInjectorError",i}return t}}function aee(...n){return{\u0275providers:jC(0,n),\u0275fromNgModule:!0}}function jC(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Eu(e,s=>{const a=s;K_(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&OL(r,o),t}function OL(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];HC(r,o=>{e(o,i)})}}function K_(n,e,t,i){if(!(n=Pe(n)))return!1;let r=null,o=N_(n);const s=!o&&et(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=N_(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)K_(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Eu(o.imports,u=>{K_(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&OL(l,e)}if(!a){const l=$c(r)||(()=>new r);e({provide:r,useFactory:l,deps:Et},r),e({provide:zC,useValue:r,multi:!0},r),e({provide:Gc,useValue:()=>H(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;HC(c,u=>{e(u,l)})}}}return r!==n&&void 0!==n.providers}function HC(n,e){for(let t of n)EC(t)&&(t=t.\u0275providers),Array.isArray(t)?HC(t,e):e(t)}const cee=Pt({provide:String,useValue:Pt});function $C(n){return null!==n&&"object"==typeof n&&cee in n}function qc(n){return"function"==typeof n}const GC=new X(""),Q_={},uee={};let qC;function Y_(){return void 0===qC&&(qC=new q_),qC}class $r{}class Ru extends $r{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,KC(e,s=>this.processProvider(s)),this.records.set(kL,Nu(void 0,this)),r.has("environment")&&this.records.set($r,Nu(void 0,this));const o=this.records.get(GC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zC,Et,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Sa(this),i=Mr(void 0);try{return e()}finally{Sa(t),Mr(i)}}get(e,t=_f,i=at.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AF))return e[AF](this);i=U_(i);const o=Sa(this),s=Mr(void 0);try{if(!(i&at.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function gee(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&R_(e);c=l&&this.injectableDefInScope(l)?Nu(WC(e),Q_):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&at.Self?Y_():this.parent).get(e,t=i&at.Optional&&t===_f?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[B_]=a[B_]||[]).unshift(ci(e)),o)throw a;return function KJ(n,e,t,i){const r=n[B_];throw e[CL]&&r.unshift(e[CL]),n.message=function QJ(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=ci(e);if(Array.isArray(e))r=e.map(ci).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ci(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(HJ,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[B_]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Mr(s),Sa(o)}}resolveInjectorInitializers(){const e=Sa(this),t=Mr(void 0);try{const r=this.get(Gc,Et,at.Self);for(const o of r)o()}finally{Sa(e),Mr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(ci(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){let t=qc(e=Pe(e))?e:Pe(e&&e.provide);const i=function hee(n){return $C(n)?Nu(void 0,n.useValue):Nu(NL(n),Q_)}(e);if(!qc(e)&&!0===e.multi){let r=this.records.get(t);r||(r=Nu(void 0,Q_,!0),r.factory=()=>DC(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Q_&&(t.value=uee,t.value=t.factory()),"object"==typeof t.value&&t.value&&function pee(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Pe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function WC(n){const e=R_(n),t=null!==e?e.factory:$c(n);if(null!==t)return t;if(n instanceof X)throw new z(204,!1);if(n instanceof Function)return function dee(n){if(n.length>0)throw new z(204,!1);const t=function OJ(n){return n&&(n[F_]||n[bL])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new z(204,!1)}function NL(n,e,t){let i;if(qc(n)){const r=Pe(n);return $c(r)||WC(r)}if($C(n))i=()=>Pe(n.useValue);else if(function RL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...DC(n.deps||[]));else if(function PL(n){return!(!n||!n.useExisting)}(n))i=()=>H(Pe(n.useExisting));else{const r=Pe(n&&(n.useClass||n.provide));if(!function fee(n){return!!n.deps}(n))return $c(r)||WC(r);i=()=>new r(...DC(n.deps))}return i}function Nu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function KC(n,e){for(const t of n)Array.isArray(t)?KC(t,e):t&&EC(t)?KC(t.\u0275providers,e):e(t)}function Wc(n,e){n instanceof Ru&&n.assertNotDestroyed();const i=Sa(n),r=Mr(void 0);try{return e()}finally{Sa(i),Mr(r)}}class Iee{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function LL(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function ao(){return VL}function VL(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mee),Tee}function Tee(){const n=UL(this),e=n?.current;if(e){const t=n.previous;if(t===Wo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Mee(n,e,t,i,r){const o=this.declaredInputs[i],s=UL(n)||function Dee(n,e){return n[BL]=e}(n,{previous:Wo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Iee(l&&l.currentValue,t,c===Wo),LL(n,e,r,t)}ao.ngInherit=!0;const BL="__ngSimpleChanges__";function UL(n){return n[BL]||null}const Xo=function(n,e,t){};function J_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function eb(n,e,t){zL(n,e,3,t)}function tb(n,e,t,i){(3&n[Ie])===t&&zL(n,e,t,i)}function XC(n,e){let t=n[Ie];(3&t)===e&&(t&=16383,t+=1,n[Ie]=t)}function zL(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[yu]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[yu]+=65536),(a<o||-1==o)&&(kee(n,t,e,c),n[yu]=(4294901760&n[yu])+c+2),c++}function jL(n,e){Xo(4,n,e);const t=U(null);try{e.call(n)}finally{U(t),Xo(5,n,e)}}function kee(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ie]>>14<n[yu]>>16&&(3&n[Ie])===e&&(n[Ie]+=16384,jL(a,o)):jL(a,o)}const Lu=-1;class Ef{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function JC(n){return n!==Lu}function If(n){return 32767&n}function Tf(n,e){let t=function Fee(n){return n>>16}(n),i=e;for(;t>0;)i=i[bu],t--;return i}let eE=!0;function nb(n){const e=eE;return eE=n,e}const HL=255,$L=5;let Lee=0;const Zo={};function ib(n,e){const t=GL(n,e);if(-1!==t)return t;const i=e[ie];i.firstCreatePass&&(n.injectorIndex=e.length,tE(i.data,n),tE(e,null),tE(i.blueprint,null));const r=rb(n,e),o=n.injectorIndex;if(JC(r)){const s=If(r),a=Tf(r,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function tE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function GL(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function rb(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=ZL(r),null===i)return Lu;if(t++,r=r[bu],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Lu}function nE(n,e,t){!function Vee(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(rf)&&(i=t[rf]),null==i&&(i=t[rf]=Lee++);const r=i&HL;e.data[n+(r>>$L)]|=1<<r}(n,e,t)}function qL(n,e,t){if(t&at.Optional||void 0!==n)return n;IC()}function WL(n,e,t,i){if(t&at.Optional&&void 0===i&&(i=null),!(t&(at.Self|at.Host))){const r=n[Ri],o=Mr(void 0);try{return r?r.get(e,i,t&at.Optional):xL(e,i,t&at.Optional)}finally{Mr(o)}}return qL(i,0,t)}function KL(n,e,t,i=at.Default,r){if(null!==n){if(2048&e[Ie]&&!(i&at.Self)){const s=function Hee(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ie]&&!(512&s[Ie]);){const a=QL(o,s,t,i|at.Self,Zo);if(a!==Zo)return a;let c=o.parent;if(!c){const l=s[HF];if(l){const u=l.get(t,Zo,i);if(u!==Zo)return u}c=ZL(s),s=s[bu]}o=c}return r}(n,e,t,i,Zo);if(s!==Zo)return s}const o=QL(n,e,t,i,Zo);if(o!==Zo)return o}return WL(e,t,i,r)}function QL(n,e,t,i,r){const o=function zee(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(rf)?n[rf]:void 0;return"number"==typeof e?e>=0?e&HL:jee:e}(t);if("function"==typeof o){if(!rL(e,n,i))return i&at.Host?qL(r,0,i):WL(e,t,i,r);try{let s;if(s=o(i),null!=s||i&at.Optional)return s;IC()}finally{cL()}}else if("number"==typeof o){let s=null,a=GL(n,e),c=Lu,l=i&at.Host?e[In][Xi]:null;for((-1===a||i&at.SkipSelf)&&(c=-1===a?rb(n,e):e[a+8],c!==Lu&&XL(i,!1)?(s=e[ie],a=If(c),e=Tf(c,e)):a=-1);-1!==a;){const u=e[ie];if(YL(o,a,u.data)){const d=Uee(a,e,t,s,i,l);if(d!==Zo)return d}c=e[a+8],c!==Lu&&XL(i,e[ie].data[a+8]===l)&&YL(o,a,e)?(s=u,a=If(c),e=Tf(c,e)):a=-1}}return r}function Uee(n,e,t,i,r,o){const s=e[ie],a=s.data[n+8],u=ob(a,s,t,null==i?Uc(a)&&eE:i!=s&&!!(3&a.type),r&at.Host&&o===a);return null!==u?Kc(e,s,u,a):Zo}function ob(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const y=s[f];if(f<c&&t===y||f>=c&&y.type===t)return f}if(r){const f=s[c];if(f&&So(f)&&f.type===t)return c}return null}function Kc(n,e,t,i){let r=n[t];const o=e.data;if(function Oee(n){return n instanceof Ef}(r)){const s=r;s.resolving&&function UJ(n,e){throw e&&e.join(" > "),new z(-200,n)}(function Mt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():je(n)}(o[t]));const a=nb(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Mr(s.injectImpl):null;rL(n,i,at.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Aee(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=VL(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Mr(l),nb(a),s.resolving=!1,cL()}}return r}function YL(n,e,t){return!!(t[e+(n>>$L)]&1<<n)}function XL(n,e){return!(n&at.Self||n&at.Host&&e)}class di{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return KL(this._tNode,this._lView,e,U_(i),t)}}function jee(){return new di(Rt(),q())}function bi(n){return Vs(()=>{const e=n.prototype.constructor,t=e[Bs]||iE(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Bs]||iE(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function iE(n){return V_(n)?()=>{const e=iE(Pe(n));return e&&e()}:$c(n)}function ZL(n){const e=n[ie],t=e.type;return 2===t?e.declTNode:1===t?n[Xi]:null}function r3(n,e=null,t=null,i){const r=o3(n,e,t,i);return r.resolveInjectorInitializers(),r}function o3(n,e=null,t=null,i,r=new Set){const o=[t||Et,aee(n)];return i=i||("object"==typeof n?void 0:ci(n)),new Ru(o,e||Y_(),i||null,r)}let Ht=(()=>{class n{static{this.THROW_IF_NOT_FOUND=_f}static{this.NULL=new q_}static create(t,i){if(Array.isArray(t))return r3({name:""},i,t,"");{const r=t.name??"";return r3({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>H(kL)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function oE(n){return n.ngOriginalError}class ko{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&oE(e);for(;t&&oE(t);)t=oE(t);return t||null}}const a3=new X("",{providedIn:"root",factory:()=>J(ko).handleError.bind(void 0)}),l3=new X("",{providedIn:"root",factory:()=>!1});class Qc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TF})`}}function Gr(n){return n instanceof Qc?n.changingThisBreaksApplicationSecurity:n}const fte=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ni=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ni||{});function dE(n){const e=function Df(){const n=q();return n&&n[Us].sanitizer}();return e?e.sanitize(Ni.URL,n)||"":function Jo(n,e){const t=function rte(n){return n instanceof Qc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${TF})`)}return t===e}(n,"URL")?Gr(n):function db(n){return(n=String(n)).match(fte)?n:"unsafe:"+n}(je(n))}const hE=new Map;let Ote=0;const pE="__ngContext__";function tr(n,e){Zi(e)?(n[pE]=e[lf],function Rte(n){hE.set(n[lf],n)}(e)):n[pE]=e}function qr(n){return n instanceof Function?n():n}var ka=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ka||{});let bE;function yE(n,e){return bE(n,e)}function ju(n,e,t,i,r){if(null!=i){let o,s=!1;Ji(i)?o=i:Zi(i)&&(s=!0,i=i[_n]);const a=Ut(i);0===n&&null!==t?null==r?U3(e,t,a):Yc(e,t,a,r||null,!0):1===n&&null!==t?Yc(e,t,a,r||null,!0):2===n?function vb(n,e,t){const i=bb(n,e);i&&function nne(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function one(n,e,t,i,r){const o=t[Ko];o!==Ut(t)&&ju(e,n,i,o,r);for(let a=zn;a<t.length;a++){const c=t[a];wb(c[ie],c,n,e,i,o)}}(e,n,o,t,r)}}function mb(n,e,t){return n.createElement(e,t)}function L3(n,e){wb(n,e,e[Ve],2,null,null)}function V3(n,e){const t=n[vu],i=t.indexOf(e);t.splice(i,1)}function Af(n,e){if(n.length<=zn)return;const t=zn+e,i=n[t];if(i){const r=i[cf];null!==r&&r!==n&&V3(r,i),e>0&&(n[t-1][Mo]=i[Mo]);const o=A_(n,zn+e);!function Qte(n,e){L3(n,e),e[_n]=null,e[Xi]=null}(i[ie],i);const s=o[zs];null!==s&&s.detachView(o[ie]),i[Un]=null,i[Mo]=null,i[Ie]&=-129}return i}function _b(n,e){if(!(256&e[Ie])){const t=e[Ve];t.destroyNode&&wb(n,e,t,3,null,null),function Xte(n){let e=n[af];if(!e)return wE(n[ie],n);for(;e;){let t=null;if(Zi(e))t=e[af];else{const i=e[zn];i&&(t=i)}if(!t){for(;e&&!e[Mo]&&e!==n;)Zi(e)&&wE(e[ie],e),e=e[Un];null===e&&(e=n),Zi(e)&&wE(e[ie],e),t=e&&e[Mo]}e=t}}(e)}}function wE(n,e){if(!(256&e[Ie])){e[Ie]&=-129,e[Ie]|=256,e[Bc]&&function Eo(n){if(Qe(n),Ls(n))for(let e=0;e<n.producerNode.length;e++)Fc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[Bc]),function tne(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Ef)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Xo(4,a,c);try{c.call(a)}finally{Xo(5,a,c)}}else{Xo(4,r,o);try{o.call(r)}finally{Xo(5,r,o)}}}}}(n,e),function ene(n,e){const t=n.cleanup,i=e[_u];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[_u]=null);const r=e[Ta];if(null!==r){e[Ta]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ie].type&&e[Ve].destroy();const t=e[cf];if(null!==t&&Ji(e[Un])){t!==e[Un]&&V3(t,e);const i=e[zs];null!==i&&i.detachView(n)}!function Nte(n){hE.delete(n[lf])}(e)}}function xE(n,e,t){return function B3(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[_n];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Io.None||o===Io.Emulated)return null}return fr(i,t)}}(n,e.parent,t)}function Yc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function U3(n,e,t){n.appendChild(e,t)}function z3(n,e,t,i,r){null!==i?Yc(n,e,t,i,r):U3(n,e,t)}function bb(n,e){return n.parentNode(e)}function j3(n,e,t){return $3(n,e,t)}let CE,$3=function H3(n,e,t){return 40&n.type?fr(n,t):null};function yb(n,e,t,i){const r=xE(n,i,e),o=e[Ve],a=j3(i.parent||e[Xi],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)z3(o,r,t[c],a,!1);else z3(o,r,t,a,!1);void 0!==CE&&CE(o,i,e,t,r)}function kf(n,e){if(null!==e){const t=e.type;if(3&t)return fr(e,n);if(4&t)return EE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return kf(n,i);{const r=n[e.index];return Ji(r)?EE(-1,r):Ut(r)}}if(32&t)return yE(e,n)()||Ut(n[e.index]);{const i=q3(n,e);return null!==i?Array.isArray(i)?i[0]:kf(zc(n[In]),i):kf(n,e.next)}}return null}function q3(n,e){return null!==e?n[In][Xi].projection[e.projection]:null}function EE(n,e){const t=zn+n+1;if(t<e.length){const i=e[t],r=i[ie].firstChild;if(null!==r)return kf(i,r)}return e[Ko]}function IE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&tr(Ut(a),i),t.flags|=2),32&~t.flags)if(8&c)IE(n,e,t.child,i,r,o,!1),ju(e,n,r,a,o);else if(32&c){const l=yE(t,i);let u;for(;u=l();)ju(e,n,r,u,o);ju(e,n,r,a,o)}else 16&c?K3(n,e,i,t,r,o):ju(e,n,r,a,o);t=s?t.projectionNext:t.next}}function wb(n,e,t,i,r,o){IE(t,i,n.firstChild,e,r,o,!1)}function K3(n,e,t,i,r,o){const s=t[In],c=s[Xi].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ju(e,n,r,c[l],o);else{let l=c;const u=s[Un];O_(i)&&(l.flags|=128),IE(n,e,l,u,r,o,!0)}}function Q3(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Y3(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Qx(n,e,i),null!==r&&Q3(n,e,r),null!==o&&function ane(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const Ge={};function L(n=1){X3(lt(),q(),er()+n,!1)}function X3(n,e,t,i){if(!i)if(3&~e[Ie]){const o=n.preOrderHooks;null!==o&&tb(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&eb(e,o,t)}jc(t)}function E(n,e=at.Default){const t=q();return null===t?H(n,e):KL(Rt(),t,Pe(n),e)}function TE(){throw new Error("invalid")}function Z3(n,e,t,i,r,o){const s=U(null);try{let a=null;r&ct.SignalBased&&(a=e[i][P]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&ct.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):LL(e,a,i,o)}finally{U(s)}}function xb(n,e,t,i,r,o,s,a,c,l,u){const d=e.blueprint.slice();return d[_n]=r,d[Ie]=204|i,(null!==l||n&&2048&n[Ie])&&(d[Ie]|=2048),YF(d),d[Un]=d[bu]=n,d[Yt]=t,d[Us]=s||n&&n[Us],d[Ve]=a||n&&n[Ve],d[Ri]=c||n&&n[Ri]||null,d[Xi]=o,d[lf]=function Pte(){return Ote++}(),d[Do]=u,d[HF]=l,d[In]=2==e.type?n[In]:d,d}function Hu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function ME(n,e,t,i,r){const o=eL(),s=aC(),c=n.data[e]=function gne(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return xu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function yJ(){return Re.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function pf(){const n=Re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Yo(o,!0),o}function Of(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function J3(n,e,t,i,r){const o=er(),s=2&i;try{jc(-1),s&&e.length>ze&&X3(n,e,ze,!1),Xo(s?2:0,r),t(i,r)}finally{jc(o),Xo(s?3:1,r)}}function DE(n,e,t){if(Zx(e)){const i=U(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{U(i)}}}function SE(n,e,t){JF()&&(function xne(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Uc(t)&&function Sne(n,e,t){const i=fr(e,n),r=e4(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Cb(n,xb(n,r,null,s,i,e,null,n[Us].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ib(t,e),tr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=Kc(e,n,a,t);tr(l,e),null!==s&&Ane(0,a-r,l,c,0,s),So(c)&&(jr(t.index,e)[Yt]=Kc(e,n,a,t))}}(n,e,t,fr(t,e)),!(64&~t.flags)&&s4(n,e,t))}function AE(n,e,t=fr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function e4(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=kE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function kE(n,e,t,i,r,o,s,a,c,l,u){const d=ze+i,h=d+r,f=function lne(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ge);return t}(d,h),y="function"==typeof l?l():l;return f[ie]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}let t4=()=>null;function n4(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,c=ct.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?r4(i,t,l,a,c):r4(i,t,l,a)}return i}function r4(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function Sr(n,e,t,i,r,o,s,a){const c=fr(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(FE(n,t,u,i,r),Uc(e)&&function bne(n,e){const t=jr(e,n);16&t[Ie]||(t[Ie]|=64)}(t,e.index)):3&e.type&&(i=function _ne(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function OE(n,e,t,i){if(JF()){const r=null===i?null:{"":-1},o=function Ene(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(LF(e,s.selectors,!1))if(i||(i=[]),So(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),PE(n,e,a.length)}else i.unshift(s),PE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&o4(n,e,t,s,r,a),r&&function Ine(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new z(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=sf(t.mergedAttrs,t.attrs)}function o4(n,e,t,i,r,o){for(let l=0;l<i.length;l++)nE(ib(t,e),n,i[l].type);!function Mne(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Of(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=sf(t.mergedAttrs,u.hostAttrs),Dne(n,t,e,c,u),Tne(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function mne(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,y=h?h.outputs:null;c=n4(0,d.inputs,u,c,h?h.inputs:null),l=n4(1,d.outputs,u,l,y);const C=null===c||null===s||FF(e)?null:kne(c,u,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function s4(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function wJ(){return Re.lFrame.currentDirectiveIndex}();try{jc(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];lC(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Cne(c,l)}}finally{jc(-1),lC(s)}}function Cne(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function PE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Tne(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;So(e)&&(t[""]=n)}}function Dne(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=$c(r.type)),s=new Ef(o,So(r),E);n.blueprint[i]=s,t[i]=s,function vne(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function wne(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Of(n,t,r.hostVars,Ge),r)}function es(n,e,t,i,r,o){const s=fr(n,e);!function RE(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?je(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ve],s,o,n.value,t,i,r)}function Ane(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)Z3(i,t,s[a++],s[a++],s[a++],s[a++])}function kne(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function a4(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function c4(n,e){const t=n.contentQueries;if(null!==t){const i=U(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];M_(t[r]),a.contentQueries(2,e[s],s)}}}finally{U(i)}}}function Cb(n,e){return n[af]?n[jF][Mo]=e:n[af]=e,n[jF]=e,e}function NE(n,e,t){M_(0);const i=U(null);try{e(n,t)}finally{U(i)}}function l4(n){return n[_u]||(n[_u]=[])}function u4(n){return n.cleanup||(n.cleanup=[])}function d4(n,e,t){return(null===n||So(n))&&(t=function nC(n){for(;Array.isArray(n);){if("object"==typeof n[Yx])return n;n=n[_n]}return null}(t[e.index])),t[Ve]}function Eb(n,e){const t=n[Ri],i=t?t.get(ko,null):null;i&&i.handleError(e)}function FE(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];Z3(n.data[s],e[s],i,a,c,r)}}function One(n,e){const t=jr(e,n),i=t[ie];!function Pne(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[_n];null!==r&&null===t[Do]&&(t[Do]=FC(r,t[Ri])),LE(i,t,t[Yt])}function LE(n,e,t){hC(e);try{const i=n.viewQuery;null!==i&&NE(1,i,t);const r=n.template;null!==r&&J3(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zs]?.finishViewCreation(n),n.staticContentQueries&&c4(n,e),n.staticViewQueries&&NE(2,n.viewQuery,t);const o=n.components;null!==o&&function Rne(n,e){for(let t=0;t<e.length;t++)One(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ie]&=-5,fC()}}function $u(n,e){return!e||null===e.firstChild||O_(n)}function Rf(n,e,t,i=!0){const r=e[ie];if(function Zte(n,e,t,i){const r=zn+i,o=t.length;i>0&&(t[r-1][Mo]=e),i<o-zn?(e[Mo]=t[r],hL(t,zn+i,e)):(t.push(e),e[Mo]=null),e[Un]=t;const s=e[cf];null!==s&&t!==s&&function Jte(n,e){const t=n[vu];e[In]!==e[Un][Un][In]&&(n[Ie]|=Xx.HasTransplantedViews),null===t?n[vu]=[e]:t.push(e)}(s,e);const a=e[zs];null!==a&&a.insertView(n),oC(e),e[Ie]|=128}(r,e,n,t),i){const s=EE(t,n),a=e[Ve],c=bb(a,n[Ko]);null!==c&&function Yte(n,e,t,i,r,o){i[_n]=r,i[Xi]=e,wb(n,i,t,1,r,o)}(r,n[Xi],a,e,c,s)}const o=e[Do];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Nf(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Ut(o)),Ji(o)&&f4(o,i);const s=t.type;if(8&s)Nf(n,e,t.child,i);else if(32&s){const a=yE(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=q3(e,t);if(Array.isArray(a))i.push(...a);else{const c=zc(e[In]);Nf(c[ie],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function f4(n,e){for(let t=zn;t<n.length;t++){const i=n[t],r=i[ie].firstChild;null!==r&&Nf(i[ie],i,r,e)}n[Ko]!==n[_n]&&e.push(n[Ko])}let p4=[];const Vne={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ff(n.lView)},consumerOnSignalRead(){this.lView[Bc]=this}};function g4(n){return _4(n[af])}function m4(n){return _4(n[Mo])}function _4(n){for(;null!==n&&!Ji(n);)n=n[Mo];return n}function Ib(n,e=!0,t=0){const i=n[Us],r=i.rendererFactory;r.begin?.();try{!function zne(n,e){BE(n,e);let t=0;for(;rC(n);){if(100===t)throw new z(103,!1);t++,BE(n,1)}}(n,t)}catch(s){throw e&&Eb(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function jne(n,e,t,i){const r=e[Ie];if(!(256&~r))return;e[Us].inlineEffectRunner?.flush(),hC(e);let s=null,a=null;(function Hne(n){return 2!==n.type})(n)&&(a=function Nne(n){return n[Bc]??function Fne(n){const e=p4.pop()??Object.create(Vne);return e.lView=n,e}(n)}(e),s=function fe(n){return n&&(n.nextProducerIndex=0),U(n)}(a));try{YF(e),function nL(n){return Re.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&J3(n,e,t,2,i);const c=!(3&~r);if(c){const d=n.preOrderCheckHooks;null!==d&&eb(e,d,null)}else{const d=n.preOrderHooks;null!==d&&tb(e,d,0,null),XC(e,0)}if(function $ne(n){for(let e=g4(n);null!==e;e=m4(e)){if(!(e[Ie]&Xx.HasTransplantedViews))continue;const t=e[vu];for(let i=0;i<t.length;i++){lJ(t[i])}}}(e),y4(e,0),null!==n.contentQueries&&c4(n,e),c){const d=n.contentCheckHooks;null!==d&&eb(e,d)}else{const d=n.contentHooks;null!==d&&tb(e,d,1),XC(e,1)}!function cne(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)jc(~r);else{const o=r,s=t[++i],a=t[++i];vJ(s,o),a(2,e[o])}}}finally{jc(-1)}}(n,e);const l=n.components;null!==l&&w4(e,l,0);const u=n.viewQuery;if(null!==u&&NE(2,u,i),c){const d=n.viewCheckHooks;null!==d&&eb(e,d)}else{const d=n.viewHooks;null!==d&&tb(e,d,2),XC(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[C_]){for(const d of e[C_])d();e[C_]=null}e[Ie]&=-73}catch(c){throw ff(e),c}finally{null!==a&&(function Wt(n,e){if(U(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ls(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Fc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function Lne(n){n.lView[Bc]!==n&&(n.lView=null,p4.push(n))}(a)),fC()}}function y4(n,e){for(let t=g4(n);null!==t;t=m4(t))for(let i=zn;i<t.length;i++)v4(t[i],e)}function Gne(n,e,t){v4(jr(e,n),t)}function v4(n,e){iC(n)&&BE(n,e)}function BE(n,e){const i=n[ie],r=n[Ie],o=n[Bc];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!dr(o)),o&&(o.dirty=!1),n[Ie]&=-9217,s)jne(i,n,i.template,n[Yt]);else if(8192&r){y4(n,1);const a=i.components;null!==a&&w4(n,a,1)}}function w4(n,e,t){for(let i=0;i<e.length;i++)Gne(n,e[i],t)}function Ff(n){for(n[Us].changeDetectionScheduler?.notify();n;){n[Ie]|=64;const e=zc(n);if(Jx(n)&&!e)return n;n=e}return null}class Lf{get rootNodes(){const e=this._lView,t=e[ie];return Nf(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yt]}set context(e){this._lView[Yt]=e}get destroyed(){return!(256&~this._lView[Ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Un];if(Ji(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Af(e,i),A_(t,i))}this._attachedToViewContainer=!1}_b(this._lView[ie],this._lView)}onDestroy(e){T_(this._lView,e)}markForCheck(){Ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ie]&=-129}reattach(){oC(this._lView),this._lView[Ie]|=128}detectChanges(){this._lView[Ie]|=1024,Ib(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,L3(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e,oC(this._lView)}}let ts=(()=>{class n{static{this.__NG_ELEMENT_ID__=Kne}}return n})();const qne=ts,Wne=class extends qne{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Pf(n,e,t,i){const r=e.tView,a=xb(n,r,t,4096&n[Ie]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[cf]=n[e.index];const l=n[zs];return null!==l&&(a[zs]=l.createEmbeddedView(r)),LE(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new Lf(r)}};function Kne(){return Tb(Rt(),q())}function Tb(n,e){return 4&n.type?new Wne(e,n,Cu(n,e)):null}class GE{}class mie{}class D4{}class bie{resolveComponentFactory(e){throw function _ie(n){const e=Error(`No component factory found for ${ci(n)}.`);return e.ngComponent=n,e}(e)}}let qu=(()=>{class n{static{this.NULL=new bie}}return n})();class qE{}let Oo=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function yie(){const n=q(),t=jr(Rt().index,n);return(Zi(t)?t:n)[Ve]}()}}return n})(),vie=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}}return n})();const WE={};const k4=new Set;function ns(n){k4.has(n)||(k4.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function O4(n){return function A4(n){return"function"==typeof n&&void 0!==n[P]}(n)&&"function"==typeof n.set}function kb(n){return!!function KE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class R4{constructor(){}supports(e){return kb(e)}create(e){return new Tie(e)}}const Iie=(n,e)=>e;class Tie{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Iie}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<F4(i,r,o)?t:i,a=F4(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,y=f+h;u<=y&&y<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!kb(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function Eie(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Mie(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new N4),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new N4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Mie{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Die{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class N4{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Die,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function F4(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function V4(){return new QE([new R4])}let QE=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:V4})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||V4()),deps:[[n,new xf,new Jt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new z(901,!1)}}return n})(),Wu=(()=>{class n{static{this.__NG_ELEMENT_ID__=Oie}}return n})();function Oie(n){return function Pie(n,e,t){if(Uc(n)&&!t){const i=jr(n.index,e);return new Lf(i,i)}return 47&n.type?new Lf(e[In],e):null}(Rt(),q(),!(16&~n))}let Pb=(()=>{class n{static{this.__NG_ELEMENT_ID__=Lie}static{this.__NG_ENV_ID__=t=>t}}return n})();class Fie extends Pb{constructor(e){super(),this._lView=e}onDestroy(e){return T_(this._lView,e),()=>function sC(n,e){if(null===n[Ta])return;const t=n[Ta].indexOf(e);-1!==t&&n[Ta].splice(t,1)}(this._lView,e)}}function Lie(){return new Fie(q())}function U4(...n){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Hie(){const n="function"==typeof At.requestAnimationFrame;let e=At[n?"requestAnimationFrame":"setTimeout"],t=At[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function qie(n){const e=()=>{!function Gie(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(At,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,XE(n),n.isCheckStableRunning=!0,YE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),XE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function Wie(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return z4(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),j4(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return z4(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),j4(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,XE(n),YE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new z(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,$ie,U4,U4);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const $ie={};function YE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function XE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function z4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function j4(n){n._nesting--,YE(n)}class H4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var Xc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xc||{});const $4={destroy(){}};function G4(n,e){!e&&function X_(n){if(!wL()&&!function GJ(){return Tu}())throw new z(-203,!1)}();const t=e?.injector??J(Ht);if(!function Aa(n){return"browser"===(n??J(Ht)).get(so)}(t))return $4;ns("NgAfterNextRender");const i=t.get(jf),r=i.handler??=new W4,o=e?.phase??Xc.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Pb).onDestroy(s),c=new q4(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class q4{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Me),this.errorHandler=e.get(ko,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class W4{constructor(){this.executingCallbacks=!1,this.buckets={[Xc.EarlyRead]:new Set,[Xc.Write]:new Set,[Xc.MixedReadWrite]:new Set,[Xc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let jf=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Nb(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=qx(r,a):2==o&&(i=qx(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class Y4 extends qu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=et(e);return new Gf(t,this.ngModule)}}function X4(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class Jie{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=U_(i);const r=this.injector.get(e,WE,i);return r!==WE||t===WE?r:this.parentInjector.get(e,t,i)}}class Gf extends D4{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=X4(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return X4(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function YZ(n){return n.map(QZ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof $r?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Jie(e,o):e,a=s.get(qE,null);if(null===a)throw new z(407,!1);const d={rendererFactory:a,sanitizer:s.get(vie,null),inlineEffectRunner:null,afterRenderEventManager:s.get(jf,null),changeDetectionScheduler:s.get(GE,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",y=i?function une(n,e,t,i){const o=i.get(l3,!1)||t===Io.ShadowDom,s=n.selectRootElement(e,o);return function dne(n){t4(n)}(s),s}(h,i,this.componentDef.encapsulation,s):mb(h,f,function Zie(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f));let C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let I=null;null!==y&&(I=FC(y,s,!0));const k=kE(0,null,null,1,0,null,null,null,null,null,null),D=xb(null,k,null,C,null,null,d,h,s,null,I);let B,Y;hC(D);try{const oe=this.componentDef;let he,$e=null;oe.findHostDirectiveDefs?(he=[],$e=new Map,oe.findHostDirectiveDefs(oe,he,$e),he.push(oe)):he=[oe];const pt=function tre(n,e){const t=n[ie],i=ze;return n[i]=e,Hu(t,i,2,"#host",null)}(D,y),si=function nre(n,e,t,i,r,o,s){const a=r[ie];!function ire(n,e,t,i){for(const r of n)e.mergedAttrs=sf(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Nb(e,e.mergedAttrs,!0),null!==t&&Y3(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=FC(e,r[Ri]));const l=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=xb(r,e4(t),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&PE(a,n,i.length-1),Cb(r,d),r[n.index]=d}(pt,y,oe,he,D,d,h);Y=hf(k,ze),y&&function ore(n,e,t,i){if(i)Qx(n,t,["ng-version","17.2.3"]);else{const{attrs:r,classes:o}=function XZ(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!To(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Qx(n,t,r),o&&o.length>0&&Q3(n,t,o.join(" "))}}(h,oe,y,i),void 0!==t&&function sre(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,t),B=function rre(n,e,t,i,r,o){const s=Rt(),a=r[ie],c=fr(s,r);o4(a,r,s,t,null,i);for(let u=0;u<t.length;u++)tr(Kc(r,a,s.directiveStart+u,s),r);s4(a,r,s),c&&tr(c,r);const l=Kc(r,a,s.directiveStart+s.componentOffset,s);if(n[Yt]=r[Yt]=l,null!==o)for(const u of o)u(l,e);return DE(a,s,r),l}(si,oe,he,$e,D,[are]),LE(k,D,null)}finally{fC()}return new ere(this.componentType,B,Cu(Y,D),D,Y)}}class ere extends mie{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Lf(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;FE(o[ie],o,r,e,t),this.previousInputValues.set(e,t),Ff(jr(this._tNode.index,o))}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function are(){const n=Rt();J_(q()[ie],n)}let co=(()=>{class n{static{this.__NG_ELEMENT_ID__=cre}}return n})();function cre(){return e5(Rt(),q())}const lre=co,Z4=class extends lre{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Cu(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const e=rb(this._hostTNode,this._hostLView);if(JC(e)){const t=Tf(e,this._hostLView),i=If(e);return new di(t[ie].data[i+8],t)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=J4(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-zn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,$u(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function Cf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const y=t||{};a=y.index,i=y.injector,r=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?e:new Gf(et(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const C=(s?l:this.parentInjector).get($r,null);C&&(o=C)}et(c.componentType??{});const f=c.create(l,r,null,o);return this.insertImpl(f.hostView,a,$u(this._hostTNode,null)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function cJ(n){return Ji(n[Un])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[Un],l=new Z4(c,c[Xi],c[Un]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Rf(s,r,o,i),e.attachToViewContainerRef(),hL(t1(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=J4(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Af(this._lContainer,t);i&&(A_(t1(this._lContainer),t),_b(i[ie],i))}detach(e){const t=this._adjustIndex(e,-1),i=Af(this._lContainer,t);return i&&null!=A_(t1(this._lContainer),t)?new Lf(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function J4(n){return n[8]}function t1(n){return n[8]||(n[8]=[])}function e5(n,e){let t;const i=e[n.index];return Ji(i)?t=i:(t=a4(i,e,null,n),e[n.index]=t,Cb(e,t)),t5(t,e,n,i),new Z4(t,n,e)}let t5=function r5(n,e,t,i){if(n[Ko])return;let r;r=8&t.type?Ut(i):function ure(n,e){const t=n[Ve],i=t.createComment(""),r=fr(e,n);return Yc(t,bb(t,r),i,function ine(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Ko]=r},n1=()=>!1;class r1{constructor(e){this.queryList=e,this.matches=null}clone(){return new r1(this.queryList)}setDirty(){this.queryList.setDirty()}}class o1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new o1(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==u1(e,t).matches&&this.queries[t].setDirty()}}class o5{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function bre(n){return n.split(",").map(e=>e.trim())}(e):e}}class s1{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new s1(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class a1{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new a1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,pre(t,o)),this.matchTNodeWithReadOption(e,t,ob(t,e,o,!1,!1))}else i===ts?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ob(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===cn||r===co||r===ts&&4&t.type)this.addMatch(t.index,-2);else{const o=ob(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function pre(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function mre(n,e,t,i){return-1===t?function gre(n,e){return 11&n.type?Cu(n,e):4&n.type?Tb(n,e):null}(e,n):-2===t?function _re(n,e,t){return t===cn?Cu(e,n):t===ts?Tb(e,n):t===co?e5(e,n):void 0}(n,e,i):Kc(n,n[ie],t,e)}function s5(n,e,t,i){const r=e[zs].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:mre(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function c1(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=s5(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=zn;d<u.length;d++){const h=u[d];h[cf]===h[Un]&&c1(h[ie],h,l,i)}if(null!==u[vu]){const d=u[vu];for(let h=0;h<d.length;h++){const f=d[h];c1(f[ie],f,l,i)}}}}}return i}function a5(n,e,t){const i=new gf(!(4&~t));return function pne(n,e,t,i){const r=l4(e);r.push(t),n.firstCreatePass&&u4(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[zs]??=new o1).queries.push(new r1(i))-1}function u5(n,e,t){null===n.queries&&(n.queries=new s1),n.queries.track(new a1(e,t))}function u1(n,e){return n.queries.getByIndex(e)}function d5(n,e){const t=n[ie],i=u1(t,e);return i.crossesNgTemplate?c1(t,n,e,[]):s5(t,n,i,e)}function wt(n){let e=function x5(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(So(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Lb(n.inputs),s.inputTransforms=Lb(n.inputTransforms),s.declaredInputs=Lb(n.declaredInputs),s.outputs=Lb(n.outputs);const a=r.hostBindings;a&&Pre(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&kre(n,c),l&&Ore(n,l),Sre(n,r),UZ(n.outputs,r.outputs),So(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===wt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Are(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=sf(r.hostAttrs,t=sf(t,r.hostAttrs))}}(i)}function Sre(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function Lb(n){return n===Wo?{}:n===Et?[]:n}function kre(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Ore(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Pre(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function h1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class Zc{}class T5{}class f1 extends Zc{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Y4(this);const r=Yi(e);this._bootstrapComponents=qr(r.bootstrap),this._r3Injector=o3(e,t,[{provide:Zc,useValue:this},{provide:qu,useValue:this.componentFactoryResolver},...i],ci(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class p1 extends T5{constructor(e){super(),this.moduleType=e}create(e){return new f1(this.moduleType,e,[])}}class M5 extends Zc{constructor(e){super(),this.componentFactoryResolver=new Y4(this),this.instance=null;const t=new Ru([...e.providers,{provide:Zc,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],e.parent||Y_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Vb(n,e,t=null){return new M5({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Wf=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Hn(n,e,t,i,r,o,s,a){const c=q(),l=lt(),u=n+ze,d=l.firstCreatePass?function Hre(n,e,t,i,r,o,s,a,c){const l=e.consts,u=Hu(e,n,4,s||null,Qo(l,a));OE(e,t,u,Qo(l,c)),J_(e,u);const d=u.tView=kE(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,o,s):l.data[u];Yo(d,!1);const h=D5(l,c,d,n);S_()&&yb(l,c,h,d),tr(h,c);const f=a4(h,c,h,d);return c[u]=f,Cb(c,f),function n5(n,e,t){return n1(n,e,t)}(f,d,c),I_(d)&&SE(l,c,d),null!=s&&AE(c,d,a),Hn}let D5=function S5(n,e,t,i){return Ma(!0),e[Ve].createComment("")};function Ar(n,e,t,i){const r=q();return jn(r,Ao(),e)&&(lt(),es(Xt(),r,n,e,t,i)),Ar}function qb(n,e){return n<<17|e<<2}function Na(n){return n>>17&32767}function E1(n){return 2|n}function tl(n){return(131068&n)>>2}function I1(n,e){return-131069&n|e<<2}function T1(n){return 1|n}function sV(n,e,t,i){const r=n[t+1],o=null===e;let s=i?Na(r):tl(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];Moe(n[s],e)&&(a=!0,n[s+1]=i?T1(l):E1(l)),s=i?Na(l):tl(l)}a&&(n[t+1]=i?E1(r):T1(r))}function Moe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Iu(n,e)>=0}const hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aV(n){return n.substring(hi.key,hi.keyEnd)}function cV(n,e){const t=hi.textEnd;return t===e?-1:(e=hi.keyEnd=function koe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,hi.key=e,t),ud(n,e,t))}function ud(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function qn(n,e,t){const i=q();return jn(i,Ao(),e)&&Sr(lt(),Xt(),i,n,e,i[Ve],t,!1),qn}function M1(n,e,t,i,r){const s=r?"class":"style";FE(n,t,e.inputs[s],s,i)}function uo(n,e){return function Po(n,e,t,i){const r=q(),o=lt(),s=Hs(2);o.firstUpdatePass&&gV(o,n,s,i),e!==Ge&&jn(r,s,e)&&_V(o,o.data[er()],r,r[Ve],n,r[s+1]=function joe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ci(Gr(n)))),n}(e,t),i,s)}(n,e,null,!0),uo}function Wb(n){!function Ro(n,e,t,i){const r=lt(),o=Hs(2);r.firstUpdatePass&&gV(r,null,o,i);const s=q();if(t!==Ge&&jn(s,o,t)){const a=r.data[er()];if(yV(a,i)&&!pV(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=qx(c,t||"")),M1(r,a,s,t,i)}else!function zoe(n,e,t,i,r,o,s,a){r===Ge&&(r=Et);let c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let C,y=null;u===d?(c+=2,l+=2,h!==f&&(y=d,C=f)):null===d||null!==u&&u<d?(c+=2,y=u):(l+=2,y=d,C=f),null!==y&&_V(n,e,t,i,y,C,s,a),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}(r,a,s,s[Ve],s[o+1],s[o+1]=function Boe(n,e,t){if(null==t||""===t)return Et;const i=[],r=Gr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(Uoe,os,n,!0)}function os(n,e){for(let t=function Soe(n){return function uV(n){hi.key=0,hi.keyEnd=0,hi.value=0,hi.valueEnd=0,hi.textEnd=n.length}(n),cV(n,ud(n,0,hi.textEnd))}(e);t>=0;t=cV(e,t))Hr(n,aV(e),!0)}function pV(n,e){return e>=n.expandoStartIndex}function gV(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[er()],s=pV(n,t);yV(o,i)&&null===e&&!s&&(e=!1),e=function Noe(n,e,t,i){const r=uC(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Zf(t=D1(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=D1(r,n,e,t,i),null===o){let c=function Foe(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==tl(i))return n[Na(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=D1(null,n,e,c[1],i),c=Zf(c,e.attrs,i),function Loe(n,e,t,i){n[Na(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function Voe(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Zf(i,n[o].hostAttrs,t);return Zf(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function Ioe(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Na(s),c=tl(s);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Iu(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const h=Na(n[a+1]);n[i+1]=qb(h,a),0!==h&&(n[h+1]=I1(n[h+1],i)),n[a+1]=function Coe(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=qb(a,0),0!==a&&(n[a+1]=I1(n[a+1],i)),a=i;else n[i+1]=qb(c,0),0===a?a=i:n[c+1]=I1(n[c+1],i),c=i;l&&(n[i+1]=E1(n[i+1])),sV(n,u,i,!0),sV(n,u,i,!1),function Toe(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Iu(o,e)>=0&&(t[i+1]=T1(t[i+1]))}(e,u,n,i,o),s=qb(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function D1(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Zf(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Zf(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Hr(n,s,!!t||e[++o]))}return void 0===n?null:n}function Uoe(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Hr(n,i,t)}function _V(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function Eoe(n){return!(1&~n)}(l)?bV(c,e,t,r,tl(l),s):void 0;Kb(u)||(Kb(o)||function xoe(n){return!(2&~n)}(l)&&(o=bV(c,null,t,r,a,s)),function sne(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:ka.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ka.Important),n.setStyle(t,i,r,o))}}(i,s,df(er(),t),r,o))}function bV(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[r+1];h===Ge&&(h=d?Et:void 0);let f=d?mC(h,i):u===i?h:void 0;if(l&&!Kb(f)&&(f=mC(c,i)),Kb(f)&&(a=f,s))return a;const y=n[r+1];r=s?Na(y):tl(y)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=mC(c,i))}return a}function Kb(n){return void 0!==n}function yV(n,e){return!!(n.flags&(e?8:16))}function g(n,e,t,i){const r=q(),o=lt(),s=ze+n,a=r[Ve],c=o.firstCreatePass?function dse(n,e,t,i,r,o){const s=e.consts,c=Hu(e,n,2,i,Qo(s,r));return OE(e,t,c,Qo(s,o)),null!==c.attrs&&Nb(c,c.attrs,!1),null!==c.mergedAttrs&&Nb(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=CV(o,r,c,a,e,n);r[s]=l;const u=I_(c);return Yo(c,!0),Y3(a,l,c),!!(32&~c.flags)&&S_()&&yb(o,r,l,c),0===function uJ(){return Re.lFrame.elementDepthCount}()&&tr(l,r),function dJ(){Re.lFrame.elementDepthCount++}(),u&&(SE(o,r,c),DE(o,c,r)),null!==i&&AE(r,c),g}function p(){let n=Rt();aC()?cC():(n=n.parent,Yo(n,!1));const e=n;(function fJ(n){return Re.skipHydrationRootTNode===n})(e)&&function _J(){Re.skipHydrationRootTNode=null}(),function hJ(){Re.lFrame.elementDepthCount--}();const t=lt();return t.firstCreatePass&&(J_(t,n),Zx(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Ree(n){return!!(8&n.flags)}(e)&&M1(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Nee(n){return!!(16&n.flags)}(e)&&M1(t,e,q(),e.stylesWithoutHost,!1),p}function W(n,e,t,i){return g(n,e,t,i),p(),W}let CV=(n,e,t,i,r,o)=>(Ma(!0),mb(i,r,function lL(){return Re.lFrame.currentNamespace}()));function ht(){return q()}function N1(n,e,t){const i=q();if(jn(i,Ao(),e)){const o=lt(),s=Xt();Sr(o,s,i,n,e,d4(uC(o.data),s,i),t,!0)}return N1}const nl=void 0;var bse=["en",[["a","p"],["AM","PM"],nl],[["AM","PM"],nl,nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nl,"{1} 'at' {0}",nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _se(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let dd={};function gr(n){const e=function yse(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=DV(e);if(t)return t;const i=e.split("-")[0];if(t=DV(i),t)return t;if("en"===i)return bse;throw new z(701,!1)}function DV(n){return n in dd||(dd[n]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[n]),dd[n]}var en=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(en||{});const hd="en-US";let SV=hd;function Q(n,e,t,i){const r=q(),o=lt(),s=Rt();return B1(o,r,r[Ve],s,n,e,i),Q}function V1(n,e){const t=Rt(),i=q(),r=lt();return B1(r,i,d4(uC(r.data),t,i),t,n,e),V1}function B1(n,e,t,i,r,o,s){const a=I_(i),l=n.firstCreatePass&&u4(n),u=e[Yt],d=l4(e);let h=!0;if(3&i.type||s){const C=fr(i,e),I=s?s(C):C,k=d.length,D=s?Y=>s(Ut(Y[i.index])):i.index;let B=null;if(!s&&a&&(B=function fae(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[_u],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,h=!1;else{o=tB(i,e,u,o,!1);const Y=t.listen(I,r,o);d.push(o,Y),l&&l.push(r,D,k,k+1)}}else o=tB(i,e,u,o,!1);const f=i.outputs;let y;if(h&&null!==f&&(y=f[r])){const C=y.length;if(C)for(let I=0;I<C;I+=2){const oe=e[y[I]][y[I+1]].subscribe(o),he=d.length;d.push(o,oe),l&&l.push(r,i.index,he,"function"==typeof oe?he+1:-(he+1))}}}function eB(n,e,t,i){try{return Xo(6,e,t),!1!==t(i)}catch(r){return Eb(n,r),!1}finally{Xo(7,e,t)}}function tB(n,e,t,i,r){return function o(s){if(s===Function)return i;Ff(n.componentOffset>-1?jr(n.index,e):e);let c=eB(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=eB(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function kt(n=1){return function CJ(n){return(Re.lFrame.contextLView=function XF(n,e){for(;n>0;)e=e[bu],n--;return e}(n,Re.lFrame.contextLView))[Yt]}(n)}function pae(n,e){let t=null;const i=function GZ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?LF(n,o,!0):KZ(i,o))return r}else t=r}return t}function il(n){const e=q()[In][Xi];if(!e.projection){const i=e.projection=function k_(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?pae(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Or(n,e=0,t){const i=q(),r=lt(),o=Hu(r,ze+n,16,null,t||null);null===o.projection&&(o.projection=e),cC(),(!i[Do]||xu())&&32&~o.flags&&function rne(n,e,t){K3(e[Ve],0,e,t,xE(n,t,e),j3(t.parent||e[Xi],t,e))}(r,i,o)}function z1(n,e,t,i){!function l5(n,e,t,i){const r=lt();if(r.firstCreatePass){const o=Rt();u5(r,new o5(e,t,i),o.index),function yre(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return a5(r,q(),t)}(n,e,t,i)}function kn(n,e,t){!function c5(n,e,t){const i=lt();return i.firstCreatePass&&(u5(i,new o5(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),a5(i,q(),e)}(n,e,t)}function bn(n){const e=q(),t=lt(),i=dC();M_(i+1);const r=u1(t,i);if(n.dirty&&function aJ(n){return!(4&~n[Ie])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=d5(e,i);n.reset(o,dL),n.notifyOnChanges()}return!0}return!1}function yn(){return function l1(n,e){return n[zs].queries[e].queryList}(q(),dC())}function ln(n){return function wu(n,e){return n[e]}(function bJ(){return Re.lFrame.contextLView}(),ze+n)}function v(n,e=""){const t=q(),i=lt(),r=n+ze,o=i.firstCreatePass?Hu(i,r,1,e,null):i.data[r],s=vB(i,t,o,e,n);t[r]=s,S_()&&yb(i,t,s,o),Yo(o,!1)}let vB=(n,e,t,i,r)=>(Ma(!0),function gb(n,e){return n.createText(e)}(e[Ve],i));function Be(n){return De("",n,""),Be}function De(n,e,t){const i=q(),r=function nd(n,e,t,i){return jn(n,Ao(),t)?e+je(t)+i:Ge}(i,n,e,t);return r!==Ge&&function Gs(n,e,t){const i=df(e,n);!function F3(n,e,t){n.setValue(e,t)}(n[Ve],i,t)}(i,er(),r),De}function rt(n,e,t){O4(e)&&(e=e());const i=q();return jn(i,Ao(),e)&&Sr(lt(),Xt(),i,n,e,i[Ve],t,!1),rt}function ut(n,e){const t=O4(n);return t&&n.set(e),t}function ot(n,e){const t=q(),i=lt(),r=Rt();return B1(i,t,t[Ve],r,n,e),ot}function j1(n,e,t,i,r){if(n=Pe(n),Array.isArray(n))for(let o=0;o<n.length;o++)j1(n[o],e,t,i,r);else{const o=lt(),s=q(),a=Rt();let c=qc(n)?n:Pe(n.provide);const l=NL(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(qc(n)||!n.multi){const f=new Ef(l,r,E),y=$1(c,e,r?u:u+h,d);-1===y?(nE(ib(a,s),o,c),H1(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[y]=f,s[y]=f)}else{const f=$1(c,e,u+h,d),y=$1(c,e,u,u+h),I=y>=0&&t[y];if(r&&!I||!r&&!(f>=0&&t[f])){nE(ib(a,s),o,c);const k=function Pae(n,e,t,i,r){const o=new Ef(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,SB(o,r,i&&!t),o}(r?Oae:kae,t.length,r,i,l);!r&&I&&(t[y].providerFactory=k),H1(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else H1(o,n,f>-1?f:y,SB(t[r?y:f],l,!r&&i));!r&&i&&I&&t[y].componentProviders++}}}function H1(n,e,t,i){const r=qc(e),o=function lee(n){return!!n.useClass}(e);if(r||o){const c=(o?Pe(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function SB(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $1(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function kae(n,e,t,i){return G1(this.multi,[])}function Oae(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Kc(t,t[ie],this.providerFactory.index,i);o=a.slice(0,s),G1(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],G1(r,o);return o}function G1(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function vn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Aae(n,e,t){const i=lt();if(i.firstCreatePass){const r=So(n);j1(t,i.data,i.blueprint,r,!0),j1(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let Rae=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=jC(0,t.type),r=i.length>0?Vb([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n(H($r))})}}return n})();function ho(n){ns("NgStandalone"),n.getStandaloneInjector=e=>e.get(Rae).getOrCreateStandaloneInjector(n)}class Fa{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const Sce=new Fa("17.2.3");let rU=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const lU=new X(""),ny=new X("");let eI,Z1=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,eI||(function tle(n){eI=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(H(Me),H(J1),H(ny))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),J1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return eI?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function cp(n){return!!n&&"function"==typeof n.then}function uU(n){return!!n&&"function"==typeof n.subscribe}const lp=new X("");let tI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=J(lp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(cp(o))t.push(o);else if(uU(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const nI=new X("");function fU(n,e){return Array.isArray(e)?e.reduce(fU,n):{...n,...e}}let ss=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=J(a3),this.afterRenderEffectManager=J(jf),this.componentTypes=[],this.components=[],this.isStable=J(Wf).hasPendingTasks.pipe(Fe(t=>!t)),this._injector=J($r)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof D4;if(!this._injector.get(tI).done)throw!r&&function Ia(n){const e=et(n)||li(n)||Pi(n);return null!==e&&e.standalone}(t),new z(405,!1);let s;s=r?t:this._injector.get(qu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function nle(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zc),l=s.create(Ht.NULL,[],i||s.selector,a),u=l.location.nativeElement,d=l.injector.get(lU,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),iy(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const i=this.afterRenderEffectManager;for(;;){if(100===t)throw new z(103,!1);const r=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!r&&!iI(o)||this.detectChangesInView(o,s,r);if(t++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>iI(o))&&(i.execute(),!this._views.some(({_lView:o})=>iI(o))))break}}detectChangesInView(t,i,r){let o;r?(o=0,t[Ie]|=1024):o=64&t[Ie]?0:1,Ib(t,i,o)}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;iy(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(nI,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>iy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function iI(n){return rC(n)}class rle{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let pU=(()=>{class n{compileModuleSync(t){return new p1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=qr(Yi(t).declarations).reduce((s,a)=>{const c=et(a);return c&&s.push(new Gf(c)),s},[]);return new rle(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ale=(()=>{class n{constructor(){this.zone=J(Me),this.applicationRef=J(ss)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cle(){const n=J(Me),e=J(ko);return t=>n.runOutsideAngular(()=>e.handleError(t))}let ule=(()=>{class n{constructor(){this.subscription=new ai,this.initialized=!1,this.zone=J(Me),this.pendingTasks=J(Wf)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const as=new X("",{providedIn:"root",factory:()=>J(as,at.Optional|at.SkipSelf)||function dle(){return typeof $localize<"u"&&$localize.locale||hd}()}),rI=new X("");let bU=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Kie(n="zone.js",e){return"noop"===n?new H4:"zone.js"===n?new Me(e):n}(i?.ngZone,function _U(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Ure(n,e,t){return new f1(n,e,t)}(t.moduleType,this.injector,function mU(n){return[{provide:Me,useFactory:n},{provide:Gc,multi:!0,useFactory:()=>{const e=J(ale,{optional:!0});return()=>e.initialize()}},{provide:Gc,multi:!0,useFactory:()=>{const e=J(ule);return()=>{e.initialize()}}},{provide:a3,useFactory:cle}]}(()=>r)),s=o.injector.get(ko,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{iy(this._modules,o),a.unsubscribe()})}),function hU(n,e,t){try{const i=t();return cp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(tI);return a.runInitializers(),a.donePromise.then(()=>(function AV(n){"string"==typeof n&&(SV=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(as,hd)||hd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=fU({},i);return function sle(n,e,t){const i=new p1(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ss);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new z(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(rI,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(H(Ht))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),La=null;const yU=new X("");function vU(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=oI();if(!s||s.injector.get(yU,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function ple(n){if(La&&!La.get(yU,!1))throw new z(400,!1);(function dU(){!function bZ(n){gF=n}(()=>{throw new z(600,!1)})})(),La=n;const e=n.get(bU);(function xU(n){n.get(yL,null)?.forEach(t=>t())})(n)}(function wU(n=[],e){return Ht.create({name:e,providers:[{provide:GC,useValue:"platform"},{provide:rI,useValue:new Set([()=>La=null])},...n]})}(a,i))}return function gle(n){const e=oI();if(!e)throw new z(401,!1);return e}()}}function oI(){return La?.get(bU)??null}const wle=vU(null,"core",[]);let xle=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(H(ss))}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})();function cs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let WU=null;function Va(){return WU}class Jle{}const dt=new X("");let hI=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(tue),providedIn:"platform"})}}return n})();const eue=new X("");let tue=(()=>{class n extends hI{constructor(){super(),this._doc=J(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Va().getBaseHref(this._doc)}onPopState(t){const i=Va().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Va().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function fI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function KU(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qs(n){return n&&"?"!==n[0]?"?"+n:n}let Ba=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(YU),providedIn:"root"})}}return n})();const QU=new X("");let YU=(()=>{class n extends Ba{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??J(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+qs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+qs(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+qs(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(H(hI),H(QU,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XU=(()=>{class n extends Ba{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=fI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+qs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+qs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(H(hI),H(QU,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),pi=(()=>{class n{constructor(t){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function rue(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(KU(ZU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+qs(i))}normalize(t){return n.stripTrailingSlash(function iue(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ZU(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qs(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=qs}static{this.joinWithSlash=fI}static{this.stripTrailingSlash=KU}static{this.\u0275fac=function(i){return new(i||n)(H(Ba))}}static{this.\u0275prov=ne({token:n,factory:()=>function nue(){return new pi(H(Ba))}(),providedIn:"root"})}}return n})();function ZU(n){return n.replace(/\/index.html$/,"")}var _r=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(_r||{}),$t=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}($t||{}),Kr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Kr||{}),Wn=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Wn||{});function fy(n,e){return po(gr(n)[en.DateFormat],e)}function py(n,e){return po(gr(n)[en.TimeFormat],e)}function gy(n,e){return po(gr(n)[en.DateTimeFormat],e)}function fo(n,e){const t=gr(n),i=t[en.NumberSymbols][e];if(typeof i>"u"){if(e===Wn.CurrencyDecimal)return t[en.NumberSymbols][Wn.Decimal];if(e===Wn.CurrencyGroup)return t[en.NumberSymbols][Wn.Group]}return i}function ez(n){if(!n[en.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[en.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function po(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function gI(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const bue=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,my={},yue=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ws=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ws||{}),Dt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Dt||{}),St=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(St||{});function vue(n,e,t,i){let r=function Sue(n){if(iz(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return _y(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(bue))return function Aue(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,c,l),e}(i)}const e=new Date(n);if(!iz(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ks(t,e)||e;let a,s=[];for(;e;){if(a=yue.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let c=r.getTimezoneOffset();i&&(c=nz(i,c),r=function Due(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Mue(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(nz(e,r)-r))}(r,i,!0));let l="";return s.forEach(u=>{const d=function Tue(n){if(_I[n])return _I[n];let e;switch(n){case"G":case"GG":case"GGG":e=tn(St.Eras,$t.Abbreviated);break;case"GGGG":e=tn(St.Eras,$t.Wide);break;case"GGGGG":e=tn(St.Eras,$t.Narrow);break;case"y":e=ei(Dt.FullYear,1,0,!1,!0);break;case"yy":e=ei(Dt.FullYear,2,0,!0,!0);break;case"yyy":e=ei(Dt.FullYear,3,0,!1,!0);break;case"yyyy":e=ei(Dt.FullYear,4,0,!1,!0);break;case"Y":e=wy(1);break;case"YY":e=wy(2,!0);break;case"YYY":e=wy(3);break;case"YYYY":e=wy(4);break;case"M":case"L":e=ei(Dt.Month,1,1);break;case"MM":case"LL":e=ei(Dt.Month,2,1);break;case"MMM":e=tn(St.Months,$t.Abbreviated);break;case"MMMM":e=tn(St.Months,$t.Wide);break;case"MMMMM":e=tn(St.Months,$t.Narrow);break;case"LLL":e=tn(St.Months,$t.Abbreviated,_r.Standalone);break;case"LLLL":e=tn(St.Months,$t.Wide,_r.Standalone);break;case"LLLLL":e=tn(St.Months,$t.Narrow,_r.Standalone);break;case"w":e=mI(1);break;case"ww":e=mI(2);break;case"W":e=mI(1,!0);break;case"d":e=ei(Dt.Date,1);break;case"dd":e=ei(Dt.Date,2);break;case"c":case"cc":e=ei(Dt.Day,1);break;case"ccc":e=tn(St.Days,$t.Abbreviated,_r.Standalone);break;case"cccc":e=tn(St.Days,$t.Wide,_r.Standalone);break;case"ccccc":e=tn(St.Days,$t.Narrow,_r.Standalone);break;case"cccccc":e=tn(St.Days,$t.Short,_r.Standalone);break;case"E":case"EE":case"EEE":e=tn(St.Days,$t.Abbreviated);break;case"EEEE":e=tn(St.Days,$t.Wide);break;case"EEEEE":e=tn(St.Days,$t.Narrow);break;case"EEEEEE":e=tn(St.Days,$t.Short);break;case"a":case"aa":case"aaa":e=tn(St.DayPeriods,$t.Abbreviated);break;case"aaaa":e=tn(St.DayPeriods,$t.Wide);break;case"aaaaa":e=tn(St.DayPeriods,$t.Narrow);break;case"b":case"bb":case"bbb":e=tn(St.DayPeriods,$t.Abbreviated,_r.Standalone,!0);break;case"bbbb":e=tn(St.DayPeriods,$t.Wide,_r.Standalone,!0);break;case"bbbbb":e=tn(St.DayPeriods,$t.Narrow,_r.Standalone,!0);break;case"B":case"BB":case"BBB":e=tn(St.DayPeriods,$t.Abbreviated,_r.Format,!0);break;case"BBBB":e=tn(St.DayPeriods,$t.Wide,_r.Format,!0);break;case"BBBBB":e=tn(St.DayPeriods,$t.Narrow,_r.Format,!0);break;case"h":e=ei(Dt.Hours,1,-12);break;case"hh":e=ei(Dt.Hours,2,-12);break;case"H":e=ei(Dt.Hours,1);break;case"HH":e=ei(Dt.Hours,2);break;case"m":e=ei(Dt.Minutes,1);break;case"mm":e=ei(Dt.Minutes,2);break;case"s":e=ei(Dt.Seconds,1);break;case"ss":e=ei(Dt.Seconds,2);break;case"S":e=ei(Dt.FractionalSeconds,1);break;case"SS":e=ei(Dt.FractionalSeconds,2);break;case"SSS":e=ei(Dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=yy(Ws.Short);break;case"ZZZZZ":e=yy(Ws.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yy(Ws.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=yy(Ws.Long);break;default:return null}return _I[n]=e,e}(u);l+=d?d(r,t,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function _y(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ks(n,e){const t=function sue(n){return gr(n)[en.LocaleId]}(n);if(my[t]??={},my[t][e])return my[t][e];let i="";switch(e){case"shortDate":i=fy(n,Kr.Short);break;case"mediumDate":i=fy(n,Kr.Medium);break;case"longDate":i=fy(n,Kr.Long);break;case"fullDate":i=fy(n,Kr.Full);break;case"shortTime":i=py(n,Kr.Short);break;case"mediumTime":i=py(n,Kr.Medium);break;case"longTime":i=py(n,Kr.Long);break;case"fullTime":i=py(n,Kr.Full);break;case"short":const r=Ks(n,"shortTime"),o=Ks(n,"shortDate");i=by(gy(n,Kr.Short),[r,o]);break;case"medium":const s=Ks(n,"mediumTime"),a=Ks(n,"mediumDate");i=by(gy(n,Kr.Medium),[s,a]);break;case"long":const c=Ks(n,"longTime"),l=Ks(n,"longDate");i=by(gy(n,Kr.Long),[c,l]);break;case"full":const u=Ks(n,"fullTime"),d=Ks(n,"fullDate");i=by(gy(n,Kr.Full),[u,d])}return i&&(my[t][e]=i),i}function by(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function No(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function ei(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function xue(n,e){switch(n){case Dt.FullYear:return e.getFullYear();case Dt.Month:return e.getMonth();case Dt.Date:return e.getDate();case Dt.Hours:return e.getHours();case Dt.Minutes:return e.getMinutes();case Dt.Seconds:return e.getSeconds();case Dt.FractionalSeconds:return e.getMilliseconds();case Dt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===Dt.Hours)0===a&&-12===t&&(a=12);else if(n===Dt.FractionalSeconds)return function wue(n,e){return No(n,3).substring(0,e)}(a,e);const c=fo(s,Wn.MinusSign);return No(a,e,c,i,r)}}function tn(n,e,t=_r.Format,i=!1){return function(r,o){return function Cue(n,e,t,i,r,o){switch(t){case St.Months:return function lue(n,e,t){const i=gr(n),o=po([i[en.MonthsFormat],i[en.MonthsStandalone]],e);return po(o,t)}(e,r,i)[n.getMonth()];case St.Days:return function cue(n,e,t){const i=gr(n),o=po([i[en.DaysFormat],i[en.DaysStandalone]],e);return po(o,t)}(e,r,i)[n.getDay()];case St.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const l=function fue(n){const e=gr(n);return ez(e),(e[en.ExtraData][2]||[]).map(i=>"string"==typeof i?gI(i):[gI(i[0]),gI(i[1])])}(e),u=function pue(n,e,t){const i=gr(n);ez(i);const o=po([i[en.ExtraData][0],i[en.ExtraData][1]],e)||[];return po(o,t)||[]}(e,r,i),d=l.findIndex(h=>{if(Array.isArray(h)){const[f,y]=h,C=s>=f.hours&&a>=f.minutes,I=s<y.hours||s===y.hours&&a<y.minutes;if(f.hours<y.hours){if(C&&I)return!0}else if(C||I)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function aue(n,e,t){const i=gr(n),o=po([i[en.DayPeriodsFormat],i[en.DayPeriodsStandalone]],e);return po(o,t)}(e,r,i)[s<12?0:1];case St.Eras:return function uue(n,e){return po(gr(n)[en.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function yy(n){return function(e,t,i){const r=-1*i,o=fo(t,Wn.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ws.Short:return(r>=0?"+":"")+No(s,2,o)+No(Math.abs(r%60),2,o);case Ws.ShortGMT:return"GMT"+(r>=0?"+":"")+No(s,1,o);case Ws.Long:return"GMT"+(r>=0?"+":"")+No(s,2,o)+":"+No(Math.abs(r%60),2,o);case Ws.Extended:return 0===i?"Z":(r>=0?"+":"")+No(s,2,o)+":"+No(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Eue=0,vy=4;function tz(n){const e=n.getDay(),t=0===e?-3:vy-e;return _y(n.getFullYear(),n.getMonth(),n.getDate()+t)}function mI(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=tz(t),s=function Iue(n){const e=_y(n,Eue,1).getDay();return _y(n,0,1+(e<=vy?vy:vy+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return No(r,n,fo(i,Wn.MinusSign))}}function wy(n,e=!1){return function(t,i){return No(tz(t).getFullYear(),n,fo(i,Wn.MinusSign),e)}}const _I={};function nz(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function iz(n){return n instanceof Date&&!isNaN(n.valueOf())}class Gue{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Gue(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),lz(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{lz(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(E(co),E(ts),E(QE))}}static{this.\u0275dir=me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function lz(n,e){n.context.$implicit=e.item}let EI=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new que,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uz("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uz("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(E(co),E(ts))}}static{this.\u0275dir=me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class que{constructor(){this.$implicit=null,this.ngIf=null}}function uz(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ci(e)}'.`)}const sde=new X(""),ade=new X("");let MI=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return vue(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Fo(n,e){return new z(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||n)(E(as,16),E(sde,24),E(ade,24))}}static{this.\u0275pipe=Ir({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),Ua=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})();const fz="browser";function Cy(n){return n===fz}function pz(n){return"server"===n}let vde=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>Cy(J(so))?new wde(J(dt),window):new Cde})}}return n})();class wde{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function xde(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class Cde{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Zde extends Jle{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kI extends Zde{static makeCurrent(){!function Zle(n){WU??=n}(new kI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Jde(){return gp=gp||document.querySelector("base"),gp?gp.getAttribute("href"):null}();return null==t?null:function ehe(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){gp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function jue(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let gp=null,nhe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const OI=new X("");let Cz=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(H(OI),H(Me))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class Ez{constructor(e){this._doc=e}}const PI="ng-app-id";let Iz=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pz(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${PI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(PI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(PI,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(H(dt),H(L_),H(yC,8),H(so))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const RI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},NI=/%COMP%/g,she=new X("",{providedIn:"root",factory:()=>!0});function Mz(n,e){return e.map(t=>t.replace(NI,n))}let FI=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=pz(a),this.defaultRenderer=new LI(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Io.ShadowDom&&(i={...i,encapsulation:Io.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Sz?r.applyToHost(t):r instanceof VI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Io.Emulated:o=new Sz(c,l,i,this.appId,u,s,a,d);break;case Io.ShadowDom:return new uhe(c,l,t,i,s,a,this.nonce,d);default:o=new VI(c,l,i,u,s,a,d)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(H(Cz),H(Iz),H(L_),H(she),H(dt),H(so),H(Me),H(yC))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class LI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(RI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Dz(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Dz(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new z(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=RI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=RI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ka.DashCase|ka.Important)?e.style.setProperty(t,i,r&ka.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ka.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Va().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Dz(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class uhe extends LI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Mz(r.id,r.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class VI extends LI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?Mz(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Sz extends VI{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function ahe(n){return"_ngcontent-%COMP%".replace(NI,n)}(l),this.hostAttr=function che(n){return"_nghost-%COMP%".replace(NI,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let dhe=(()=>{class n extends Ez{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(H(dt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const Az=["alt","control","meta","shift"],hhe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fhe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let phe=(()=>{class n extends Ez{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Va().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Az.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=hhe[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Az.forEach(s=>{s!==r&&(0,fhe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(H(dt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const Oz=[{provide:so,useValue:fz},{provide:yL,useValue:function ghe(){kI.makeCurrent()},multi:!0},{provide:dt,useFactory:function _he(){return function AJ(n){_C=n}(document),document},deps:[]}],bhe=vU(wle,"browser",Oz),yhe=new X(""),Pz=[{provide:ny,useClass:class the{addToWindow(e){At.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new z(5103,!1);return o},At.getAllAngularTestabilities=()=>e.getAllTestabilities(),At.getAllAngularRootElements=()=>e.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(i=>{const r=At.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Va().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:lU,useClass:Z1,deps:[Me,J1,ny]},{provide:Z1,useClass:Z1,deps:[Me,J1,ny]}],Rz=[{provide:GC,useValue:"root"},{provide:ko,useFactory:function mhe(){return new ko},deps:[]},{provide:OI,useClass:dhe,multi:!0,deps:[dt,Me,so]},{provide:OI,useClass:phe,multi:!0,deps:[dt]},FI,Iz,Cz,{provide:qE,useExisting:FI},{provide:class Ede{},useClass:nhe,deps:[]},[]];let Nz=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:L_,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(H(yhe,12))}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[...Rz,...Pz],imports:[Ua,xle]})}}return n})(),vhe=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(H(dt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ty(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function za(n){return this instanceof za?(this.v=n,this):new za(n)}function jz(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function HI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const $I=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Hz(n){return yt(n?.then)}function $z(n){return yt(n[$x])}function Gz(n){return Symbol.asyncIterator&&yt(n?.[Symbol.asyncIterator])}function qz(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Wz=function Ghe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Kz(n){return yt(n?.[Wz])}function Qz(n){return function zz(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(y,C){o.push([h,f,y,C])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof za?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(i[h](f))}catch(y){d(o[0][3],y)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield za(t.read());if(r)return yield za(void 0);yield yield za(i)}}finally{t.releaseLock()}})}function Yz(n){return yt(n?.getReader)}function Fi(n){if(n instanceof Qt)return n;if(null!=n){if($z(n))return function qhe(n){return new Qt(e=>{const t=n[$x]();if(yt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if($I(n))return function Whe(n){return new Qt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Hz(n))return function Khe(n){return new Qt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,wF)})}(n);if(Gz(n))return Xz(n);if(Kz(n))return function Qhe(n){return new Qt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Yz(n))return function Yhe(n){return Xz(Qz(n))}(n)}throw qz(n)}function Xz(n){return new Qt(e=>{(function Xhe(n,e){var t,i,r,o;return function Bz(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=jz(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Qs(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function My(n,e=0){return En((t,i)=>{t.subscribe(mn(i,r=>Qs(i,n,()=>i.next(r),e),()=>Qs(i,n,()=>i.complete(),e),r=>Qs(i,n,()=>i.error(r),e)))})}function Dy(n,e=0){return En((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Zz(n,e){if(!n)throw new Error("Iterable cannot be null");return new Qt(t=>{Qs(t,e,()=>{const i=n[Symbol.asyncIterator]();Qs(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function gi(n,e){return e?function ife(n,e){if(null!=n){if($z(n))return function Zhe(n,e){return Fi(n).pipe(Dy(e),My(e))}(n,e);if($I(n))return function efe(n,e){return new Qt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Hz(n))return function Jhe(n,e){return Fi(n).pipe(Dy(e),My(e))}(n,e);if(Gz(n))return Zz(n,e);if(Kz(n))return function tfe(n,e){return new Qt(t=>{let i;return Qs(t,e,()=>{i=n[Wz](),Qs(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>yt(i?.return)&&i.return()})}(n,e);if(Yz(n))return function nfe(n,e){return Zz(Qz(n),e)}(n,e)}throw qz(n)}(n,e):Fi(n)}const{isArray:rfe}=Array,{getPrototypeOf:ofe,prototype:sfe,keys:afe}=Object;function Jz(n){if(1===n.length){const e=n[0];if(rfe(e))return{args:e,keys:null};if(function cfe(n){return n&&"object"==typeof n&&ofe(n)===sfe}(e)){const t=afe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function ej(n){return n&&yt(n.schedule)}function GI(n){return n[n.length-1]}function tj(n){return yt(GI(n))?n.pop():void 0}function _p(n){return ej(GI(n))?n.pop():void 0}const{isArray:ufe}=Array;function qI(n){return Fe(e=>function dfe(n,e){return ufe(e)?n(...e):n(e)}(n,e))}function nj(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let rj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(E(Oo),E(cn))}}static{this.\u0275dir=me({type:n})}}return n})(),ol=(()=>{class n extends rj{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,features:[wt]})}}return n})();const ls=new X(""),ffe={provide:ls,useExisting:Zt(()=>Li),multi:!0},gfe=new X("");let Li=(()=>{class n extends rj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pfe(){const n=Va()?Va().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(E(Oo),E(cn),E(gfe,8))}}static{this.\u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Q("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[vn([ffe]),wt]})}}return n})();function ja(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const nr=new X(""),Ha=new X("");function Sy(n){return null}function gj(n){return null!=n}function mj(n){return cp(n)?gi(n):n}function _j(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function bj(n,e){return e.map(t=>t(n))}function yj(n){return n.map(e=>function _fe(n){return!n.validate}(e)?e:t=>e.validate(t))}function WI(n){return null!=n?function vj(n){if(!n)return null;const e=n.filter(gj);return 0==e.length?null:function(t){return _j(bj(t,e))}}(yj(n)):null}function wj(n){if(!n)return null;const e=n.filter(gj);return 0==e.length?null:function(t){return function ij(...n){const e=tj(n),{args:t,keys:i}=Jz(n),r=new Qt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Fi(t[u]).subscribe(mn(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?nj(i,a):a),o.complete())}))}});return e?r.pipe(qI(e)):r}(bj(t,e).map(mj)).pipe(Fe(_j))}}function KI(n){return null!=n?wj(yj(n)):null}function xj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function QI(n){return n?Array.isArray(n)?n:[n]:[]}function Ay(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ij(n,e){const t=QI(e);return QI(n).forEach(r=>{Ay(t,r)||t.push(r)}),t}function Tj(n,e){return QI(e).filter(t=>!Ay(n,t))}class Mj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class br extends Mj{get formDirective(){return null}get path(){return null}}class $a extends Mj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yr=(()=>{class n extends Dj{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(E($a,2))}}static{this.\u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&uo("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[wt]})}}return n})(),On=(()=>{class n extends Dj{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(E(br,10))}}static{this.\u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&uo("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[wt]})}}return n})();const bp="VALID",Oy="INVALID",_d="PENDING",yp="DISABLED";function ZI(n){return(Py(n)?n.validators:n)||null}function JI(n,e){return(Py(e)?e.asyncValidators:n)||null}function Py(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class eT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bp}get invalid(){return this.status===Oy}get pending(){return this.status==_d}get disabled(){return this.status===yp}get enabled(){return this.status!==yp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ij(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ij(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Tj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Tj(e,this._rawAsyncValidators))}hasValidator(e){return Ay(this._rawValidators,e)}hasAsyncValidator(e){return Ay(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_d,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bp||this.status===_d)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yp:bp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_d,this._hasOwnPendingAsyncValidator=!0;const t=mj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?yp:this.errors?Oy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_d)?_d:this._anyControlsHaveStatus(Oy)?Oy:bp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Py(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wfe(n){return Array.isArray(n)?WI(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function xfe(n){return Array.isArray(n)?KI(n):n||null}(this._rawAsyncValidators)}}class tT extends eT{constructor(e,t,i){super(ZI(t),JI(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function kj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new z(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function Aj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new z(1e3,"");if(!i[t])throw new z(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const bd=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Ry}),Ry="always";function vp(n,e,t=Ry){nT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ife(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Oj(n,e)})}(n,e),function Mfe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Tfe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Oj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Efe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ly(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nT(n,e){const t=function Cj(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(xj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function Ej(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(xj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ly(e._rawValidators,r),Ly(e._rawAsyncValidators,r)}function Oj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Ofe={provide:br,useExisting:Zt(()=>wn)},wp=Promise.resolve();let wn=(()=>{class n extends br{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new We,this.form=new tT({},WI(t),KI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),vp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){wp.then(()=>{const i=this._findContainer(t.path),r=new tT({});(function Pj(n,e){nT(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){wp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Rj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(E(nr,10),E(Ha,10),E(bd,8))}}static{this.\u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Q("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[ct.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vn([Ofe]),wt]})}}return n})();function Nj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Fj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lj=class extends eT{constructor(e=null,t,i){super(ZI(t),JI(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Py(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Fj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Nj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Nj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Fj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Nfe={provide:$a,useExisting:Zt(()=>ir)},Uj=Promise.resolve();let ir=(()=>{class n extends $a{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Lj,this._registered=!1,this.name="",this.update=new We,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function oT(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Li?t=o:function Afe(n){return Object.getPrototypeOf(n.constructor)===ol}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function rT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Uj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&cs(i);Uj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Ny(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(E(br,9),E(nr,10),E(Ha,10),E(ls,10),E(Wu,8),E(bd,8))}}static{this.\u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ct.None,"disabled","isDisabled"],model:[ct.None,"ngModel","model"],options:[ct.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vn([Nfe]),wt,ao]})}}return n})(),Pn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const Ffe={provide:ls,useExisting:Zt(()=>sT),multi:!0};let sT=(()=>{class n extends ol{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Q("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[vn([Ffe]),wt]})}}return n})();const Gfe={provide:ls,useExisting:Zt(()=>uT),multi:!0};function Wj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let uT=(()=>{class n extends ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=Wj(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function qfe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&Q("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([Gfe]),wt]})}}return n})(),xp=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Wj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(E(cn),E(Oo),E(uT,9))}}static{this.\u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Wfe={provide:ls,useExisting:Zt(()=>dT),multi:!0};function Kj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let dT=(()=>{class n extends ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);r.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Kfe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&Q("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([Wfe]),wt]})}}return n})(),Cp=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Kj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Kj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(E(cn),E(Oo),E(dT,9))}}static{this.\u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function Yj(n){return"number"==typeof n?n:parseFloat(n)}let sl=(()=>{class n{constructor(){this._validator=Sy}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Sy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=me({type:n,features:[ao]})}}return n})();const Qfe={provide:nr,useExisting:Zt(()=>hT),multi:!0};let hT=(()=>{class n extends sl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Yj(t),this.createValidator=t=>function cj(n){return e=>{if(ja(e.value)||ja(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ar("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[vn([Qfe]),wt]})}}return n})();const Yfe={provide:nr,useExisting:Zt(()=>fT),multi:!0};let fT=(()=>{class n extends sl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Yj(t),this.createValidator=t=>function aj(n){return e=>{if(ja(e.value)||ja(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ar("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[vn([Yfe]),wt]})}}return n})(),ipe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})(),Ep=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bd,useValue:t.callSetDisabledState??Ry}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[ipe]})}}return n})();function xe(...n){return gi(n,_p(n))}function By(...n){const e=_p(n),t=tj(n),{args:i,keys:r}=Jz(n);if(0===i.length)return gi([],e);const o=new Qt(function spe(n,e,t=Ca){return i=>{n6(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)n6(e,()=>{const l=gi(n[c],e);let u=!1;l.subscribe(mn(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>nj(r,s):Ca));return t?o.pipe(qI(t)):o}function n6(n,e,t){n?Qs(t,n,e):e()}const Uy=Vx(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function yi(n,e,t=1/0){return yt(e)?yi((i,r)=>Fe((o,s)=>e(i,o,r,s))(Fi(n(i,r))),t):("number"==typeof e&&(t=e),En((i,r)=>function ape(n,e,t,i,r,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=C=>l<i?y(C):c.push(C),y=C=>{o&&e.next(C),l++;let I=!1;Fi(t(C,u++)).subscribe(mn(e,k=>{r?.(k),o?f(k):e.next(k)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<i;){const k=c.shift();s?Qs(e,s,()=>y(k)):y(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(mn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function yd(n=1/0){return yi(Ca,n)}function vd(...n){return function cpe(){return yd(1)}()(gi(n,_p(n)))}function Ip(n){return new Qt(e=>{Fi(n()).subscribe(e)})}function wd(n,e){const t=yt(n)?n:()=>n,i=r=>r.error(t());return new Qt(e?r=>e.schedule(i,0,r):i)}const us=new Qt(n=>n.complete());function gT(){return En((n,e)=>{let t=null;n._refCount++;const i=mn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class mT extends Qt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,IF(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ai;const t=this.getSubject();e.add(this.source.subscribe(mn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ai.EMPTY)}return e}refCount(){return gT()(this)}}function Pr(n,e){return En((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(mn(i,c=>{r?.unsubscribe();let l=0;const u=o++;Fi(n(c,u)).subscribe(r=mn(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Kn(n){return n<=0?()=>us:En((e,t)=>{let i=0;e.subscribe(mn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function _T(...n){const e=_p(n);return En((t,i)=>{(e?vd(n,t,e):vd(n,t)).subscribe(i)})}function Rn(n,e){return En((t,i)=>{let r=0;t.subscribe(mn(i,o=>n.call(e,o,r++)&&i.next(o)))})}function zy(n){return En((e,t)=>{let i=!1;e.subscribe(mn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function i6(n=upe){return En((e,t)=>{let i=!1;e.subscribe(mn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function upe(){return new Uy}function al(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Rn((r,o)=>n(r,o,i)):Ca,Kn(1),t?zy(e):i6(()=>new Uy))}function xd(n,e){return yt(e)?yi(n,e,1):yi(n,1)}function Nn(n,e,t){const i=yt(n)||e||t?{next:n,error:e,complete:t}:n;return i?En((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(mn(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Ca}function cl(n){return En((e,t)=>{let o,i=null,r=!1;i=e.subscribe(mn(t,void 0,void 0,s=>{o=Fi(n(s,cl(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function bT(n){return n<=0?()=>us:En((e,t)=>{let i=[];e.subscribe(mn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function r6(n){return Fe(()=>n)}function jy(n){return En((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hy(n){return En((e,t)=>{Fi(n).subscribe(mn(t,()=>t.complete(),ef)),!t.closed&&e.subscribe(t)})}const Ye="primary",Tp=Symbol("RouteTitle");class ppe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cd(n){return new ppe(n)}function gpe(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ds(n,e){const t=n?yT(n):void 0,i=e?yT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!o6(n[r],e[r]))return!1;return!0}function yT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function o6(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function s6(n){return n.length>0?n[n.length-1]:null}function Ga(n){return function ope(n){return!!n&&(n instanceof Qt||yt(n.lift)&&yt(n.subscribe))}(n)?n:cp(n)?gi(Promise.resolve(n)):xe(n)}const _pe={exact:function l6(n,e,t){if(!ll(n.segments,e.segments)||!$y(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!l6(n.children[i],e.children[i],t))return!1;return!0},subset:u6},a6={exact:function bpe(n,e){return ds(n,e)},subset:function ype(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>o6(n[t],e[t]))},ignored:()=>!0};function c6(n,e,t){return _pe[t.paths](n.root,e.root,t.matrixParams)&&a6[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function u6(n,e,t){return d6(n,e,e.segments,t)}function d6(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ll(r,t)||e.hasChildren()||!$y(r,t,i))}if(n.segments.length===t.length){if(!ll(n.segments,t)||!$y(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!u6(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ll(n.segments,r)&&$y(n.segments,r,i)&&n.children[Ye])&&d6(n.children[Ye],e,o,i)}}function $y(n,e,t){return e.every((i,r)=>a6[t](n[r].parameters,i.parameters))}class Ed{constructor(e=new zt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Cd(this.queryParams),this._queryParamMap}toString(){return xpe.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gy(this)}}class Mp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Cd(this.parameters),this._parameterMap}toString(){return p6(this)}}function ll(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Id=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new vT,providedIn:"root"})}}return n})();class vT{parse(e){const t=new Ppe(e);return new Ed(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Dp(e.root,!0)}`,i=function Ipe(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${qy(t)}=${qy(r)}`).join("&"):`${qy(t)}=${qy(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Cpe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const xpe=new vT;function Gy(n){return n.segments.map(e=>p6(e)).join("/")}function Dp(n,e){if(!n.hasChildren())return Gy(n);if(e){const t=n.children[Ye]?Dp(n.children[Ye],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ye&&i.push(`${r}:${Dp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function wpe(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ye&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ye&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Ye?[Dp(n.children[Ye],!1)]:[`${r}:${Dp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ye]?`${Gy(n)}/${t[0]}`:`${Gy(n)}/(${t.join("//")})`}}function h6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qy(n){return h6(n).replace(/%3B/gi,";")}function wT(n){return h6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wy(n){return decodeURIComponent(n)}function f6(n){return Wy(n.replace(/\+/g,"%20"))}function p6(n){return`${wT(n.path)}${function Epe(n){return Object.entries(n).map(([e,t])=>`;${wT(e)}=${wT(t)}`).join("")}(n.parameters)}`}const Tpe=/^[^\/()?;#]+/;function xT(n){const e=n.match(Tpe);return e?e[0]:""}const Mpe=/^[^\/()?;=#]+/,Spe=/^[^=?&#]+/,kpe=/^[^&#]+/;class Ppe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ye]=new zt(e,t)),i}parseSegment(){const e=xT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Mp(Wy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Dpe(n){const e=n.match(Mpe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=xT(this.remaining);r&&(i=r,this.capture(i))}e[Wy(t)]=Wy(i)}parseQueryParam(e){const t=function Ape(n){const e=n.match(Spe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Ope(n){const e=n.match(kpe);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=f6(t),o=f6(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new z(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ye);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Ye]:new zt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}}function g6(n){return n.segments.length>0?new zt([],{[Ye]:n}):n}function m6(n){const e={};for(const[i,r]of Object.entries(n.children)){const o=m6(r);if(i===Ye&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Rpe(n){if(1===n.numberOfChildren&&n.children[Ye]){const e=n.children[Ye];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}function Td(n){return n instanceof Ed}function _6(n){let e;const r=g6(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new zt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function b6(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return CT(r,r,r,t,i);const o=function Fpe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new v6(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new v6(t,e,i)}(e);if(o.toRoot())return CT(r,r,new zt([],{}),t,i);const s=function Lpe(n,e,t){if(n.isAbsolute)return new Qy(e,!0,0);if(!t)return new Qy(e,!1,NaN);if(null===t.parent)return new Qy(t,!0,0);const i=Ky(n.commands[0])?0:1;return function Vpe(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new Qy(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Ap(s.segmentGroup,s.index,o.commands):w6(s.segmentGroup,s.index,o.commands);return CT(r,s.segmentGroup,a,t,i)}function Ky(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Sp(n){return"object"==typeof n&&null!=n&&n.outlets}function CT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:y6(n,e,t);const a=g6(m6(s));return new Ed(a,o,r)}function y6(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:y6(o,e,t)}),new zt(n.segments,i)}class v6{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ky(i[0]))throw new z(4003,!1);const r=i.find(Sp);if(r&&r!==s6(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function w6(n,e,t){if(n??=new zt([],{}),0===n.segments.length&&n.hasChildren())return Ap(n,e,t);const i=function Upe(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Sp(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!C6(c,l,s))return o;i+=2}else{if(!C6(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new zt(n.segments.slice(0,i.pathIndex),{});return o.children[Ye]=new zt(n.segments.slice(i.pathIndex),n.children),Ap(o,0,r)}return i.match&&0===r.length?new zt(n.segments,{}):i.match&&!n.hasChildren()?ET(n,e,t):i.match?Ap(n,0,r):ET(n,e,t)}function Ap(n,e,t){if(0===t.length)return new zt(n.segments,{});{const i=function Bpe(n){return Sp(n[0])?n[0].outlets:{[Ye]:n}}(t),r={};if(Object.keys(i).some(o=>o!==Ye)&&n.children[Ye]&&1===n.numberOfChildren&&0===n.children[Ye].segments.length){const o=Ap(n.children[Ye],e,t);return new zt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=w6(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new zt(n.segments,r)}}function ET(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Sp(o)){const c=zpe(o.outlets);return new zt(i,c)}if(0===r&&Ky(t[0])){i.push(new Mp(n.segments[e].path,x6(t[0]))),r++;continue}const s=Sp(o)?o.outlets[Ye]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Ky(a)?(i.push(new Mp(s,x6(a))),r+=2):(i.push(new Mp(s,{})),r++)}return new zt(i,{})}function zpe(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=ET(new zt([],{}),0,i))}),e}function x6(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function C6(n,e,t){return n==t.path&&ds(e,t.parameters)}const kp="imperative";var gt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(gt||{});class hs{constructor(e,t){this.id=e,this.url=t}}class Yy extends hs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=gt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends hs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=gt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var go=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(go||{}),Xy=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Xy||{});class Md extends hs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=gt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dd extends hs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=gt.NavigationSkipped}}class Zy extends hs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=gt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class E6 extends hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jpe extends hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hpe extends hs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=gt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $pe extends hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gpe extends hs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qpe{constructor(e){this.route=e,this.type=gt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wpe{constructor(e){this.route=e,this.type=gt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kpe{constructor(e){this.snapshot=e,this.type=gt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qpe{constructor(e){this.snapshot=e,this.type=gt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ype{constructor(e){this.snapshot=e,this.type=gt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xpe{constructor(e){this.snapshot=e,this.type=gt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I6{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=gt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class IT{}class TT{constructor(e){this.url=e}}class Zpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Op,this.attachRef=null}}let Op=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Zpe,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class T6{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=MT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=MT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=DT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return DT(e,this._root).map(t=>t.value)}}function MT(n,e){if(n===e.value)return e;for(const t of e.children){const i=MT(n,t);if(i)return i}return null}function DT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=DT(n,t);if(i.length)return i.unshift(e),i}return[]}class Lo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class M6 extends T6{constructor(e,t){super(e),this.snapshot=t,kT(this,e)}toString(){return this.snapshot.toString()}}function D6(n){const e=function Jpe(n){const o=new AT([],{},{},"",{},Ye,n,null,{});return new S6("",new Lo(o,[]))}(n),t=new hr([new Mp("",{})]),i=new hr({}),r=new hr({}),o=new hr({}),s=new hr(""),a=new tt(t,i,o,s,r,Ye,n,e.root);return a.snapshot=e.root,new M6(new Lo(a,[]),e)}class tt{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Fe(l=>l[Tp]))??xe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Fe(e=>Cd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Fe(e=>Cd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ST(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&k6(r)&&(i.resolve[Tp]=r.title),i}class AT{get title(){return this.data?.[Tp]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class S6 extends T6{constructor(e,t){super(t),this.url=e,kT(this,t)}toString(){return A6(this._root)}}function kT(n,e){e.value._routerState=n,e.children.forEach(t=>kT(n,t))}function A6(n){const e=n.children.length>0?` { ${n.children.map(A6).join(", ")} } `:"";return`${n.value}${e}`}function OT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ds(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ds(e.params,t.params)||n.paramsSubject.next(t.params),function mpe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ds(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ds(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function PT(n,e){const t=ds(n.params,e.params)&&function vpe(n,e){return ll(n,e)&&n.every((t,i)=>ds(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||PT(n.parent,e.parent))}function k6(n){return"string"==typeof n.title||null===n.title}let ul=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=J(Op),this.location=J(co),this.changeDetector=J(Wu),this.environmentInjector=J($r),this.inputBinder=J(Jy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ege(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=me({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ao]})}}return n})();class ege{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===tt?this.route:e===Op?this.childContexts:this.parent.get(e,t)}}const Jy=new X("");let O6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=By([i.queryParams,i.params,i.data]).pipe(Pr(([o,s,a],c)=>(a={...o,...s,...a},0===c?xe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function Xle(n){const e=et(n);if(!e)return null;const t=new Gf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function Pp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function nge(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Pp(n,i,r);return Pp(n,i)})}(n,e,t);return new Lo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pp(n,a)),s}}const i=function ige(n){return new tt(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Pp(n,o));return new Lo(i,r)}}const P6="ngNavigationCancelingError";function R6(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Td(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=N6(!1,go.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function N6(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[P6]=!0,t.cancellationCode=e,t}function F6(n){return!!n&&n[P6]}let L6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ce({type:n,selectors:[["ng-component"]],standalone:!0,features:[ho],decls:1,vars:0,template:function(i,r){1&i&&W(0,"router-outlet")},dependencies:[ul],encapsulation:2})}}return n})();function RT(n){const e=n.children&&n.children.map(RT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ye&&(t.component=L6),t}function fs(n){return n.outlet||Ye}function Rp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class dge{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),OT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Sd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Sd(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Sd(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Sd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Xpe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qpe(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(OT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),OT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Rp(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class V6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ev{constructor(e,t){this.component=e,this.route=t}}function hge(n,e,t){const i=n._root;return Np(i,e?e._root:null,t,[i.value])}function Ad(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function kJ(n){return null!==R_(n)}(n)?e.get(n):n:i}function Np(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Sd(e);return n.children.forEach(s=>{(function pge(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function gge(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ll(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ll(n.url,e.url)||!ds(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PT(n,e)||!ds(n.queryParams,e.queryParams);default:return!PT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new V6(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Np(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ev(a.outlet.component,s))}else s&&Fp(e,a,r),r.canActivateChecks.push(new V6(i)),Np(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fp(a,t.getContext(s),r)),r}function Fp(n,e,t){const i=Sd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Fp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ev(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Lp(n){return"function"==typeof n}function B6(n){return n instanceof Uy||"EmptyError"===n?.name}const tv=Symbol("INITIAL_VALUE");function kd(){return Pr(n=>By(n.map(e=>e.pipe(Kn(1),_T(tv)))).pipe(Fe(e=>{for(const t of e)if(!0!==t){if(t===tv)return tv;if(!1===t||t instanceof Ed)return t}return!0}),Rn(e=>e!==tv),Kn(1)))}function U6(n){return function kZ(...n){return xF(n)}(Nn(e=>{if(Td(e))throw R6(0,e)}),Fe(e=>!0===e))}class NT{constructor(e){this.segmentGroup=e||null}}class FT extends Error{constructor(e){super(),this.urlTree=e}}function Od(n){return wd(new NT(n))}class Rge{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return xe(i);if(r.numberOfChildren>1||!r.children[Ye])return wd(new z(4e3,!1));r=r.children[Ye]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new FT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Ed(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new zt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const LT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nge(n,e,t,i,r){const o=VT(n,e,t);return o.matched?(i=function oge(n,e){return n.providers&&!n._injector&&(n._injector=Vb(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function kge(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?xe(r.map(s=>{const a=Ad(s,n);return Ga(function wge(n){return n&&Lp(n.canMatch)}(a)?a.canMatch(e,t):Wc(n,()=>a(e,t)))})).pipe(kd(),U6()):xe(!0)}(i,e,t).pipe(Fe(s=>!0===s?o:{...LT}))):xe(o)}function VT(n,e,t){if("**"===e.path)return function Fge(n){return{matched:!0,parameters:n.length>0?s6(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...LT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||gpe)(t,n,e);if(!r)return{...LT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function z6(n,e,t,i){return t.length>0&&function Bge(n,e,t){return t.some(i=>nv(n,e,i)&&fs(i)!==Ye)}(n,t,i)?{segmentGroup:new zt(e,Vge(i,new zt(t,n.children))),slicedSegments:[]}:0===t.length&&function Uge(n,e,t){return t.some(i=>nv(n,e,i))}(n,t,i)?{segmentGroup:new zt(n.segments,Lge(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new zt(n.segments,n.children),slicedSegments:t}}function Lge(n,e,t,i){const r={};for(const o of t)if(nv(n,e,o)&&!i[fs(o)]){const s=new zt([],{});r[fs(o)]=s}return{...i,...r}}function Vge(n,e){const t={};t[Ye]=e;for(const i of n)if(""===i.path&&fs(i)!==Ye){const r=new zt([],{});t[fs(i)]=r}return t}function nv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Hge{}class qge{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Rge(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){const e=z6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Fe(t=>{const i=new AT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),r=new Lo(i,t),o=new S6("",r),s=function Npe(n,e,t=null,i=null){return b6(_6(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ye).pipe(cl(i=>{if(i instanceof FT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof NT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=ST(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(Fe(o=>o instanceof Lo?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return gi(r).pipe(xd(o=>{const s=i.children[o],a=function lge(n,e){const t=n.filter(i=>fs(i)===e);return t.push(...n.filter(i=>fs(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function hpe(n,e){return En(function dpe(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(mn(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),zy(null),function fpe(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Rn((r,o)=>n(r,o,i)):Ca,bT(1),t?zy(e):i6(()=>new Uy))}(),yi(o=>{if(null===o)return Od(i);const s=j6(o);return function Wge(n){n.sort((e,t)=>e.value.outlet===Ye?-1:t.value.outlet===Ye?1:e.value.outlet.localeCompare(t.value.outlet))}(s),xe(s)}))}processSegment(e,t,i,r,o,s){return gi(t).pipe(xd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(cl(c=>{if(c instanceof NT)return xe(null);throw c}))),al(a=>!!a),cl(a=>{if(B6(a))return function jge(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?xe(new Hge):Od(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function zge(n,e,t,i){return!!(fs(n)===i||i!==Ye&&nv(e,t,n))&&VT(e,n,t).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Od(r):Od(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=VT(t,r,o);if(!a)return Od(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(yi(h=>this.processSegment(e,i,t,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){const s=Nge(t,i,r,e);return"**"===i.path&&(t.children={}),s.pipe(Pr(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Pr(({routes:c})=>{const l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new AT(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Qge(n){return n.data||{}}(i),fs(i),i.component??i._loadedComponent??null,i,function Yge(n){return n.resolve||{}}(i)),{segmentGroup:y,slicedSegments:C}=z6(t,u,d,c);if(0===C.length&&y.hasChildren())return this.processChildren(l,c,y).pipe(Fe(k=>null===k?null:new Lo(f,k)));if(0===c.length&&0===C.length)return xe(new Lo(f,[]));const I=fs(i)===o;return this.processSegment(l,c,y,C,I?Ye:o,!0).pipe(Fe(k=>new Lo(f,k instanceof Lo?[k]:[])))})):Od(t)))}getChildConfig(e,t,i){return t.children?xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function Age(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?xe(!0):xe(r.map(s=>{const a=Ad(s,n);return Ga(function _ge(n){return n&&Lp(n.canLoad)}(a)?a.canLoad(e,t):Wc(n,()=>a(e,t)))})).pipe(kd(),U6())}(e,t,i).pipe(yi(r=>r?this.configLoader.loadChildren(e,t).pipe(Nn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Pge(n){return wd(N6(!1,go.GuardRejected))}())):xe({routes:[],injector:e})}}function Kge(n){const e=n.value.routeConfig;return e&&""===e.path}function j6(n){const e=[],t=new Set;for(const i of n){if(!Kge(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=j6(i.children);e.push(new Lo(i.value,r))}return e.filter(i=>!t.has(i))}function H6(n){const e=n.children.map(t=>H6(t)).flat();return[n,...e]}function BT(n){return Pr(e=>{const t=n(e);return t?gi(t).pipe(Fe(()=>e)):xe(e)})}let $6=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ye);return i}getResolvedTitleForRoute(t){return t.data[Tp]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(nme),providedIn:"root"})}}return n})(),nme=(()=>{class n extends $6{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(H(vhe))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Pd=new X("",{providedIn:"root",factory:()=>({})}),Rd=new X("");let UT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=J(pU)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ga(t.loadComponent()).pipe(Fe(G6),Nn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),jy(()=>{this.componentLoaders.delete(t)})),r=new mT(i,()=>new vt).pipe(gT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function ime(n,e,t,i){return Ga(n.loadChildren()).pipe(Fe(G6),yi(r=>r instanceof T5||Array.isArray(r)?xe(r):gi(e.compileModuleAsync(r))),Fe(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Rd,[],{optional:!0,self:!0}).flat()),{routes:s.map(RT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(jy(()=>{this.childrenLoaders.delete(i)})),s=new mT(o,()=>new vt).pipe(gT());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function G6(n){return function rme(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let zT=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(ome),providedIn:"root"})}}return n})(),ome=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const q6=new X(""),W6=new X("");function sme(n,e,t){const i=n.get(W6),r=n.get(dt);return n.get(Me).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),function ame(n){return new Promise(e=>{G4(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&Wc(n,()=>c({transition:a,from:e,to:t})),s})}let iv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=J(UT),this.environmentInjector=J($r),this.urlSerializer=J(Id),this.rootContexts=J(Op),this.location=J(pi),this.inputBindingEnabled=null!==J(Jy,{optional:!0}),this.titleStrategy=J($6),this.options=J(Pd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=J(zT),this.createViewTransition=J(q6,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Wpe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new qpe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new hr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rn(o=>0!==o.id),Fe(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pr(o=>{this.currentTransition=o;let s=!1,a=!1;return xe(o).pipe(Nn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pr(c=>{const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Dd(c.id,this.urlSerializer.serialize(c.rawUrl),d,Xy.IgnoredSameUrlNavigation)),c.resolve(null),us}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return xe(c).pipe(Pr(d=>{const h=this.transitions?.getValue();return this.events.next(new Yy(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?us:Promise.resolve(d)}),function Xge(n,e,t,i,r,o){return yi(s=>function $ge(n,e,t,i,r,o,s="emptyOnly"){return new qge(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Fe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Nn(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new E6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:y,extras:C}=c,I=new Yy(d,this.urlSerializer.serialize(h),f,y);this.events.next(I);const k=D6(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:k,urlAfterRedirects:h,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,xe(o)}{const d="";return this.events.next(new Dd(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Xy.IgnoredByUrlHandlingStrategy)),c.resolve(null),us}}),Nn(c=>{const l=new jpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Fe(c=>(this.currentTransition=o={...c,guards:hge(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function xge(n,e){return yi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?xe({...t,guardsResult:!0}):function Cge(n,e,t,i){return gi(n).pipe(yi(r=>function Sge(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xe(o.map(a=>{const c=Rp(e)??r,l=Ad(a,c);return Ga(function vge(n){return n&&Lp(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):Wc(c,()=>l(n,e,t,i))).pipe(al())})).pipe(kd()):xe(!0)}(r.component,r.route,t,e,i)),al(r=>!0!==r,!0))}(s,i,r,n).pipe(yi(a=>a&&function mge(n){return"boolean"==typeof n}(a)?function Ege(n,e,t,i){return gi(e).pipe(xd(r=>vd(function Tge(n,e){return null!==n&&e&&e(new Kpe(n)),xe(!0)}(r.route.parent,i),function Ige(n,e){return null!==n&&e&&e(new Ype(n)),xe(!0)}(r.route,i),function Dge(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function fge(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Ip(()=>xe(s.guards.map(c=>{const l=Rp(s.node)??t,u=Ad(c,l);return Ga(function yge(n){return n&&Lp(n.canActivateChild)}(u)?u.canActivateChild(i,n):Wc(l,()=>u(i,n))).pipe(al())})).pipe(kd())));return xe(o).pipe(kd())}(n,r.path,t),function Mge(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return xe(!0);const r=i.map(o=>Ip(()=>{const s=Rp(e)??t,a=Ad(o,s);return Ga(function bge(n){return n&&Lp(n.canActivate)}(a)?a.canActivate(e,n):Wc(s,()=>a(e,n))).pipe(al())}));return xe(r).pipe(kd())}(n,r.route,t))),al(r=>!0!==r,!0))}(i,o,n,e):xe(a)),Fe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Nn(c=>{if(o.guardsResult=c.guardsResult,Td(c.guardsResult))throw R6(0,c.guardsResult);const l=new Hpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Rn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",go.GuardRejected),!1)),BT(c=>{if(c.guards.canActivateChecks.length)return xe(c).pipe(Nn(l=>{const u=new $pe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Pr(l=>{let u=!1;return xe(l).pipe(function Zge(n,e){return yi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return xe(t);const o=new Set(r.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of H6(c))s.add(l);let a=0;return gi(s).pipe(xd(c=>o.has(c)?function Jge(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!k6(r)&&(o[Tp]=r.title),function eme(n,e,t,i){const r=yT(n);if(0===r.length)return xe({});const o={};return gi(r).pipe(yi(s=>function tme(n,e,t,i){const r=Rp(e)??i,o=Ad(n,r);return Ga(o.resolve?o.resolve(e,t):Wc(r,()=>o(e,t)))}(n[s],e,t,i).pipe(al(),Nn(a=>{o[s]=a}))),bT(1),r6(o),cl(s=>B6(s)?us:wd(s)))}(o,n,e,i).pipe(Fe(s=>(n._resolvedData=s,n.data=ST(n,n.parent,t).resolve,null)))}(c,i,n,e):(c.data=ST(c,c.parent,n).resolve,xe(void 0))),Nn(()=>a++),bT(1),yi(c=>a===s.size?xe(t):us))})}(this.paramsInheritanceStrategy,this.environmentInjector),Nn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",go.NoDataFromResolver)}}))}),Nn(l=>{const u=new Gpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),BT(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Nn(h=>{u.component=h}),Fe(()=>{})));for(const h of u.children)d.push(...l(h));return d};return By(l(c.targetSnapshot.root)).pipe(zy(null),Kn(1))}),BT(()=>this.afterPreactivation()),Pr(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?gi(u).pipe(Fe(()=>o)):xe(o)}),Fe(c=>{const l=function tge(n,e,t){const i=Pp(n,e._root,t?t._root:void 0);return new M6(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),Nn(()=>{this.events.next(new IT)}),((n,e,t,i)=>Fe(r=>(new dge(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Kn(1),Nn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ys(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Hy(this.transitionAbortSubject.pipe(Nn(c=>{throw c}))),jy(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",go.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cl(c=>{if(a=!0,F6(c))this.events.next(new Md(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function rge(n){return F6(n)&&Td(n.url)}(c)?this.events.next(new TT(c.url)):o.resolve(!1);else{this.events.next(new Zy(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return us}))}))}cancelNavigationTransition(t,i,r){const o=new Md(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cme(n){return n!==kp}let lme=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(dme),providedIn:"root"})}}return n})();class ume{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let dme=(()=>{class n extends ume{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),K6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(hme),providedIn:"root"})}}return n})(),hme=(()=>{class n extends K6{constructor(){super(...arguments),this.location=J(pi),this.urlSerializer=J(Id),this.options=J(Pd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=J(zT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ed,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=D6(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Yy)this.stateMemento=this.createStateMemento();else if(t instanceof Dd)this.rawUrlTree=i.initialUrl;else if(t instanceof E6){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof IT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Md&&(t.code===go.GuardRejected||t.code===go.NoDataFromResolver)?this.restoreHistory(i):t instanceof Zy?this.restoreHistory(i,!0):t instanceof Ys&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Vp||{});function Q6(n,e){n.events.pipe(Rn(t=>t instanceof Ys||t instanceof Md||t instanceof Zy||t instanceof Dd),Fe(t=>t instanceof Ys||t instanceof Dd?Vp.COMPLETE:t instanceof Md&&(t.code===go.Redirect||t.code===go.SupersededByNewNavigation)?Vp.REDIRECTING:Vp.FAILED),Rn(t=>t!==Vp.REDIRECTING),Kn(1)).subscribe(()=>{e()})}function fme(n){throw n}const pme={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gme={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Se=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=J(rU),this.stateManager=J(K6),this.options=J(Pd,{optional:!0})||{},this.pendingTasks=J(Wf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=J(iv),this.urlSerializer=J(Id),this.location=J(pi),this.urlHandlingStrategy=J(zT),this._events=new vt,this.errorHandler=this.options.errorHandler||fme,this.navigated=!1,this.routeReuseStrategy=J(lme),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=J(Rd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!J(Jy,{optional:!0}),this.eventsSubscription=new ai,this.isNgZoneEnabled=J(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Md&&i.code!==go.Redirect&&i.code!==go.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ys)this.navigated=!0;else if(i instanceof TT){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cme(r.source)};this.scheduleNavigation(s,kp,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function _me(n){return!(n instanceof IT||n instanceof TT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(RT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=_6(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return b6(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Td(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,kp,null,i)}navigate(t,i={skipLocationChange:!1}){return function mme(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new z(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...pme}:!1===i?{...gme}:i,Td(t))return c6(this.currentUrlTree,t,r);const o=this.parseUrl(t);return c6(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return Q6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Y6{}let vme=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(t=>t instanceof Ys),xd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Vb(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return gi(r).pipe(yd())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):xe(null);const o=r.pipe(yi(s=>null===s?xe(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?gi([o,this.loader.loadComponent(i)]).pipe(yd()):o})}static{this.\u0275fac=function(i){return new(i||n)(H(Se),H(pU),H($r),H(Y6),H(UT))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const HT=new X("");let X6=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ys?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dd&&t.code===Xy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof I6&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new I6(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){TE()}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function ps(n,e){return{\u0275kind:n,\u0275providers:e}}function J6(){const n=J(Ht);return e=>{const t=n.get(ss);if(e!==t.components[0])return;const i=n.get(Se),r=n.get(e9);1===n.get($T)&&i.initialNavigation(),n.get(t9,null,at.Optional)?.setUpPreloading(),n.get(HT,null,at.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const e9=new X("",{factory:()=>new vt}),$T=new X("",{providedIn:"root",factory:()=>1}),t9=new X("");function Eme(n){return ps(0,[{provide:t9,useExisting:vme},{provide:Y6,useExisting:n}])}function Tme(n){return ps(9,[{provide:q6,useValue:sme},{provide:W6,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const n9=new X("ROUTER_FORROOT_GUARD"),Mme=[pi,{provide:Id,useClass:vT},Se,Op,{provide:tt,useFactory:function Z6(n){return n.routerState.root},deps:[Se]},UT,[]];let Rr=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Mme,[],{provide:Rd,multi:!0,useValue:t},{provide:n9,useFactory:kme,deps:[[Se,new Jt,new xf]]},{provide:Pd,useValue:i||{}},i?.useHash?{provide:Ba,useClass:XU}:{provide:Ba,useClass:YU},{provide:HT,useFactory:()=>{const n=J(vde),e=J(Me),t=J(Pd),i=J(iv),r=J(Id);return t.scrollOffset&&n.setOffset(t.scrollOffset),new X6(r,i,n,e,t)}},i?.preloadingStrategy?Eme(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Ome(i):[],i?.bindToComponentInputs?ps(8,[O6,{provide:Jy,useExisting:O6}]).\u0275providers:[],i?.enableViewTransitions?Tme().\u0275providers:[],[{provide:i9,useFactory:J6},{provide:nI,multi:!0,useExisting:i9}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Rd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(H(n9,8))}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})();function kme(n){return"guarded"}function Ome(n){return["disabled"===n.initialNavigation?ps(3,[{provide:lp,multi:!0,useFactory:()=>{const e=J(Se);return()=>{e.setUpLocationChangeListener()}}},{provide:$T,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ps(2,[{provide:$T,useValue:0},{provide:lp,multi:!0,deps:[Ht],useFactory:e=>{const t=e.get(eue,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Se),o=e.get(e9);Q6(r,()=>{i(!0)}),e.get(iv).afterPreactivation=()=>(i(!0),o.closed?xe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const i9=new X(""),se=function(n,e){if(!n)throw Nd(e)},Nd=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},r9=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(r9(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const l=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==d)throw new Nme;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==d&&i.push(l<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Nme extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o9=function(n){const e=r9(n);return rv.encodeByteArray(e,!0)},ov=function(n){return o9(n).replace(/\./g,"")},sv=function(n){try{return rv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fme(n){return s9(void 0,n)}function s9(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Lme(t)||(n[t]=s9(n[t],e[t]));return n}function Lme(n){return"__proto__"!==n}const av=()=>{try{return function Vme(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&sv(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},a9=n=>{var e,t;return null===(t=null===(e=av())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},qT=n=>{const e=a9(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},c9=()=>{var n;return null===(n=av())||void 0===n?void 0:n.config},l9=n=>{var e;return null===(e=av())||void 0===e?void 0:e[`_${n}`]};class Fd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function u9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ov(JSON.stringify({alg:"none",type:"JWT"})),ov(JSON.stringify(s)),""].join(".")}function Qn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function WT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function KT(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function d9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qa(){try{return"object"==typeof indexedDB}catch{return!1}}function Bp(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function QT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Yr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gs.prototype.create)}}class gs{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function qme(n,e){return n.replace(Wme,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new Yr(r,`${this.serviceName}: ${s} (${r}).`,i)}}const Wme=/\{\$([^}]+)}/g;function Up(n){return JSON.parse(n)}function Vi(n){return JSON.stringify(n)}const cv=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=Up(sv(o[0])||""),t=Up(sv(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function ms(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ld(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function YT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lv(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function uv(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(h9(o)&&h9(s)){if(!uv(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function h9(n){return null!==n&&"object"==typeof n}function Vd(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function jp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Yme{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let l,u,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+l+c+u+i[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class Zme{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function Jme(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=XT),void 0===r.error&&(r.error=XT),void 0===r.complete&&(r.complete=XT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XT(){}const dv=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},t_e=1e3,n_e=2,i_e=144e5,r_e=.5;function ZT(n,e=t_e,t=n_e){const i=e*Math.pow(t,n),r=Math.round(r_e*i*(Math.random()-.5)*2);return Math.min(i_e,i+r)}function Gt(n){return n&&n._delegate?n._delegate:n}class vi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const dl="[DEFAULT]";class s_e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Fd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function c_e(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=dl){return this.instances.has(e)}getOptions(e=dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===dl?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=dl){return this.component?this.component.multipleInstances?e:dl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s_e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const JT=[];var mt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(mt||{});const f9={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},u_e=mt.INFO,d_e={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},h_e=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=d_e[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class hl{constructor(e){this.name=e,this._logLevel=u_e,this._logHandler=h_e,this._userLogHandler=null,JT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?f9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const f_e=(n,e)=>e.some(t=>n instanceof t);let p9,g9;const m9=new WeakMap,eM=new WeakMap,_9=new WeakMap,tM=new WeakMap,nM=new WeakMap;let iM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return eM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||_9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wa(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function v_e(n){return"function"==typeof n?function y_e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function g_e(){return g9||(g9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(rM(this),e),Wa(m9.get(this))}:function(...e){return Wa(n.apply(rM(this),e))}:function(e,...t){const i=n.call(rM(this),e,...t);return _9.set(i,e.sort?e.sort():[e]),Wa(i)}}(n):(n instanceof IDBTransaction&&function __e(n){if(eM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});eM.set(n,e)}(n),f_e(n,function p_e(){return p9||(p9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,iM):n)}function Wa(n){if(n instanceof IDBRequest)return function m_e(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Wa(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&m9.set(t,n)}).catch(()=>{}),nM.set(e,n),e}(n);if(tM.has(n))return tM.get(n);const e=v_e(n);return e!==n&&(tM.set(n,e),nM.set(e,n)),e}const rM=n=>nM.get(n),x_e=["get","getKey","getAll","getAllKeys","count"],C_e=["put","add","delete","clear"],oM=new Map;function b9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(oM.get(e))return oM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=C_e.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!x_e.includes(t))return;const o=function(){var s=m(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return oM.set(e,o),o}!function b_e(n){iM=n(iM)}(n=>({...n,get:(e,t,i)=>b9(e,t)||n.get(e,t,i),has:(e,t)=>!!b9(e,t)||n.has(e,t)}));class E_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function I_e(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const sM="@firebase/app",fl=new hl("@firebase/app"),hv="[DEFAULT]",X_e={[sM]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pl=new Map,fv=new Map;function Z_e(n,e){try{n.container.addComponent(e)}catch(t){fl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bi(n){const e=n.name;if(fv.has(e))return fl.debug(`There were multiple attempts to register component ${e}.`),!1;fv.set(e,n);for(const t of pl.values())Z_e(t,n);return!0}function Ka(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Zs=new gs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ebe{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const Qa="9.23.0";function v9(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:hv,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw Zs.create("bad-app-name",{appName:String(r)});if(t||(t=c9()),!t)throw Zs.create("no-options");const o=pl.get(r);if(o){if(uv(t,o.options)&&uv(i,o.config))return o;throw Zs.create("duplicate-app",{appName:r})}const s=new l_e(r);for(const c of fv.values())s.addComponent(c);const a=new ebe(t,i,s);return pl.set(r,a),a}function $p(n=hv){const e=pl.get(n);if(!e&&n===hv&&c9())return v9();if(!e)throw Zs.create("no-app",{appName:n});return e}function w9(){return Array.from(pl.values())}function jt(n,e,t){var i;let r=null!==(i=X_e[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void fl.warn(a.join(" "))}Bi(new vi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const tbe="firebase-heartbeat-database",nbe=1,Gp="firebase-heartbeat-store";let cM=null;function x9(){return cM||(cM=function w_e(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Wa(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Wa(s.result),c.oldVersion,c.newVersion,Wa(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(tbe,nbe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Gp)}}).catch(n=>{throw Zs.create("idb-open",{originalErrorMessage:n.message})})),cM}function lM(){return(lM=m(function*(n){try{return yield(yield x9()).transaction(Gp).objectStore(Gp).get(E9(n))}catch(e){if(e instanceof Yr)fl.warn(e.message);else{const t=Zs.create("idb-get",{originalErrorMessage:e?.message});fl.warn(t.message)}}})).apply(this,arguments)}function C9(n,e){return uM.apply(this,arguments)}function uM(){return(uM=m(function*(n,e){try{const i=(yield x9()).transaction(Gp,"readwrite");yield i.objectStore(Gp).put(e,E9(n)),yield i.done}catch(t){if(t instanceof Yr)fl.warn(t.message);else{const i=Zs.create("idb-set",{originalErrorMessage:t?.message});fl.warn(i.message)}}})).apply(this,arguments)}function E9(n){return`${n.name}!${n.options.appId}`}class sbe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cbe(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return m(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=I9(),{heartbeatsToSend:i,unsentEntries:r}=function abe(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),T9(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),T9(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=ov(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function I9(){return(new Date).toISOString().substring(0,10)}class cbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!qa()&&Bp().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ibe(n){return lM.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return C9(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return C9(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function T9(n){return ov(JSON.stringify({version:2,heartbeats:n})).length}!function lbe(n){Bi(new vi("platform-logger",e=>new E_e(e),"PRIVATE")),Bi(new vi("heartbeat",e=>new sbe(e),"PRIVATE")),jt(sM,"0.9.13",n),jt(sM,"0.9.13","esm2017"),jt("fire-js","")}(""),jt("firebase","9.23.0","app");const hbe=(n,e)=>e.some(t=>n instanceof t);let M9,D9;const S9=new WeakMap,dM=new WeakMap,A9=new WeakMap,hM=new WeakMap,fM=new WeakMap;let pM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return dM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||A9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ya(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ybe(n){return"function"==typeof n?function bbe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pbe(){return D9||(D9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(gM(this),e),Ya(S9.get(this))}:function(...e){return Ya(n.apply(gM(this),e))}:function(e,...t){const i=n.call(gM(this),e,...t);return A9.set(i,e.sort?e.sort():[e]),Ya(i)}}(n):(n instanceof IDBTransaction&&function mbe(n){if(dM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});dM.set(n,e)}(n),hbe(n,function fbe(){return M9||(M9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,pM):n)}function Ya(n){if(n instanceof IDBRequest)return function gbe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ya(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&S9.set(t,n)}).catch(()=>{}),fM.set(e,n),e}(n);if(hM.has(n))return hM.get(n);const e=ybe(n);return e!==n&&(hM.set(n,e),fM.set(e,n)),e}const gM=n=>fM.get(n),wbe=["get","getKey","getAll","getAllKeys","count"],xbe=["put","add","delete","clear"],mM=new Map;function k9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(mM.get(e))return mM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=xbe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!wbe.includes(t))return;const o=function(){var s=m(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return mM.set(e,o),o}!function _be(n){pM=n(pM)}(n=>({...n,get:(e,t,i)=>k9(e,t)||n.get(e,t,i),has:(e,t)=>!!k9(e,t)||n.has(e,t)}));const O9="@firebase/installations",_M="0.6.4",P9=1e4,R9=`w:${_M}`,N9="FIS_v2",Cbe="https://firebaseinstallations.googleapis.com/v1",Ebe=36e5,Js=new gs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function F9(n){return n instanceof Yr&&n.code.includes("request-failed")}function bM({projectId:n}){return`${Cbe}/projects/${n}/installations`}function L9(n){return{token:n.token,requestStatus:2,expiresIn:Dbe(n.expiresIn),creationTime:Date.now()}}function yM(n,e){return vM.apply(this,arguments)}function vM(){return(vM=m(function*(n,e){const i=(yield e.json()).error;return Js.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function V9({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function wM(n){return xM.apply(this,arguments)}function xM(){return(xM=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Dbe(n){return Number(n.replace("s","000"))}function CM(){return(CM=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=bM(n),r=V9(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:N9,appId:n.appId,sdkVersion:R9})},c=yield wM(()=>fetch(i,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:L9(l.authToken)}}throw yield yM("Create Installation",c)})).apply(this,arguments)}function U9(n){return new Promise(e=>{setTimeout(e,n)})}const Obe=/^[cdef][\w-]{21}$/,EM="";function Pbe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Rbe(n){return function kbe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Obe.test(t)?t:EM}catch{return EM}}function Bd(n){return`${n.appName}!${n.appId}`}const Ud=new Map;function z9(n,e){const t=Bd(n);j9(t,e),function Lbe(n,e){const t=function H9(){return!gl&&"BroadcastChannel"in self&&(gl=new BroadcastChannel("[Firebase] FID Change"),gl.onmessage=n=>{j9(n.data.key,n.data.fid)}),gl}();t&&t.postMessage({key:n,fid:e}),function $9(){0===Ud.size&&gl&&(gl.close(),gl=null)}()}(t,e)}function j9(n,e){const t=Ud.get(n);if(t)for(const i of t)i(e)}let gl=null;const Vbe="firebase-installations-database",Bbe=1,ml="firebase-installations-store";let IM=null;function TM(){return IM||(IM=function vbe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Ya(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Ya(s.result),c.oldVersion,c.newVersion,Ya(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(Vbe,Bbe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ml)}})),IM}function pv(n,e){return MM.apply(this,arguments)}function MM(){return(MM=m(function*(n,e){const t=Bd(n),r=(yield TM()).transaction(ml,"readwrite"),o=r.objectStore(ml),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&z9(n,e.fid),e})).apply(this,arguments)}function DM(n){return SM.apply(this,arguments)}function SM(){return(SM=m(function*(n){const e=Bd(n),i=(yield TM()).transaction(ml,"readwrite");yield i.objectStore(ml).delete(e),yield i.done})).apply(this,arguments)}function qp(n,e){return AM.apply(this,arguments)}function AM(){return(AM=m(function*(n,e){const t=Bd(n),r=(yield TM()).transaction(ml,"readwrite"),o=r.objectStore(ml),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&z9(n,a.fid),a})).apply(this,arguments)}function kM(n){return OM.apply(this,arguments)}function OM(){return OM=m(function*(n){let e;const t=yield qp(n.appConfig,i=>{const r=function Ube(n){return q9(n||{fid:Pbe(),registrationStatus:0})}(i),o=function zbe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Js.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function jbe(n,e){return PM.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Hbe(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===EM?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),OM.apply(this,arguments)}function PM(){return PM=m(function*(n,e){try{const t=yield function Abe(n,e){return CM.apply(this,arguments)}(n,e);return pv(n.appConfig,t)}catch(t){throw F9(t)&&409===t.customData.serverCode?yield DM(n.appConfig):yield pv(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),PM.apply(this,arguments)}function Hbe(n){return RM.apply(this,arguments)}function RM(){return(RM=m(function*(n){let e=yield G9(n.appConfig);for(;1===e.registrationStatus;)yield U9(100),e=yield G9(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield kM(n);return i||t}return e})).apply(this,arguments)}function G9(n){return qp(n,e=>{if(!e)throw Js.create("installation-not-found");return q9(e)})}function q9(n){return function $be(n){return 1===n.registrationStatus&&n.registrationTime+P9<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function NM(){return(NM=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function qbe(n,{fid:e}){return`${bM(n)}/${e}/authTokens:generate`}(n,t),r=function B9(n,{refreshToken:e}){const t=V9(n);return t.append("Authorization",function Sbe(n){return`${N9} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:R9,appId:n.appId}})},c=yield wM(()=>fetch(i,a));if(c.ok)return L9(yield c.json());throw yield yM("Generate Auth Token",c)})).apply(this,arguments)}function FM(n){return LM.apply(this,arguments)}function LM(){return LM=m(function*(n,e=!1){let t;const i=yield qp(n.appConfig,o=>{if(!K9(o))throw Js.create("not-registered");const s=o.authToken;if(!e&&function Qbe(n){return 2===n.requestStatus&&!function Ybe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Ebe}(n)}(s))return o;if(1===s.requestStatus)return t=function Wbe(n,e){return VM.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Js.create("app-offline");const a=function Xbe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function Kbe(n,e){return BM.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),LM.apply(this,arguments)}function VM(){return(VM=m(function*(n,e){let t=yield W9(n.appConfig);for(;1===t.authToken.requestStatus;)yield U9(100),t=yield W9(n.appConfig);const i=t.authToken;return 0===i.requestStatus?FM(n,e):i})).apply(this,arguments)}function W9(n){return qp(n,e=>{if(!K9(e))throw Js.create("not-registered");return function Zbe(n){return 1===n.requestStatus&&n.requestTime+P9<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function BM(){return BM=m(function*(n,e){try{const t=yield function Gbe(n,e){return NM.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield pv(n.appConfig,i),t}catch(t){if(!F9(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield pv(n.appConfig,i)}else yield DM(n.appConfig);throw t}}),BM.apply(this,arguments)}function K9(n){return void 0!==n&&2===n.registrationStatus}function UM(){return(UM=m(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield kM(e);return i?i.catch(console.error):FM(e).catch(console.error),t.fid})).apply(this,arguments)}function zM(){return zM=m(function*(n,e=!1){const t=n;return yield function tye(n){return jM.apply(this,arguments)}(t),(yield FM(t,e)).token}),zM.apply(this,arguments)}function jM(){return(jM=m(function*(n){const{registrationPromise:e}=yield kM(n);e&&(yield e)})).apply(this,arguments)}function GM(n){return Js.create("missing-app-config-values",{valueName:n})}const Q9="installations",sye=n=>{const e=n.getProvider("app").getImmediate(),t=function rye(n){if(!n||!n.options)throw GM("App Configuration");if(!n.name)throw GM("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw GM(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ka(e,"heartbeat"),_delete:()=>Promise.resolve()}},aye=n=>{const t=Ka(n.getProvider("app").getImmediate(),Q9).getImmediate();return{getId:()=>function Jbe(n){return UM.apply(this,arguments)}(t),getToken:r=>function eye(n){return zM.apply(this,arguments)}(t,r)}};(function cye(){Bi(new vi(Q9,sye,"PUBLIC")),Bi(new vi("installations-internal",aye,"PRIVATE"))})(),jt(O9,_M),jt(O9,_M,"esm2017");const qM="@firebase/remote-config",Nr=new gs("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yye{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return m(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function vye(n=navigator){return n.languages&&n.languages[0]||n.language}class wye{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return m(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:vye()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((k,D)=>{e.signal.addEventListener(()=>{const B=new Error("The operation was aborted.");B.name="AbortError",D(B)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(k){let D="fetch-client-network";throw"AbortError"===k?.name&&(D="fetch-timeout"),Nr.create(D,{originalErrorMessage:k?.message})}let f=h.status;const y=h.headers.get("ETag")||void 0;let C,I;if(200===h.status){let k;try{k=yield h.json()}catch(D){throw Nr.create("fetch-client-parse",{originalErrorMessage:D?.message})}C=k.entries,I=k.state}if("INSTANCE_STATE_UNSPECIFIED"===I?f=500:"NO_CHANGE"===I?f=304:("NO_TEMPLATE"===I||"EMPTY_CONFIG"===I)&&(C={}),304!==f&&200!==f)throw Nr.create("fetch-status",{httpStatus:f});return{status:f,eTag:y,config:C}})()}}class Eye{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return m(function*(){yield function xye(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function Cye(n){if(!(n instanceof Yr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+ZT(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class Mye{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mv(n,e){const t=n.target.error||void 0;return Nr.create(e,{originalErrorMessage:t&&t?.message})}const _l="app_namespace_store";class kye{constructor(e,t,i,r=function Aye(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(mv(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_l,{keyPath:"compositeKey"})}}catch(t){e(Nr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([_l],"readonly").objectStore(_l),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(mv(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(l){o(Nr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var i=this;return m(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const c=r.transaction([_l],"readwrite").objectStore(_l),l=i.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(mv(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(Nr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return m(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([_l],"readwrite").objectStore(_l),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(mv(u,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){o(Nr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Oye{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Rye(){return XM.apply(this,arguments)}function XM(){return(XM=m(function*(){if(!qa())return!1;try{return yield Bp()}catch{return!1}})).apply(this,arguments)}!function Pye(){Bi(new vi("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nr.create("registration-window");if(!qa())throw Nr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw Nr.create("registration-project-id");if(!s)throw Nr.create("registration-api-key");if(!a)throw Nr.create("registration-app-id");const c=new kye(a,i.name,t=t||"firebase"),l=new Oye(c),u=new hl(qM);u.logLevel=mt.ERROR;const d=new wye(r,Qa,t,o,s,a),h=new Eye(d,c),f=new yye(h,c,l,u),y=new Mye(i,f,l,c,u);return function mye(n){const e=Gt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),jt(qM,"0.4.4"),jt(qM,"0.4.4","esm2017")}();const Nye=(n,e)=>e.some(t=>n instanceof t);let J9,e7;const t7=new WeakMap,ZM=new WeakMap,n7=new WeakMap,JM=new WeakMap,eD=new WeakMap;let tD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return ZM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||n7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function jye(n){return"function"==typeof n?function zye(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Lye(){return e7||(e7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(nD(this),e),ea(t7.get(this))}:function(...e){return ea(n.apply(nD(this),e))}:function(e,...t){const i=n.call(nD(this),e,...t);return n7.set(i,e.sort?e.sort():[e]),ea(i)}}(n):(n instanceof IDBTransaction&&function Bye(n){if(ZM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ZM.set(n,e)}(n),Nye(n,function Fye(){return J9||(J9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,tD):n)}function ea(n){if(n instanceof IDBRequest)return function Vye(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ea(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&t7.set(t,n)}).catch(()=>{}),eD.set(e,n),e}(n);if(JM.has(n))return JM.get(n);const e=jye(n);return e!==n&&(JM.set(n,e),eD.set(e,n)),e}const nD=n=>eD.get(n);function i7(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=ea(s);return i&&s.addEventListener("upgradeneeded",c=>{i(ea(s.result),c.oldVersion,c.newVersion,ea(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function iD(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ea(t).then(()=>{})}const Hye=["get","getKey","getAll","getAllKeys","count"],$ye=["put","add","delete","clear"],rD=new Map;function r7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(rD.get(e))return rD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=$ye.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Hye.includes(t))return;const o=function(){var s=m(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return rD.set(e,o),o}!function Uye(n){tD=n(tD)}(n=>({...n,get:(e,t,i)=>r7(e,t)||n.get(e,t,i),has:(e,t)=>!!r7(e,t)||n.has(e,t)}));const Gye="/firebase-messaging-sw.js",qye="/firebase-cloud-messaging-push-scope",o7="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wye="https://fcmregistrations.googleapis.com/v1",s7="google.c.a.c_id",Kye="google.c.a.c_l",Qye="google.c.a.ts";var _v=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(_v||{});function ta(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zye(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const oD="fcm_token_details_db",Jye=5,a7="fcm_token_object_Store";function sD(){return sD=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(oD))return null;let e=null;return(yield i7(oD,Jye,{upgrade:(i=m(function*(r,o,s,a){var c;if(o<2||!r.objectStoreNames.contains(a7))return;const l=a.objectStore(a7),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ta(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ta(d.auth),p256dh:ta(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ta(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ta(d.auth),p256dh:ta(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ta(d.vapidKey)}}}}),function(o,s,a,c){return i.apply(this,arguments)})})).close(),yield iD(oD),yield iD("fcm_vapid_details_db"),yield iD("undefined"),function tve(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),sD.apply(this,arguments)}const nve="firebase-messaging-database",ive=1,bl="firebase-messaging-store";let aD=null;function cD(){return aD||(aD=i7(nve,ive,{upgrade:(n,e)=>{0===e&&n.createObjectStore(bl)}})),aD}function c7(n){return lD.apply(this,arguments)}function lD(){return lD=m(function*(n){const e=fD(n),i=yield(yield cD()).transaction(bl).objectStore(bl).get(e);if(i)return i;{const r=yield function eve(n){return sD.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield uD(n,r),r}}),lD.apply(this,arguments)}function uD(n,e){return dD.apply(this,arguments)}function dD(){return(dD=m(function*(n,e){const t=fD(n),r=(yield cD()).transaction(bl,"readwrite");return yield r.objectStore(bl).put(e,t),yield r.done,e})).apply(this,arguments)}function hD(){return(hD=m(function*(n){const e=fD(n),i=(yield cD()).transaction(bl,"readwrite");yield i.objectStore(bl).delete(e),yield i.done})).apply(this,arguments)}function fD({appConfig:n}){return n.appId}const Ui=new gs("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sve(n,e){return pD.apply(this,arguments)}function pD(){return(pD=m(function*(n,e){const t=yield bD(n),i=u7(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(_D(n.appConfig),r)).json()}catch(s){throw Ui.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Ui.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Ui.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function gD(){return(gD=m(function*(n,e){const t=yield bD(n),i=u7(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${_D(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw Ui.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Ui.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Ui.create("token-update-no-token");return o.token})).apply(this,arguments)}function l7(n,e){return mD.apply(this,arguments)}function mD(){return(mD=m(function*(n,e){const i={method:"DELETE",headers:yield bD(n)};try{const o=yield(yield fetch(`${_D(n.appConfig)}/${e}`,i)).json();if(o.error)throw Ui.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw Ui.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function _D({projectId:n}){return`${Wye}/projects/${n}/registrations`}function bD(n){return yD.apply(this,arguments)}function yD(){return(yD=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function u7({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==o7&&(r.web.applicationPubKey=i),r}const cve=6048e5;function vD(){return vD=m(function*(n){const e=yield function dve(n,e){return ED.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ta(e.getKey("auth")),p256dh:ta(e.getKey("p256dh"))},i=yield c7(n.firebaseDependencies);if(i){if(function hve(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+cve?function uve(n,e){return xD.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield l7(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return h7(n.firebaseDependencies,t)}return h7(n.firebaseDependencies,t)}),vD.apply(this,arguments)}function wD(){return wD=m(function*(n){const e=yield c7(n.firebaseDependencies);e&&(yield l7(n.firebaseDependencies,e.token),yield function rve(n){return hD.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),wD.apply(this,arguments)}function xD(){return xD=m(function*(n,e){try{const t=yield function ave(n,e){return gD.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield uD(n.firebaseDependencies,i),t}catch(t){throw yield function d7(n){return wD.apply(this,arguments)}(n),t}}),xD.apply(this,arguments)}function h7(n,e){return CD.apply(this,arguments)}function CD(){return(CD=m(function*(n,e){const i={token:yield sve(n,e),createTime:Date.now(),subscriptionOptions:e};return yield uD(n,i),i.token})).apply(this,arguments)}function ED(){return(ED=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zye(e)})})).apply(this,arguments)}function f7(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function fve(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function pve(n,e){e.data&&(n.data=e.data)}(e,n),function gve(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function p7(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function ID(n){return Ui.create("missing-app-config-values",{valueName:n})}p7("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),p7("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bve{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function _ve(n){if(!n||!n.options)throw ID("App Configuration Object");if(!n.name)throw ID("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw ID(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function TD(){return(TD=m(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Gye,{scope:qye}),n.swRegistration.update().catch(()=>{})}catch(e){throw Ui.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function MD(){return(MD=m(function*(n,e){if(!e&&!n.swRegistration&&(yield function g7(n){return TD.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ui.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function DD(){return(DD=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=o7)})).apply(this,arguments)}function SD(){return SD=m(function*(n,e){if(!navigator)throw Ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ui.create("permission-blocked");return yield function vve(n,e){return DD.apply(this,arguments)}(n,e?.vapidKey),yield function yve(n,e){return MD.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function lve(n){return vD.apply(this,arguments)}(n)}),SD.apply(this,arguments)}function AD(){return(AD=m(function*(n,e,t){const i=function xve(n){switch(n){case _v.NOTIFICATION_CLICKED:return"notification_open";case _v.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[s7],message_name:t[Kye],message_time:t[Qye],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function kD(){return kD=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===_v.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(f7(t)):n.onMessageHandler.next(f7(t)));const i=t.data;(function mve(n){return"object"==typeof n&&!!n&&s7 in n})(i)&&"1"===i["google.c.a.e"]&&(yield function wve(n,e,t){return AD.apply(this,arguments)}(n,t.messageType,i))}),kD.apply(this,arguments)}const _7="@firebase/messaging",Eve=n=>{const e=new bve(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Cve(n,e){return kD.apply(this,arguments)}(e,t)),e},Ive=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function m7(n,e){return SD.apply(this,arguments)}(e,i)}};function y7(){return OD.apply(this,arguments)}function OD(){return(OD=m(function*(){try{yield Bp()}catch{return!1}return typeof window<"u"&&qa()&&QT()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tve(){Bi(new vi("messaging",Eve,"PUBLIC")),Bi(new vi("messaging-internal",Ive,"PRIVATE")),jt(_7,"0.12.4"),jt(_7,"0.12.4","esm2017")}();const bv="analytics",Sve="firebase_id",Ave="origin",kve=6e4,Ove="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ND="https://www.googletagmanager.com/gtag/js",wi=new hl("@firebase/analytics"),vr=new gs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Rve(n){if(!n.startsWith(ND)){const e=vr.create("invalid-gtag-resource",{gtagURL:n});return wi.warn(e.message),""}return n}function v7(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function FD(){return(FD=m(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const c=(yield v7(t)).find(l=>l.measurementId===r);c&&(yield e[c.appId])}}catch(a){wi.error(a)}n("config",r,o)})).apply(this,arguments)}function LD(){return(LD=m(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield v7(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){wi.error(o)}})).apply(this,arguments)}const Hve=30,w7=new class Gve{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function qve(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function VD(){return(VD=m(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:qve(i)},o=Ove.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function BD(){return(BD=m(function*(n,e=w7,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw vr.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw vr.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Xve;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:kve),x7({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function x7(n,e,t){return UD.apply(this,arguments)}function UD(){return UD=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=w7){var o;const{appId:s,measurementId:a}=n;try{yield function Qve(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(c){if(a)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Wve(n){return VD.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function Yve(n){if(!(n instanceof Yr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(r.deleteThrottleMetadata(s),a)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?ZT(t,r.intervalMillis,Hve):ZT(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),wi.debug(`Calling attemptFetch again in ${u} millis`),x7(n,d,i,r)}}),UD.apply(this,arguments)}class Xve{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let zD,KD;function jD(){return(jD=m(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function QD(){return(QD=m(function*(){if(!qa())return wi.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Bp()}catch(n){return wi.warn(vr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function YD(){return YD=m(function*(n,e,t,i,r,o,s){var a;const c=function Kve(n){return BD.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>wi.error(f)),e.push(c);const l=function r0e(){return QD.apply(this,arguments)}().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([c,l]);(function jve(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ND)&&t.src.includes(n))return t;return null})(o)||function Fve(n,e){const t=function Nve(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Rve}),i=document.createElement("script"),r=`${ND}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,u.measurementId),KD&&(r("consent","default",KD),function C7(n){KD=n}(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Ave]="firebase",h.update=!0,null!=d&&(h[Sve]=d),r("config",u.measurementId,h),zD&&(r("set",zD),function E7(n){zD=n}(void 0)),u.measurementId}),YD.apply(this,arguments)}class s0e{constructor(e){this.app=e}_delete(){return delete _s[this.app.options.appId],Promise.resolve()}}let _s={},I7=[];const T7={};let D7,bs,yv="dataLayer",XD=!1;function c0e(n,e,t){!function a0e(){const n=[];if(KT()&&n.push("This is a browser extension environment."),QT()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=vr.create("invalid-analytics-context",{errorInfo:e});wi.warn(t.message)}}();const i=n.options.appId;if(!i)throw vr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw vr.create("no-api-key");wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_s[i])throw vr.create("already-exists",{id:i});if(!XD){!function Lve(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(yv);const{wrappedGtag:o,gtagCore:s}=function zve(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function Uve(n,e,t,i){function o(){return o=m(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function Bve(n,e,t,i,r){return LD.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function Vve(n,e,t,i,r,o){return FD.apply(this,arguments)}(n,e,t,i,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,u]=a;n("get",c,l,u)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){wi.error(c)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(_s,I7,T7,yv,"gtag");bs=o,D7=s,XD=!0}return _s[i]=function o0e(n,e,t,i,r,o,s){return YD.apply(this,arguments)}(n,I7,T7,e,D7,yv,t),new s0e(n)}function u0e(){return ZD.apply(this,arguments)}function ZD(){return(ZD=m(function*(){if(KT()||!QT()||!qa())return!1;try{return yield Bp()}catch{return!1}})).apply(this,arguments)}const S7="@firebase/analytics";!function h0e(){Bi(new vi(bv,(e,{options:t})=>c0e(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Bi(new vi("analytics-internal",function n(e){try{const t=e.getProvider(bv).getImmediate();return{logEvent:(i,r,o)=>function d0e(n,e,t,i){n=Gt(n),function Zve(n,e,t,i,r){return jD.apply(this,arguments)}(bs,_s[n.app.options.appId],e,t,i).catch(r=>wi.error(r))}(t,i,r,o)}}catch(t){throw vr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),jt(S7,"0.10.0"),jt(S7,"0.10.0","esm2017")}();class f0e extends ai{constructor(e,t){super()}schedule(e,t=0){return this}}const vv={setInterval(n,e,...t){const{delegate:i}=vv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=vv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class wv extends f0e{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return vv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&vv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,m_(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const k7={now:()=>(k7.delegate||Date).now(),delegate:void 0};class Wp{constructor(e,t=Wp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Wp.now=k7.now;class xv extends Wp{constructor(e,t=Wp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const m0e=new class g0e extends xv{}(class p0e extends wv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Kp=new xv(wv),_0e=Kp,zd=new Fa("7.6.1"),eS="__angularfire_symbol__analyticsIsSupportedValue",tS="__angularfire_symbol__analyticsIsSupported",nS="__angularfire_symbol__remoteConfigIsSupportedValue",iS="__angularfire_symbol__remoteConfigIsSupported",rS="__angularfire_symbol__messagingIsSupportedValue",oS="__angularfire_symbol__messagingIsSupported";function Qp(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[tS]||(globalThis[tS]=u0e().then(n=>globalThis[eS]=n).catch(()=>globalThis[eS]=!1)),globalThis[oS]||(globalThis[oS]=y7().then(n=>globalThis[rS]=n).catch(()=>globalThis[rS]=!1)),globalThis[iS]||(globalThis[iS]=Rye().then(n=>globalThis[nS]=n).catch(()=>globalThis[nS]=!1));const Yp=(n,e)=>{const t=e?[e]:w9(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function jd(){}class O7{constructor(e,t=m0e){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class b0e{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jd,{},jd,jd)),t.pipe(Nn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xp=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new O7(Zone.current)),this.insideAngular=t.run(()=>new O7(Zone.current,Kp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(H(Me))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function vl(n){return yl().ngZone.run(()=>n())}function v0e(n){return yl(),function w0e(n){return function(t){return(t=t.lift(new b0e(n.ngZone))).pipe(Dy(n.outsideAngular),My(n.insideAngular))}}(yl())(n)}const x0e=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),vl(()=>n.apply(void 0,i))},xi=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=vl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jd,{},jd,jd)))),i[o]=x0e(i[o],t));const r=function y0e(n){return yl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Qt){const o=yl();return r.pipe(Dy(o.outsideAngular),My(o.insideAngular))}return vl(()=>r)}return r instanceof Qt?r.pipe(v0e):r instanceof Promise?vl(()=>new Promise((o,s)=>r.then(a=>vl(()=>o(a)),a=>vl(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:vl(()=>r)};class Xa{constructor(e){return e}}class Zp{constructor(){return w9()}}const aS=new X("angularfire2._apps"),E0e={provide:Xa,useFactory:function C0e(n){return n&&1===n.length?n[0]:new Xa($p())},deps:[[new Jt,aS]]},I0e={provide:Zp,deps:[[new Jt,aS]]};function T0e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Xa(i)}}let M0e=(()=>{class n{constructor(t){jt("angularfire",zd.full,"core"),jt("angularfire",zd.full,"app"),jt("angular",Sce.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(H(so))},n.\u0275mod=Je({type:n}),n.\u0275inj=Ze({providers:[E0e,I0e]}),n})();function D0e(n,...e){return{ngModule:M0e,providers:[{provide:aS,useFactory:T0e(n),multi:!0,deps:[Me,Ht,Xp,...e]}]}}const S0e=xi(v9,!0),cS=new Map,P7={activated:!1,tokenObservers:[]},A0e={initialized:!1,enabled:!1};function Fn(n){return cS.get(n)||Object.assign({},P7)}function Cv(){return A0e}const lS="https://content-firebaseappcheck.googleapis.com/v1",R0e="exchangeDebugToken",R7={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class F0e{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new Fd,yield function L0e(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Fd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zi=new gs("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uS(n){if(!Fn(n).activated)throw zi.create("use-before-activation",{appName:n.name})}function Tv(n,e){return hS.apply(this,arguments)}function hS(){return(hS=m(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw zi.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw zi.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw zi.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw zi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function N7(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${lS}/projects/${t}/apps/${i}:${R0e}?key=${r}`,body:{debug_token:e}}}const z0e="firebase-app-check-database",j0e=1,Jp="firebase-app-check-store";let Mv=null;function fS(){return(fS=m(function*(n,e){const i=(yield function L7(){return Mv||(Mv=new Promise((n,e)=>{try{const t=indexedDB.open(z0e,j0e);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(zi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Jp,{keyPath:"compositeKey"})}}catch(t){e(zi.create("storage-open",{originalErrorMessage:t?.message}))}}),Mv)}()).transaction(Jp,"readwrite"),o=i.objectStore(Jp).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(zi.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const eg=new hl("@firebase/app-check");function mS(n,e){return qa()?function $0e(n,e){return function V7(n,e){return fS.apply(this,arguments)}(function U7(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{eg.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bS(){return Cv().enabled}function yS(){return vS.apply(this,arguments)}function vS(){return(vS=m(function*(){const n=Cv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Y0e={error:"UNKNOWN_ERROR"};function X0e(n){return rv.encodeString(JSON.stringify(n),!1)}function Dv(n){return wS.apply(this,arguments)}function wS(){return(wS=m(function*(n,e=!1){const t=n.app;uS(t);const i=Fn(t);let o,r=i.token;if(r&&!Hd(r)&&(i.token=void 0,r=void 0),!r){const c=yield i.cachedTokenPromise;c&&(Hd(c)?r=c:yield mS(t,void 0))}if(!e&&r&&Hd(r))return{token:r.token};let a,s=!1;if(bS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Tv(N7(t,yield yS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const c=yield i.exchangeTokenPromise;return yield mS(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Fn(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?eg.warn(c.message):eg.error(c),o=c}return r?o?a=Hd(r)?{token:r.token,internalError:o}:$7(o):(a={token:r.token},i.token=r,yield mS(t,r)):a=$7(o),s&&function H7(n,e){const t=Fn(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function z7(n){return xS.apply(this,arguments)}function xS(){return(xS=m(function*(n){const e=n.app;uS(e);const{provider:t}=Fn(e);if(bS()){const i=yield yS(),{token:r}=yield Tv(N7(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function ES(n,e){const t=Fn(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function j7(n){const{app:e}=n,t=Fn(e);let i=t.tokenRefresher;i||(i=function Z0e(n){const{app:e}=n;return new F0e(m(function*(){let i;if(i=Fn(e).token?yield Dv(n,!0):yield Dv(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Fn(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},R7.RETRIAL_MIN_WAIT,R7.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Hd(n){return n.expireTimeMillis-Date.now()>0}function $7(n){return{token:X0e(Y0e),error:n}}class J0e{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fn(this.app);for(const t of e)ES(this.app,t.next);return Promise.resolve()}}const Z7="app-check-internal";!function fwe(){Bi(new vi("app-check",n=>function ewe(n,e){return new J0e(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Z7).initialize()})),Bi(new vi(Z7,n=>function twe(n){return{getToken:e=>Dv(n,e),getLimitedUseToken:()=>z7(n),addTokenListener:e=>function CS(n,e,t,i){const{app:r}=n,o=Fn(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&Hd(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),j7(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>j7(n))}(n,"INTERNAL",e),removeTokenListener:e=>ES(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),jt("@firebase/app-check","0.8.0")}();class tg{constructor(){return Yp("app-check")}}typeof window<"u"&&window;const bwe=function e8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},t8=new gs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Av=new hl("@firebase/auth");function kv(n,...e){Av.logLevel<=mt.ERROR&&Av.error(`Auth (${Qa}): ${n}`,...e)}function Fr(n,...e){throw SS(n,...e)}function ys(n,...e){return SS(n,...e)}function SS(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return t8.create(n,...e)}function re(n,e,...t){if(!n)throw SS(e,...t)}function vs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kv(e),new Error(e)}function Za(n,e){n||vs(e)}function ng(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function i8(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ig{constructor(e,t){this.shortDelay=e,this.longDelay=t,Za(t>e,"Short delay should be less than long delay!"),this.isMobile=WT()||d9()}get(){return function vwe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function AS(){return"http:"===i8()||"https:"===i8()}()||KT()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kS(n,e){Za(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class r8{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xwe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Cwe=new ig(3e4,6e4);function Tn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ln(n,e,t,i){return OS.apply(this,arguments)}function OS(){return(OS=m(function*(n,e,t,i,r={}){return o8(n,r,m(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=Vd(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),r8.fetch()(s8(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function o8(n,e,t){return PS.apply(this,arguments)}function PS(){return(PS=m(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},xwe),e);try{const r=new Ewe(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw rg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw rg(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw rg(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw rg(n,"user-disabled",s);const u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function n8(n,e,t){const i=Object.assign(Object.assign({},bwe()),{[e]:t});return new gs("auth","Firebase",i).create(e,{appName:n.name})}(n,u,l);Fr(n,u)}}catch(r){if(r instanceof Yr)throw r;Fr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function na(n,e,t,i){return RS.apply(this,arguments)}function RS(){return(RS=m(function*(n,e,t,i,r={}){const o=yield Ln(n,e,t,i,r);return"mfaPendingCredential"in o&&Fr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function s8(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?kS(n.config,r):`${n.config.apiScheme}://${r}`}class Ewe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ys(this.auth,"network-request-failed")),Cwe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rg(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ys(n,e,i);return r.customData._tokenResponse=t,r}function NS(){return(NS=m(function*(n,e){return Ln(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function LS(){return(LS=m(function*(n,e){return Ln(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function og(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function VS(){return(VS=m(function*(n,e=!1){const t=Gt(n),i=yield t.getIdToken(e),r=Ov(i);re(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:og(BS(r.auth_time)),issuedAtTime:og(BS(r.iat)),expirationTime:og(BS(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function BS(n){return 1e3*Number(n)}function Ov(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return kv("JWT malformed, contained fewer than 3 sections"),null;try{const r=sv(t);return r?JSON.parse(r):(kv("Failed to decode base64 JWT payload"),null)}catch(r){return kv("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ia(n,e){return US.apply(this,arguments)}function US(){return(US=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Yr&&function Awe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class kwe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),i)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class a8{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=og(this.lastLoginAt),this.creationTime=og(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sg(n){return zS.apply(this,arguments)}function zS(){return zS=m(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield ia(n,function Mwe(n,e){return LS.apply(this,arguments)}(t,{idToken:i}));re(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Rwe(n){return n.map(e=>{var{providerId:t}=e,i=Ty(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function Pwe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new a8(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),zS.apply(this,arguments)}function jS(){return(jS=m(function*(n){const e=Gt(n);yield sg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function HS(){return(HS=m(function*(n,e){const t=yield o8(n,{},m(function*(){const i=Vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=s8(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",r8.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class ag{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Swe(n){const e=Ov(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return m(function*(){return re(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return m(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Nwe(n,e){return HS.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new ag;return i&&(re("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(re("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(re("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ag,this.toJSON())}_performRefresh(){return vs("not implemented")}}function Ja(n,e){re("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class wl{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kwe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new a8(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const i=yield ia(t,t.stsTokenManager.getToken(t.auth,e));return re(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Dwe(n){return VS.apply(this,arguments)}(this,e)}reload(){return function Owe(n){return jS.apply(this,arguments)}(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return m(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield sg(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield ia(e,function Iwe(n,e){return NS.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,C=null!==(a=t.tenantId)&&void 0!==a?a:void 0,I=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,k=null!==(l=t.createdAt)&&void 0!==l?l:void 0,D=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:B,emailVerified:Y,isAnonymous:oe,providerData:he,stsTokenManager:$e}=t;re(B&&$e,e,"internal-error");const pt=ag.fromJSON(this.name,$e);re("string"==typeof B,e,"internal-error"),Ja(d,e.name),Ja(h,e.name),re("boolean"==typeof Y,e,"internal-error"),re("boolean"==typeof oe,e,"internal-error"),Ja(f,e.name),Ja(y,e.name),Ja(C,e.name),Ja(I,e.name),Ja(k,e.name),Ja(D,e.name);const si=new wl({uid:B,auth:e,email:h,emailVerified:Y,displayName:d,isAnonymous:oe,photoURL:y,phoneNumber:f,tenantId:C,stsTokenManager:pt,createdAt:k,lastLoginAt:D});return he&&Array.isArray(he)&&(si.providerData=he.map(Qi=>Object.assign({},Qi))),I&&(si._redirectEventId=I),si}static _fromIdTokenResponse(e,t,i=!1){return m(function*(){const r=new ag;r.updateFromServerResponse(t);const o=new wl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield sg(o),o})()}}const c8=new Map;function ra(n){Za(n instanceof Function,"Expected a class definition");let e=c8.get(n);return e?(Za(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c8.set(n,e),e)}const l8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,i){var r=this;return m(function*(){r.storage[t]=i})()}_get(t){var i=this;return m(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return m(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function Pv(n,e,t){return`firebase:${n}:${e}:${t}`}class Gd{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Pv(this.userKey,r.apiKey,o),this.fullPersistenceKey=Pv("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?wl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return m(function*(){if(!t.length)return new Gd(ra(l8),e,i);const r=(yield Promise.all(t.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=r[0]||ra(l8);const s=Pv(i,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=wl._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=m(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Gd(o,e,i)):new Gd(o,e,i)})()}}function u8(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g8(e))return"Blackberry";if(m8(e))return"Webos";if($S(e))return"Safari";if((e.includes("chrome/")||h8(e))&&!e.includes("edge/"))return"Chrome";if(p8(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function d8(n=Qn()){return/firefox\//i.test(n)}function $S(n=Qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h8(n=Qn()){return/crios\//i.test(n)}function f8(n=Qn()){return/iemobile/i.test(n)}function p8(n=Qn()){return/android/i.test(n)}function g8(n=Qn()){return/blackberry/i.test(n)}function m8(n=Qn()){return/webos/i.test(n)}function Rv(n=Qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _8(n=Qn()){return Rv(n)||p8(n)||m8(n)||g8(n)||/windows phone/i.test(n)||f8(n)}function b8(n,e=[]){let t;switch(n){case"Browser":t=u8(Qn());break;case"Worker":t=`${u8(Qn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qa}/${i}`}function y8(n,e){return qS.apply(this,arguments)}function qS(){return(qS=m(function*(n,e){return Ln(n,"GET","/v2/recaptchaConfig",Tn(n,e))})).apply(this,arguments)}function w8(n){return void 0!==n&&void 0!==n.enterprise}class x8{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function WS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=ys("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function Uwe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function C8(n){return`__${n}${Math.floor(1e6*Math.random())}`}class E8{constructor(e){this.type="recaptcha-enterprise",this.auth=Ci(e)}verify(e="verify",t=!1){var i=this;return m(function*(){function o(){return o=m(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){y8(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new x8(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;w8(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(l=>{if(!t&&w8(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));WS("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function ec(n,e,t){return KS.apply(this,arguments)}function KS(){return(KS=m(function*(n,e,t,i=!1){const r=new E8(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class $we{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class Gwe{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I8(this),this.idTokenSubscription=new I8(this),this.beforeStateQueue=new $we(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=ra(t)),this._initializationPromise=this.queue(m(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield Gd.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return re(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield sg(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function wwe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const i=e?Gt(e):null;return i&&re(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return m(function*(){if(!i._deleted)return e&&re(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(m(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(ra(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const t=yield y8(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new x8(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new E8(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gs("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return m(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const i=e&&ra(e)||t._popupRedirectResolver;re(i,t,"argument-error"),t.redirectPersistenceManager=yield Gd.create(t,[ra(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var i,r;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return re(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return m(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function ywe(n,...e){Av.logLevel<=mt.WARN&&Av.warn(`Auth (${Qa}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ci(n){return Gt(n)}class I8{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Xme(n,e){const t=new Zme(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function T8(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function M8(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class cg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,t){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}function S8(n,e){return YS.apply(this,arguments)}function YS(){return(YS=m(function*(n,e){return Ln(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ZS(n,e){return JS.apply(this,arguments)}function JS(){return(JS=m(function*(n,e){return na(n,"POST","/v1/accounts:signInWithPassword",Tn(n,e))})).apply(this,arguments)}function aA(){return(aA=m(function*(n,e){return na(n,"POST","/v1/accounts:signInWithEmailLink",Tn(n,e))})).apply(this,arguments)}function cA(){return(cA=m(function*(n,e){return na(n,"POST","/v1/accounts:signInWithEmailLink",Tn(n,e))})).apply(this,arguments)}class lg extends cg{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lg(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new lg(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield ec(e,r,"signInWithPassword");return ZS(e,o)}return ZS(e,r).catch(function(){var o=m(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield ec(e,r,"signInWithPassword");return ZS(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function exe(n,e){return aA.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Fr(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return m(function*(){switch(i.signInMethod){case"password":return S8(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function txe(n,e){return cA.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Fr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function oa(n,e){return lA.apply(this,arguments)}function lA(){return(lA=m(function*(n,e){return na(n,"POST","/v1/accounts:signInWithIdp",Tn(n,e))})).apply(this,arguments)}class hg{constructor(e){var t,i,r,o,s,a;const c=zp(jp(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(i=c.oobCode)&&void 0!==i?i:null,d=function cxe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);re(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function lxe(n){const e=zp(jp(n)).link,t=e?zp(jp(e)).deep_link_id:null,i=zp(jp(n)).deep_link_id;return(i?zp(jp(i)).link:null)||i||t||e||n}(e);try{return new hg(t)}catch{return null}}}let A8=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return lg._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=hg.parseLink(i);return re(r,"argument-error"),lg._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class sa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uxe extends sa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Lv(n,e){return gA.apply(this,arguments)}function gA(){return(gA=m(function*(n,e){return na(n,"POST","/v1/accounts:signUp",Tn(n,e))})).apply(this,arguments)}class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return m(function*(){const o=yield wl._fromIdTokenResponse(e,i,r),s=k8(i);return new mo({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return m(function*(){yield e._updateTokensIfNecessary(i,!0);const r=k8(i);return new mo({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function k8(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Vv extends Yr{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Vv.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Vv(e,t,i,r)}}function O8(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Vv._fromErrorAndOperation(n,o,e,i):o})}function yA(){return(yA=m(function*(n,e,t=!1){const i=yield ia(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return mo._forOperation(n,"link",i)})).apply(this,arguments)}function wA(){return(wA=m(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield ia(n,O8(i,r,e,n),t);re(o.idToken,i,"internal-error");const s=Ov(o.idToken);re(s,i,"internal-error");const{sub:a}=s;return re(n.uid===a,i,"user-mismatch"),mo._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&Fr(i,"user-mismatch"),o}})).apply(this,arguments)}function N8(n,e){return xA.apply(this,arguments)}function xA(){return(xA=m(function*(n,e,t=!1){const i="signIn",r=yield O8(n,i,e),o=yield mo._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function EA(){return(EA=m(function*(n,e){return N8(Ci(n),e)})).apply(this,arguments)}function _xe(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=m(function*(n,e,t){var i;const r=Ci(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const l=yield ec(r,o,"signUpPassword");s=Lv(r,l)}else s=Lv(r,o).catch(function(){var l=m(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield ec(r,o,"signUpPassword");return Lv(r,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield mo._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c}),FA.apply(this,arguments)}function bxe(n,e,t){return function CA(n,e){return EA.apply(this,arguments)}(Gt(n),A8.credential(e,t))}function Dxe(n,e,t,i){return Gt(n).onAuthStateChanged(e,t,i)}function Sxe(n){return Gt(n).signOut()}const Uv="__sak";class V8{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uv,"1"),this.storage.removeItem(Uv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lxe=(()=>{class n extends V8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rxe(){const n=Qn();return $S(n)||Rv(n)}()&&function Vwe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_8(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function Lwe(){return function Hme(){const n=Qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return m(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return m(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return m(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),B8=(()=>{class n extends V8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let Bxe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return m(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,c=i.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=m(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Vxe(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(l);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function YA(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class Uxe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return m(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=YA("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function ti(){return window}function XA(){return typeof ti().WorkerGlobalScope<"u"&&"function"==typeof ti().importScripts}function ZA(){return(ZA=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const U8="firebaseLocalStorageDb",zv="firebaseLocalStorage",z8="fbase_key";class gg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jv(n,e){return n.transaction([zv],e?"readwrite":"readonly").objectStore(zv)}function JA(){const n=indexedDB.open(U8,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(zv,{keyPath:z8})}catch(r){t(r)}}),n.addEventListener("success",m(function*(){const i=n.result;i.objectStoreNames.contains(zv)?e(i):(i.close(),yield function qxe(){const n=indexedDB.deleteDatabase(U8);return new gg(n).toPromise()}(),e(yield JA()))}))})}function j8(n,e,t){return ek.apply(this,arguments)}function ek(){return(ek=m(function*(n,e,t){const i=jv(n,!0).put({[z8]:e,value:t});return new gg(i).toPromise()})).apply(this,arguments)}function tk(){return(tk=m(function*(n,e){const t=jv(n,!1).get(e),i=yield new gg(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function H8(n,e){const t=jv(n,!0).delete(e);return new gg(t).toPromise()}const Yxe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield JA()),t.db})()}_withRetries(t){var i=this;return m(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return XA()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=Bxe._getInstance(function $xe(){return XA()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=m(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=m(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var i,r;if(t.activeServiceWorker=yield function jxe(){return ZA.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Uxe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return m(function*(){if(i.sender&&i.activeServiceWorker&&function Hxe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield JA();return yield j8(t,Uv,"1"),yield H8(t,Uv),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return m(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(o=>j8(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return m(function*(){const r=yield i._withRetries(o=>function Wxe(n,e){return tk.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(r=>H8(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const i=yield t._withRetries(s=>{const a=jv(s,!1).getAll();return new gg(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();C8("rcb"),new ig(3e4,6e4);class uk extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hCe(n){return N8(n.auth,new uk(n),n.bypassAuthState)}function fCe(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),function R8(n,e){return wA.apply(this,arguments)}(t,new uk(n),n.bypassAuthState)}function pCe(n){return dk.apply(this,arguments)}function dk(){return(dk=m(function*(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),function bA(n,e){return yA.apply(this,arguments)}(t,new uk(n),n.bypassAuthState)})).apply(this,arguments)}class gCe{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hCe;case"linkViaPopup":case"linkViaRedirect":return pCe;case"reauthViaPopup":case"reauthViaRedirect":return fCe;default:Fr(this.auth,"internal-error")}}resolve(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ig(2e3,1e4);const mCe="pendingRedirect",mg=new Map;class _Ce extends gCe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let i=mg.get(t.auth._key());if(!i){try{const o=(yield function bCe(n,e){return mk.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}mg.set(t.auth._key(),i)}return t.bypassAuthState||mg.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function mk(){return(mk=m(function*(n,e){const t=function q8(n){return Pv(mCe,n.config.apiKey,n.name)}(e),i=function G8(n){return ra(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function yCe(n,e){mg.set(n._key(),e)}function W8(n,e){return Ck.apply(this,arguments)}function Ck(){return(Ck=m(function*(n,e,t=!1){const i=Ci(n),r=function Cl(n,e){return e?ra(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new _Ce(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class ECe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ICe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y8(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Y8(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(ys(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q8(e))}saveEventToCache(e){this.cachedEventUids.add(Q8(e)),this.lastProcessedEventTime=Date.now()}}function Q8(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Y8({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Ik(){return(Ik=m(function*(n,e={}){return Ln(n,"GET","/v1/projects",e)})).apply(this,arguments)}const MCe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DCe=/^https?/;function Tk(){return Tk=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function TCe(n){return Ik.apply(this,arguments)}(n);for(const t of e)try{if(ACe(t))return}catch{}Fr(n,"unauthorized-domain")}),Tk.apply(this,arguments)}function ACe(n){const e=ng(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!DCe.test(t))return!1;if(MCe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const kCe=new ig(3e4,6e4);function X8(){const n=ti().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let $v=null;const RCe=new ig(5e3,15e3),NCe="__/auth/iframe",FCe="emulator/auth/iframe",LCe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VCe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BCe(n){const e=n.config;re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kS(e,FCe):`https://${n.config.authDomain}/${NCe}`,i={apiKey:e.apiKey,appName:n.name,v:Qa},r=VCe.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Vd(i).slice(1)}`}function Mk(){return Mk=m(function*(n){const e=yield function PCe(n){return $v=$v||function OCe(n){return new Promise((e,t)=>{var i,r,o;function s(){X8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X8(),t(ys(n,"network-request-failed"))},timeout:kCe.get()})}if(null!==(r=null===(i=ti().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=ti().gapi)||void 0===o||!o.load){const a=C8("iframefcb");return ti()[a]=()=>{gapi.load?s():t(ys(n,"network-request-failed"))},WS(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw $v=null,e})}(n),$v}(n),t=ti().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:BCe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LCe,dontclear:!0},i=>new Promise(function(){var r=m(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=ys(n,"network-request-failed"),c=ti().setTimeout(()=>{s(a)},RCe.get());function l(){ti().clearTimeout(c),o(i)}i.ping(l).then(l,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),Mk.apply(this,arguments)}const zCe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Z8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const KCe="__/auth/handler",QCe="emulator/auth/handler",YCe=encodeURIComponent("fac");function J8(n,e,t,i,r,o){return Dk.apply(this,arguments)}function Dk(){return(Dk=m(function*(n,e,t,i,r,o){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Qa,eventId:r};if(e instanceof sa){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",YT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof uxe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${YCe}=${encodeURIComponent(c)}`:"";return`${function XCe({config:n}){return n.emulator?kS(n,QCe):`https://${n.authDomain}/${KCe}`}(n)}?${Vd(a).slice(1)}${l}`})).apply(this,arguments)}const Sk="webStorageSupport",JCe=class ZCe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B8,this._completeRedirectFn=W8,this._overrideRedirectResult=yCe}_openPopup(e,t,i,r){var o=this;return m(function*(){var s;Za(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield J8(e,t,i,ng(),r);return function qCe(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},zCe),{width:i.toString(),height:r.toString(),top:o,left:s}),l=Qn().toLowerCase();t&&(a=h8(l)?"_blank":t),d8(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,y])=>`${h}${f}=${y},`,"");if(function Fwe(n=Qn()){var e;return Rv(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function WCe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new Z8(null);const d=window.open(e||"",a,u);re(d,n,"popup-blocked");try{d.focus()}catch{}return new Z8(d)}(e,a,YA())})()}_openRedirect(e,t,i,r){var o=this;return m(function*(){return yield o._originValidation(e),function zxe(n){ti().location.href=n}(yield J8(e,t,i,ng(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Za(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return m(function*(){const i=yield function UCe(n){return Mk.apply(this,arguments)}(e),r=new ECe(e);return i.register("authEvent",o=>(re(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sk,{type:Sk},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[Sk];void 0!==s&&t(!!s),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function SCe(n){return Tk.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _8()||$S()||Rv()}};var iH="@firebase/auth";class eEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rEe=l9("authIdTokenMaxAge")||300;let oH=null;const oEe=n=>function(){var e=m(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>rEe)return;const o=i?.token;oH!==o&&(oH=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function sEe(n=$p()){const e=Ka(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function qwe(n,e){const t=Ka(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(uv(t.getOptions(),e??{}))return r;Fr(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:JCe,persistence:[Yxe,Lxe,B8]}),i=l9("authTokenSyncURL");if(i){const o=oEe(i);(function Mxe(n,e,t){Gt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function Txe(n,e,t,i){Gt(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=a9("auth");return r&&function Kwe(n,e,t){const i=Ci(n);re(i._canInitEmulator,i,"emulator-config-failed"),re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=T8(e),{host:s,port:a}=function Qwe(n){const e=T8(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:M8(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:M8(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function Ywe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}!function nEe(n){Bi(new vi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b8(n)},l=new Gwe(i,r,o,c);return function Wwe(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ra);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Bi(new vi("auth-internal",e=>{const t=Ci(e.getProvider("auth").getImmediate());return new eEe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),jt(iH,"0.23.2",function tEe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),jt(iH,"0.23.2","esm2017")}("Browser");class Le{constructor(e){return e}}class qv{constructor(){return Yp("auth")}}const kk=new X("angularfire2.auth-instances");function cEe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Le(i)}}const lEe={provide:qv,deps:[[new Jt,kk]]},uEe={provide:Le,useFactory:function aEe(n,e){const t=Qp("auth",n,e);return t&&new Le(t)},deps:[[new Jt,kk],Xa]};let dEe=(()=>{class n{constructor(){jt("angularfire",zd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Je({type:n}),n.\u0275inj=Ze({providers:[uEe,lEe]}),n})();function hEe(n,...e){return{ngModule:dEe,providers:[{provide:kk,useFactory:cEe(n),multi:!0,deps:[Me,Ht,Xp,Zp,[new Jt,tg],...e]}]}}const aH=xi(_xe,!0),Vo=xi(sEe,!0),ws=xi(Dxe,!0),Ok=xi(bxe,!0),ni=xi(Sxe,!0);let cH=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){ni(this.auth).then(()=>{}).catch(t=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Se))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-auth"]],decls:15,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"tituloSubText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"span",2),v(3,"Clinica de Plantas "),p(),W(4,"br"),g(5,"span",3),v(6,"Gesti\xf3n de Muestras"),p()(),W(7,"div",4)(8,"div",5),g(9,"div",6),Q("click",function(){return r.Login()}),W(10,"div",7),g(11,"span",8),v(12,"Ingresar"),p(),W(13,"div",9),p()(),W(14,"router-outlet"))},dependencies:[ul],styles:[".navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:6.75em;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:6.75em;position:absolute;left:0%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:block;line-height:.5em;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.tituloSubText[_ngcontent-%COMP%]{color:#fff;display:block;line-height:1.2em;font-family:Verdana;font-weight:700;font-size:20px;letter-spacing:0}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:6.75em;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:2.2em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:24%;top:2.2em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{width:80%;height:6.75em;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.homeLogo[_ngcontent-%COMP%]{display:none}}"]})}}return n})();var ue,fEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bo={},Pk=Pk||{},He=fEe||self;function Wv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _g(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Rk="closure_uid_"+(1e9*Math.random()>>>0),gEe=0;function mEe(n,e,t){return n.call.apply(n.bind,arguments)}function _Ee(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function rr(n,e,t){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mEe:_Ee).apply(null,arguments)}function Kv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ei(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function tc(){this.s=this.s,this.o=this.o}tc.prototype.s=!1,tc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function pEe(n){Object.prototype.hasOwnProperty.call(n,Rk)&&n[Rk]||(n[Rk]=++gEe)}(this)},tc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lH=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Nk(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function uH(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Wv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}or.prototype.h=function(){this.defaultPrevented=!0};var yEe=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{He.addEventListener("test",()=>{},e),He.removeEventListener("test",()=>{},e)}catch{}return n}();function bg(n){return/^[\s\xa0]*$/.test(n)}function Qv(){var n=He.navigator;return n&&(n=n.userAgent)?n:""}function xs(n){return-1!=Qv().indexOf(n)}function Fk(n){return Fk[" "](n),n}Fk[" "]=function(){};var Vk,n,wEe=xs("Opera"),Kd=xs("Trident")||xs("MSIE"),dH=xs("Edge"),Lk=dH||Kd,hH=xs("Gecko")&&!(-1!=Qv().toLowerCase().indexOf("webkit")&&!xs("Edge"))&&!(xs("Trident")||xs("MSIE"))&&!xs("Edge"),xEe=-1!=Qv().toLowerCase().indexOf("webkit")&&!xs("Edge");function fH(){var n=He.document;return n?n.documentMode:void 0}e:{var Bk="",Uk=(n=Qv(),hH?/rv:([^\);]+)(\)|;)/.exec(n):dH?/Edge\/([\d\.]+)/.exec(n):Kd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):xEe?/WebKit\/(\S+)/.exec(n):wEe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Uk&&(Bk=Uk?Uk[1]:""),Kd){var zk=fH();if(null!=zk&&zk>parseFloat(Bk)){Vk=String(zk);break e}}Vk=Bk}var CEe=He.document&&Kd&&(fH()||parseInt(Vk,10))||void 0;function yg(n,e){if(or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(hH){e:{try{Fk(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:EEe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yg.$.h.call(this)}}Ei(yg,or);var EEe={2:"touch",3:"pen",4:"mouse"};yg.prototype.h=function(){yg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vg="closure_listenable_"+(1e6*Math.random()|0),IEe=0;function TEe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++IEe,this.fa=this.ia=!1}function Yv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Hk(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function gH(n){const e={};for(const t in n)e[t]=n[t];return e}const mH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _H(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<mH.length;o++)t=mH[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Xv(n){this.src=n,this.g={},this.h=0}function $k(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=lH(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Yv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Gk(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Xv.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Gk(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new TEe(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var qk="closure_lm_"+(1e6*Math.random()|0),Wk={};function bH(n,e,t,i,r){if(i&&i.once)return vH(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)bH(n,e[o],t,i,r);return null}return t=Xk(t),n&&n[vg]?n.O(e,t,_g(i)?!!i.capture:!!i,r):yH(n,e,t,!1,i,r)}function yH(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=_g(r)?!!r.capture:!!r,a=Qk(n);if(a||(n[qk]=a=new Xv(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function DEe(){const e=SEe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)yEe||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(xH(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function vH(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vH(n,e[o],t,i,r);return null}return t=Xk(t),n&&n[vg]?n.P(e,t,_g(i)?!!i.capture:!!i,r):yH(n,e,t,!0,i,r)}function wH(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)wH(n,e[o],t,i,r);else i=_g(i)?!!i.capture:!!i,t=Xk(t),n&&n[vg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Gk(o=n.g[e],t,i,r))&&(Yv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Qk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Gk(e,t,i,r)),(t=-1<n?e[n]:null)&&Kk(t))}function Kk(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[vg])$k(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(xH(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Qk(e))?($k(t,n),0==t.h&&(t.src=null,e[qk]=null)):Yv(n)}}}function xH(n){return n in Wk?Wk[n]:Wk[n]="on"+n}function SEe(n,e){if(n.fa)n=!0;else{e=new yg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Kk(n),n=t.call(i,e)}return n}function Qk(n){return(n=n[qk])instanceof Xv?n:null}var Yk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xk(n){return"function"==typeof n?n:(n[Yk]||(n[Yk]=function(e){return n.handleEvent(e)}),n[Yk])}function Ii(){tc.call(this),this.i=new Xv(this),this.S=this,this.J=null}function ji(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new or(e,n);else if(e instanceof or)e.target=e.target||n;else{var r=e;_H(e=new or(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Zv(s,i,!0,e)&&r}if(r=Zv(s=e.g=n,i,!0,e)&&r,r=Zv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Zv(s=e.g=t[o],i,!1,e)&&r}function Zv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&$k(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Ei(Ii,tc),Ii.prototype[vg]=!0,Ii.prototype.removeEventListener=function(n,e,t,i){wH(this,n,e,t,i)},Ii.prototype.N=function(){if(Ii.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Yv(t[i]);delete n.g[e],n.h--}}this.J=null},Ii.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ii.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Zk=He.JSON.stringify;function kEe(){var n=Jk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var CH=new class AEe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new PEe,n=>n.reset());class PEe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function REe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function NEe(n){He.setTimeout(()=>{throw n},0)}let wg,xg=!1,Jk=new class OEe{constructor(){this.h=this.g=null}add(e,t){const i=CH.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},EH=()=>{const n=He.Promise.resolve(void 0);wg=()=>{n.then(FEe)}};var FEe=()=>{for(var n;n=kEe();){try{n.h.call(n.g)}catch(t){NEe(t)}var e=CH;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xg=!1};function Jv(n,e){Ii.call(this),this.h=n||1,this.g=e||He,this.j=rr(this.qb,this),this.l=Date.now()}function eO(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function tO(n,e,t){if("function"==typeof n)t&&(n=rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:He.setTimeout(n,e||0)}function IH(n){n.g=tO(()=>{n.g=null,n.i&&(n.i=!1,IH(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ei(Jv,Ii),(ue=Jv.prototype).ga=!1,ue.T=null,ue.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ji(this,"tick"),this.ga&&(eO(this),this.start()))}},ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.N=function(){Jv.$.N.call(this),eO(this),delete this.g};class LEe extends tc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IH(this)}N(){super.N(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cg(n){tc.call(this),this.h=n,this.g={}}Ei(Cg,tc);var TH=[];function MH(n,e,t,i){Array.isArray(t)||(t&&(TH[0]=t.toString()),t=TH);for(var r=0;r<t.length;r++){var o=bH(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function DH(n){Hk(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kk(e)},n),n.g={}}function e0(){this.g=!0}function Qd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zEe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return Zk(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Cg.prototype.N=function(){Cg.$.N.call(this),DH(this)},Cg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},e0.prototype.Ea=function(){this.g=!1},e0.prototype.info=function(){};var El={},SH=null;function t0(){return SH=SH||new Ii}function AH(n){or.call(this,El.Ta,n)}function Eg(n){const e=t0();ji(e,new AH(e))}function kH(n,e){or.call(this,El.STAT_EVENT,n),this.stat=e}function wr(n){const e=t0();ji(e,new kH(e,n))}function OH(n,e){or.call(this,El.Ua,n),this.size=e}function Ig(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){n()},e)}El.Ta="serverreachability",Ei(AH,or),El.STAT_EVENT="statevent",Ei(kH,or),El.Ua="timingevent",Ei(OH,or);var n0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PH={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nO(){}function NH(){}nO.prototype.h=null;var oO,Tg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iO(){or.call(this,"d")}function rO(){or.call(this,"c")}function r0(){}function Mg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Cg(this),this.P=jEe,this.V=new Jv(n=Lk?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new FH}function FH(){this.i=null,this.g="",this.h=!1}Ei(iO,or),Ei(rO,or),Ei(r0,nO),r0.prototype.g=function(){return new XMLHttpRequest},r0.prototype.i=function(){return{}},oO=new r0;var jEe=45e3,sO={},o0={};function aO(n,e,t){n.L=1,n.v=l0(aa(e)),n.s=t,n.S=!0,LH(n,null)}function LH(n,e){n.G=Date.now(),Dg(n),n.A=aa(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),WH(t.i,"t",i),n.C=0,t=n.l.J,n.h=new FH,n.g=_$(n.l,t?e:null,!n.s),0<n.O&&(n.M=new LEe(rr(n.Pa,n,n.g),n.O)),MH(n.U,n.g,"readystatechange",n.nb),e=n.I?gH(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Eg(),function VEe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function VH(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function BH(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=HEe(n,t),r==o0){4==e&&(n.o=4,wr(14),i=!1),Qd(n.j,n.m,null,"[Incomplete Response]");break}if(r==sO){n.o=4,wr(15),Qd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Qd(n.j,n.m,r,null),cO(n,r)}VH(n)&&r!=o0&&r!=sO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,wr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),gO(e),e.M=!0,wr(11))):(Qd(n.j,n.m,t,"[Invalid Chunked Response]"),Il(n),Sg(n))}function HEe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?o0:(t=Number(e.substring(t,i)),isNaN(t)?sO:(i+=1)+t>e.length?o0:(e=e.slice(i,i+t),n.C=i+t,e))}function Dg(n){n.Y=Date.now()+n.P,UH(n,n.P)}function UH(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ig(rr(n.lb,n),e)}function s0(n){n.B&&(He.clearTimeout(n.B),n.B=null)}function Sg(n){0==n.l.H||n.J||f$(n.l,n)}function Il(n){s0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,eO(n.V),DH(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function cO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||lO(t.i,n)))if(!n.K&&lO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;g0(t),f0(t)}pO(t),wr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ig(rr(t.ib,t),6e3));if(1>=YH(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ml(t,11)}else if((n.K||t.g==n)&&g0(t),!bg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=i.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(uO(o,o.h),o.h=null))}if(i.F){const C=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,un(i.I,i.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=m$(i,i.J?i.pa:null,i.Y),s.K){XH(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(s0(a),Dg(a)),i.g=s}else d$(i);0<t.j.length&&p0(t)}else"stop"!=l[0]&&"close"!=l[0]||Ml(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ml(t,7):fO(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Eg()}catch{}}function zH(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function GEe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function $Ee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ue=Mg.prototype).setTimeout=function(n){this.P=n},ue.nb=function(n){n=n.target;const e=this.M;e&&3==Cs(n)?e.l():this.Pa(n)},ue.Pa=function(n){try{if(n==this.g)e:{const u=Cs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Lk||this.g&&(this.h.h||this.g.ja()||o$(this.g)))){this.J||4!=u||7==e||Eg(),s0(this);var t=this.g.da();this.ca=t;t:if(VH(this)){var i=o$(this.g);n="";var r=i.length,o=4==Cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Il(this),Sg(this);var s="";break t}this.h.i=new He.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function BEe(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,wr(12),Il(this),Sg(this);break e}Qd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cO(this,t)}this.S?(BH(this,u,s),Lk&&this.i&&3==u&&(MH(this.U,this.V,"tick",this.mb),this.V.start())):(Qd(this.j,this.m,s,null),cO(this,s)),4==u&&Il(this),this.i&&!this.J&&(4==u?f$(this.l,this):(this.i=!1,Dg(this)))}else(function l1e(n){const e={};n=(n.g&&2<=Cs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(bg(n[i]))continue;var t=REe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function MEe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,wr(12)):(this.o=0,wr(13)),Il(this),Sg(this)}}}catch{}},ue.mb=function(){if(this.g){var n=Cs(this.g),e=this.g.ja();this.C<e.length&&(s0(this),BH(this,n,e),this.i&&4!=n&&Dg(this))}},ue.cancel=function(){this.J=!0,Il(this)},ue.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function UEe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Eg(),wr(17)),Il(this),this.o=2,Sg(this)):UH(this,this.Y-n)};var jH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Tl){this.h=n.h,a0(this,n.j),this.s=n.s,this.g=n.g,c0(this,n.m),this.l=n.l;var e=n.i,t=new Og;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),HH(this,t),this.o=n.o}else n&&(e=String(n).match(jH))?(this.h=!1,a0(this,e[1]||"",!0),this.s=Ag(e[2]||""),this.g=Ag(e[3]||"",!0),c0(this,e[4]),this.l=Ag(e[5]||"",!0),HH(this,e[6]||"",!0),this.o=Ag(e[7]||"")):(this.h=!1,this.i=new Og(null,this.h))}function aa(n){return new Tl(n)}function a0(n,e,t){n.j=t?Ag(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function c0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HH(n,e,t){e instanceof Og?(n.i=e,function ZEe(n,e){e&&!n.j&&(nc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(GH(this,i),WH(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=kg(e,YEe)),n.i=new Og(e,n.h))}function un(n,e,t){n.i.set(e,t)}function l0(n){return un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ag(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,WEe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function WEe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Tl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kg(e,$H,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kg(e,$H,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(kg(t,"/"==t.charAt(0)?QEe:KEe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kg(t,XEe)),n.join("")};var $H=/[#\/\?@]/g,KEe=/[#\?:]/g,QEe=/[#\?]/g,YEe=/[#\?@]/g,XEe=/#/g;function Og(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function nc(n){n.g||(n.g=new Map,n.h=0,n.i&&function qEe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function GH(n,e){nc(n),e=Yd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function qH(n,e){return nc(n),e=Yd(n,e),n.g.has(e)}function WH(n,e,t){GH(n,e),0<t.length&&(n.i=null,n.g.set(Yd(n,e),Nk(t)),n.h+=t.length)}function Yd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ue=Og.prototype).add=function(n,e){nc(this),this.i=null,n=Yd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ue.forEach=function(n,e){nc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ue.ta=function(){nc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ue.Z=function(n){nc(this);let e=[];if("string"==typeof n)qH(this,n)&&(e=e.concat(this.g.get(Yd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ue.set=function(n,e){return nc(this),this.i=null,qH(this,n=Yd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ue.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var JEe=class{constructor(n,e){this.g=n,this.map=e}};function KH(n){this.l=n||e1e,n=He.PerformanceNavigationTiming?0<(n=He.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(He.g&&He.g.Ka&&He.g.Ka()&&He.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var e1e=10;function QH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YH(n){return n.h?1:n.g?n.g.size:0}function lO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function uO(n,e){n.g?n.g.add(e):n.h=e}function XH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ZH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Nk(n.i)}KH.prototype.cancel=function(){if(this.i=ZH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var t1e=class{stringify(n){return He.JSON.stringify(n,void 0)}parse(n){return He.JSON.parse(n,void 0)}};function n1e(){this.g=new t1e}function i1e(n,e,t){const i=t||"";try{zH(n,function(r,o){let s=r;_g(r)&&(s=Zk(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function u0(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Pg(n){this.l=n.fc||null,this.j=n.ob||!1}function d0(n,e){Ii.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=dO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ei(Pg,nO),Pg.prototype.g=function(){return new d0(this.l,this.j)},Pg.prototype.i=function(n){return function(){return n}}({}),Ei(d0,Ii);var dO=0;function JH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Rg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ng(n)}function Ng(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ue=d0.prototype).open=function(n,e){if(this.readyState!=dO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ng(this)},ue.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||He).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rg(this)),this.readyState=dO},ue.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ng(this)),this.g&&(this.readyState=3,Ng(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ue.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Rg(this):Ng(this),3==this.readyState&&JH(this)}},ue.Za=function(n){this.g&&(this.response=this.responseText=n,Rg(this))},ue.Ya=function(n){this.g&&(this.response=n,Rg(this))},ue.ka=function(){this.g&&Rg(this)},ue.setRequestHeader=function(n,e){this.v.append(n,e)},ue.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(d0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var o1e=He.JSON.parse;function Vn(n){Ii.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=e$,this.L=this.M=!1}Ei(Vn,Ii);var e$="",s1e=/^https?$/i,a1e=["POST","PUT"];function t$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,n$(n),h0(n)}function n$(n){n.F||(n.F=!0,ji(n,"complete"),ji(n,"error"))}function i$(n){if(n.h&&typeof Pk<"u"&&(!n.C[1]||4!=Cs(n)||2!=n.da()))if(n.v&&4==Cs(n))tO(n.La,0,n);else if(ji(n,"readystatechange"),4==Cs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(jH)[1]||null;!r&&He.self&&He.self.location&&(r=He.self.location.protocol.slice(0,-1)),i=!s1e.test(r?r.toLowerCase():"")}t=i}if(t)ji(n,"complete"),ji(n,"success");else{n.m=6;try{var o=2<Cs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",n$(n)}}finally{h0(n)}}}function h0(n,e){if(n.g){r$(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ji(n,"ready");try{t.onreadystatechange=i}catch{}}}function r$(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(He.clearTimeout(n.A),n.A=null)}function Cs(n){return n.g?n.g.readyState:0}function o$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case e$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function s$(n){let e="";return Hk(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function hO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=s$(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):un(n,e,t))}function Fg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function a$(n){this.Ga=0,this.j=[],this.l=new e0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fg("baseRetryDelayMs",5e3,n),this.hb=Fg("retryDelaySeedMs",1e4,n),this.eb=Fg("forwardChannelMaxRetries",2,n),this.xa=Fg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new KH(n&&n.concurrentRequestLimit),this.Ja=new n1e,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fO(n){if(c$(n),3==n.H){var e=n.W++,t=aa(n.I);if(un(t,"SID",n.K),un(t,"RID",e),un(t,"TYPE","terminate"),Lg(n,t),(e=new Mg(n,n.l,e)).L=2,e.v=l0(aa(t)),t=!1,He.navigator&&He.navigator.sendBeacon)try{t=He.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&He.Image&&((new Image).src=e.v,t=!0),t||(e.g=_$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Dg(e)}g$(n)}function f0(n){n.g&&(gO(n),n.g.cancel(),n.g=null)}function c$(n){f0(n),n.u&&(He.clearTimeout(n.u),n.u=null),g0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&He.clearTimeout(n.m),n.m=null)}function p0(n){if(!QH(n.i)&&!n.m){n.m=!0;var e=n.Na;wg||EH(),xg||(wg(),xg=!0),Jk.add(e,n),n.C=0}}function l$(n,e){var t;t=e?e.m:n.W++;const i=aa(n.I);un(i,"SID",n.K),un(i,"RID",t),un(i,"AID",n.V),Lg(n,i),n.o&&n.s&&hO(i,n.o,n.s),t=new Mg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=u$(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),uO(n.i,t),aO(t,i,e)}function Lg(n,e){n.na&&Hk(n.na,function(t,i){un(e,i,t)}),n.h&&zH({},function(t,i){un(e,i,t)})}function u$(n,e,t){t=Math.min(n.j.length,t);var i=n.h?rr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g;const u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{i1e(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function d$(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;wg||EH(),xg||(wg(),xg=!0),Jk.add(e,n),n.A=0}}function pO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ig(rr(n.Ma,n),p$(n,n.A)),n.A++,0))}function gO(n){null!=n.B&&(He.clearTimeout(n.B),n.B=null)}function h$(n){n.g=new Mg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=aa(n.wa);un(e,"RID","rpc"),un(e,"SID",n.K),un(e,"AID",n.V),un(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&un(e,"TO",n.qa),un(e,"TYPE","xmlhttp"),Lg(n,e),n.o&&n.s&&hO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=l0(aa(e)),t.s=null,t.S=!0,LH(t,n)}function g0(n){null!=n.v&&(He.clearTimeout(n.v),n.v=null)}function f$(n,e){var t=null;if(n.g==e){g0(n),gO(n),n.g=null;var i=2}else{if(!lO(n.i,e))return;t=e.F,XH(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;ji(i=t0(),new OH(i,t)),p0(n)}else d$(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function u1e(n,e){return!(YH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ig(rr(n.Na,n,e),p$(n,n.C)),n.C++,0)))}(n,e)||2==i&&pO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ml(n,5);break;case 4:Ml(n,10);break;case 3:Ml(n,6);break;default:Ml(n,2)}}function p$(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ml(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=rr(n.pb,n);t||(t=new Tl("//www.google.com/images/cleardot.gif"),He.location&&"http"==He.location.protocol||a0(t,"https"),l0(t)),function r1e(n,e){const t=new e0;if(He.Image){const i=new Image;i.onload=Kv(u0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Kv(u0,t,i,"TestLoadImage: error",!1,e),i.onabort=Kv(u0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Kv(u0,t,i,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else wr(2);n.H=0,n.h&&n.h.za(e),g$(n),c$(n)}function g$(n){if(n.H=0,n.ma=[],n.h){const e=ZH(n.i);(0!=e.length||0!=n.j.length)&&(uH(n.ma,e),uH(n.ma,n.j),n.i.i.length=0,Nk(n.j),n.j.length=0),n.h.ya()}}function m$(n,e,t){var i=t instanceof Tl?aa(t):new Tl(t);if(""!=i.g)e&&(i.g=e+"."+i.g),c0(i,i.m);else{var r=He.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Tl(null);i&&a0(o,i),e&&(o.g=e),r&&c0(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&un(i,t,e),un(i,"VER",n.ra),Lg(n,i),i}function _$(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(t&&n.Ha&&!n.va?new Pg({ob:!0}):n.va)).Oa(n.J),e}function b$(){}function m0(){if(Kd&&!(10<=Number(CEe)))throw Error("Environmental error: no available transport.")}function Xr(n,e){Ii.call(this),this.g=new a$(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!bg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xd(this)}function y$(n){iO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function v$(){rO.call(this),this.status=1}function Xd(n){this.g=n}function Uo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mO(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Nt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ue=Vn.prototype).Oa=function(n){this.M=n},ue.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oO.g(),this.C=function RH(n){return n.h||(n.h=n.i())}(this.u?this.u:oO),this.g.onreadystatechange=rr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void t$(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=He.FormData&&n instanceof He.FormData,!(0<=lH(a1e,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{r$(this),0<this.B&&((this.L=function c1e(n){return Kd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.ua,this)):this.A=tO(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){t$(this,o)}},ue.ua=function(){typeof Pk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ji(this,"timeout"),this.abort(8))},ue.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ji(this,"complete"),ji(this,"abort"),h0(this))},ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),h0(this,!0)),Vn.$.N.call(this)},ue.La=function(){this.s||(this.G||this.v||this.l?i$(this):this.kb())},ue.kb=function(){i$(this)},ue.isActive=function(){return!!this.g},ue.da=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ue.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),o1e(e)}},ue.Ia=function(){return this.m},ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=a$.prototype).ra=8,ue.H=1,ue.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Mg(this,this.l,n);let o=this.s;if(this.U&&(o?(o=gH(o),_H(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=u$(this,r,e),un(t=aa(this.I),"RID",n),un(t,"CVER",22),this.F&&un(t,"X-HTTP-Session-Id",this.F),Lg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(s$(o)))+"&"+e:this.o&&hO(t,this.o,o)),uO(this.i,r),this.bb&&un(t,"TYPE","init"),this.P?(un(t,"$req",e),un(t,"SID","null"),r.aa=!0,aO(r,t,null)):aO(r,t,e),this.H=2}}else 3==this.H&&(n?l$(this,n):0==this.j.length||QH(this.i)||l$(this))},ue.Ma=function(){if(this.u=null,h$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ig(rr(this.jb,this),n)}},ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wr(10),f0(this),h$(this))},ue.ib=function(){null!=this.v&&(this.v=null,f0(this),pO(this),wr(19))},ue.pb=function(n){n?(this.l.info("Successfully pinged google.com"),wr(2)):(this.l.info("Failed to ping google.com"),wr(1))},ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(ue=b$.prototype).Ba=function(){},ue.Aa=function(){},ue.za=function(){},ue.ya=function(){},ue.isActive=function(){return!0},ue.Va=function(){},m0.prototype.g=function(n,e){return new Xr(n,e)},Ei(Xr,Ii),Xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;wr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=m$(n,null,n.Y),p0(n)},Xr.prototype.close=function(){fO(this.g)},Xr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Zk(n),n=t);e.j.push(new JEe(e.fb++,n)),3==e.H&&p0(e)},Xr.prototype.N=function(){this.g.h=null,delete this.j,fO(this.g),delete this.g,Xr.$.N.call(this)},Ei(y$,iO),Ei(v$,rO),Ei(Xd,b$),Xd.prototype.Ba=function(){ji(this.g,"a")},Xd.prototype.Aa=function(n){ji(this.g,new y$(n))},Xd.prototype.za=function(n){ji(this.g,new v$)},Xd.prototype.ya=function(){ji(this.g,"b")},Ei(Uo,function d1e(){this.blockSize=-1}),Uo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Uo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)mO(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){mO(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){mO(this,i),r=0;break}}this.h=r,this.i+=e},Uo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var h1e={};function _O(n){return-128<=n&&128>n?function vEe(n,e){var t=h1e;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Nt([0|e],0>e?-1:0)}):new Nt([0|n],0>n?-1:0)}function Es(n){if(isNaN(n)||!isFinite(n))return Zd;if(0>n)return Hi(Es(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=bO;return new Nt(e,0)}var bO=4294967296,Zd=_O(0),yO=_O(1),x$=_O(16777216);function ca(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function _o(n){return-1==n.h}function Hi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Nt(t,~n.h).add(yO)}function _0(n,e){return n.add(Hi(e))}function b0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Vg(n,e){this.g=n,this.h=e}function y0(n,e){if(ca(e))throw Error("division by zero");if(ca(n))return new Vg(Zd,Zd);if(_o(n))return e=y0(Hi(n),e),new Vg(Hi(e.g),Hi(e.h));if(_o(e))return e=y0(n,Hi(e)),new Vg(Hi(e.g),e.h);if(30<n.g.length){if(_o(n)||_o(e))throw Error("slowDivide_ only works with positive integers.");for(var t=yO,i=e;0>=i.X(n);)t=C$(t),i=C$(i);var r=Jd(t,1),o=Jd(i,1);for(i=Jd(i,2),t=Jd(t,2);!ca(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Jd(i,1),t=Jd(t,1)}return e=_0(n,r.R(e)),new Vg(r,e)}for(r=Zd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Es(t)).R(e);_o(s)||0<s.X(n);)s=(o=Es(t-=i)).R(e);ca(o)&&(o=yO),r=r.add(o),n=_0(n,s)}return new Vg(r,n)}function C$(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Nt(t,n.h)}function Jd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Nt(r,n.h)}(ue=Nt.prototype).ea=function(){if(_o(this))return-Hi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:bO+i)*e,e*=bO}return n},ue.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ca(this))return"0";if(_o(this))return"-"+Hi(this).toString(n);for(var e=Es(Math.pow(n,6)),t=this,i="";;){var r=y0(t,e).g,o=((0<(t=_0(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ca(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ue.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ue.X=function(n){return _o(n=_0(this,n))?-1:ca(n)?0:1},ue.abs=function(){return _o(this)?Hi(this):this},ue.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Nt(t,-2147483648&t[t.length-1]?-1:0)},ue.R=function(n){if(ca(this)||ca(n))return Zd;if(_o(this))return _o(n)?Hi(this).R(Hi(n)):Hi(Hi(this).R(n));if(_o(n))return Hi(this.R(Hi(n)));if(0>this.X(x$)&&0>n.X(x$))return Es(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,b0(t,2*i+2*r),t[2*i+2*r+1]+=o*c,b0(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,b0(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,b0(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Nt(t,0)},ue.gb=function(n){return y0(this,n).h},ue.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Nt(t,this.h&n.h)},ue.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Nt(t,this.h|n.h)},ue.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Nt(t,this.h^n.h)},m0.prototype.createWebChannel=m0.prototype.g,Xr.prototype.send=Xr.prototype.u,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,n0.NO_ERROR=0,n0.TIMEOUT=8,n0.HTTP_ERROR=6,PH.COMPLETE="complete",NH.EventType=Tg,Tg.OPEN="a",Tg.CLOSE="b",Tg.ERROR="c",Tg.MESSAGE="d",Ii.prototype.listen=Ii.prototype.O,Vn.prototype.listenOnce=Vn.prototype.P,Vn.prototype.getLastError=Vn.prototype.Sa,Vn.prototype.getLastErrorCode=Vn.prototype.Ia,Vn.prototype.getStatus=Vn.prototype.da,Vn.prototype.getResponseJson=Vn.prototype.Wa,Vn.prototype.getResponseText=Vn.prototype.ja,Vn.prototype.send=Vn.prototype.ha,Vn.prototype.setWithCredentials=Vn.prototype.Oa,Uo.prototype.digest=Uo.prototype.l,Uo.prototype.reset=Uo.prototype.reset,Uo.prototype.update=Uo.prototype.j,Nt.prototype.add=Nt.prototype.add,Nt.prototype.multiply=Nt.prototype.R,Nt.prototype.modulo=Nt.prototype.gb,Nt.prototype.compare=Nt.prototype.X,Nt.prototype.toNumber=Nt.prototype.ea,Nt.prototype.toString=Nt.prototype.toString,Nt.prototype.getBits=Nt.prototype.D,Nt.fromNumber=Es,Nt.fromString=function w$(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Hi(w$(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Es(Math.pow(e,8)),i=Zd,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Es(Math.pow(e,o)),i=i.R(o).add(Es(s))):i=(i=i.R(t)).add(Es(s))}return i};var f1e=Bo.createWebChannelTransport=function(){return new m0},p1e=Bo.getStatEventTarget=function(){return t0()},vO=Bo.ErrorCode=n0,g1e=Bo.EventType=PH,m1e=Bo.Event=El,E$=Bo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_1e=Bo.FetchXmlHttpFactory=Pg,v0=Bo.WebChannel=NH,b1e=Bo.XhrIo=Vn,y1e=Bo.Md5=Uo,eh=Bo.Integer=Nt;const I$="@firebase/firestore";class Ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let th="9.23.0";const ic=new hl("@firebase/firestore");function wO(){return ic.logLevel}function te(n,...e){if(ic.logLevel<=mt.DEBUG){const t=e.map(xO);ic.debug(`Firestore (${th}): ${n}`,...t)}}function Yn(n,...e){if(ic.logLevel<=mt.ERROR){const t=e.map(xO);ic.error(`Firestore (${th}): ${n}`,...t)}}function zo(n,...e){if(ic.logLevel<=mt.WARN){const t=e.map(xO);ic.warn(`Firestore (${th}): ${n}`,...t)}}function xO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pe(n="Unexpected state"){const e=`FIRESTORE (${th}) INTERNAL ASSERTION FAILED: `+n;throw Yn(e),new Error(e)}function ye(n,e){n||pe()}function le(n,e){return n}const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class T${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ti.UNAUTHENTICATED))}shutdown(){}}class w1e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class x1e{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(m(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye("string"==typeof i.accessToken),new T$(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(null===e||"string"==typeof e),new Ti(e)}}class C1e{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class E1e{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new C1e(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I1e{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye("string"==typeof t.token),this.T=t.token,new M$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function T1e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class D${static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=T1e(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function nh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function S$(n){return n+"\0"}class Mn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Z(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Mn(0,0))}static max(){return new ve(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bg{constructor(e,t,i){void 0===t?t=0:t>e.length&&pe(),void 0===i?i=e.length-t:i>e.length-t&&pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Bg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xt extends Bg{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Z(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const M1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Bg{construct(e,t,i){return new Xn(e,t,i)}static isValidIdentifier(e){return M1e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Z(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new Z(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Z(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Z(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(xt.fromString(e))}static fromName(e){return new ae(xt.fromString(e).popFirst(5))}static empty(){return new ae(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new xt(e.slice()))}}class w0{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function CO(n){return n.fields.find(e=>2===e.kind)}function Dl(n){return n.fields.filter(e=>2!==e.kind)}w0.UNKNOWN_ID=-1;class x0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ug{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ug(0,Zr.min())}}function k$(n){return new Zr(n.readTime,n.key,-1)}class Zr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Zr(ve.min(),ae.empty(),-1)}static max(){return new Zr(ve.max(),ae.empty(),-1)}}function EO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ae.comparator(n.documentKey,e.documentKey),0!==t?t:Ue(n.largestBatchId,e.largestBatchId))}const O$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rc(n){return IO.apply(this,arguments)}function IO(){return IO=m(function*(n){if(n.code!==V.FAILED_PRECONDITION||n.message!==O$)throw n;te("LocalStore","Unexpectedly lost primary lease")}),IO.apply(this,arguments)}class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new F((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof F?t:F.resolve(t)}catch(t){return F.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):F.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):F.reject(t)}static resolve(e){return new F((t,i)=>{t(e)})}static reject(e){return new F((t,i)=>{i(e)})}static waitFor(e){return new F((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=F.resolve(!1);for(const i of e)t=t.next(r=>r?F.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new F((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new F((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class C0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new mi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new zg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=TO(i.target.error);this.v.reject(new zg(e,r))}}static open(e,t,i,r){try{return new C0(t,e.transaction(r,i))}catch(o){throw new zg(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new k1e(t)}}class jo{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===jo.S(Qn())&&Yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Sl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!qa())return!1;if(jo.C())return!0;const e=Qn(),t=jo.S(e),i=0<t&&t<10,r=jo.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return m(function*(){return t.db||(te("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new zg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new Z(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Z(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new zg(e,a))},o.onupgradeneeded=s=>{te("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{te("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return m(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=C0.open(o.db,e,s?"readonly":"readwrite",i),l=r(c).next(u=>(c.P(),u)).catch(u=>(c.abort(u),F.reject(u))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class A1e{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Sl(this.L.delete())}}class zg extends Z{constructor(e,t){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function oc(n){return"IndexedDbTransactionError"===n.name}class k1e{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(te("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Sl(i)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Sl(this.store.add(e))}get(e){return Sl(this.store.get(e)).next(t=>(void 0===t&&(t=null),te("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Sl(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Sl(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new F((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new F((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,t){te("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new F((i,r)=>{t.onerror=o=>{const s=TO(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,t){const i=[];return new F((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new A1e(a),l=t(a.primaryKey,a.value,c);if(l instanceof F){const u=l.catch(d=>(c.done(),F.reject(d)));i.push(u)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>F.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Sl(n){return new F((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=TO(i.target.error);t(r)}})}let R$=!1;function TO(n){const e=jo.S(Qn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return R$||(R$=!0,setTimeout(()=>{throw i},0)),i}}return n}class O1e{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;te("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,m(function*(){t.task=null;try{te("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){oc(i)?te("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield rc(i)}yield t.et(6e4)}))}}class P1e{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return m(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return F.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return te("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(te("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=k$(o);EO(s,i)>0&&(i=s)}),new Zr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Jr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jg(n){return null==n}function Hg(n){return 0===n&&1/n==-1/0}function sr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=F$(e)),e=R1e(n.get(t),e);return F$(e)}function R1e(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function F$(n){return n+"\x01\x01"}function Is(n){const e=n.length;if(ye(e>=2),2===e)return ye("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&pe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:pe()}o=s+2}return new xt(i)}const L$=["userId","batchId"];function E0(n,e){return[n,sr(e)]}function V$(n,e,t){return[n,sr(e),t]}const N1e={},F1e=["prefixPath","collectionGroup","readTime","documentId"],L1e=["prefixPath","collectionGroup","documentId"],V1e=["collectionGroup","readTime","prefixPath","documentId"],B1e=["canonicalId","targetId"],U1e=["targetId","path"],z1e=["path","targetId"],j1e=["collectionId","parent"],H1e=["indexId","uid"],$1e=["uid","sequenceNumber"],G1e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q1e=["indexId","uid","orderedDocumentKey"],W1e=["userId","collectionPath","documentId"],K1e=["userId","collectionPath","largestBatchId"],Q1e=["userId","collectionGroup","largestBatchId"],B$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y1e=[...B$,"documentOverlays"],U$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],z$=U$,X1e=[...z$,"indexConfiguration","indexState","indexEntries"];class MO extends P${constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Mi(n,e){const t=le(n);return jo.M(t.ht,e)}function j$(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function H$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rn{constructor(e,t){this.comparator=e,this.root=t||$i.EMPTY}insert(e,t){return new rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new I0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new I0(this.root,e,this.comparator,!1)}getReverseIterator(){return new I0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new I0(this.root,e,this.comparator,!0)}}class I0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??$i.RED,this.left=r??$i.EMPTY,this.right=o??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new $i(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $i.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(n,e,t,i,r){return this}insert(n,e,t){return new $i(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $$(this.data.getIterator())}getIteratorFrom(e){return new $$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class $${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ih(n){return n.hasNext()?n.getNext():void 0}class Lr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Lr([])}unionWith(e){let t=new dn(Xn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Lr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class G$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new G$("Invalid base64 string: "+r):r}}(e);return new _i(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new _i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const Z1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ac(n){if(ye(!!n),"string"==typeof n){let e=0;const t=Z1e.exec(n);if(ye(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bn(n.seconds),nanos:Bn(n.nanos)}}function Bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function la(n){return"string"==typeof n?_i.fromBase64String(n):_i.fromUint8Array(n)}function T0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function M0(n){const e=n.mapValue.fields.__previous_value__;return T0(e)?M0(e):e}function $g(n){const e=ac(n.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class J1e{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}const cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},D0={nullValue:"NULL_VALUE"};function lc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T0(n)?4:Q$(n)?9007199254740991:10:pe()}function Ts(n,e){if(n===e)return!0;const t=lc(n);if(t!==lc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $g(n).isEqual($g(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=ac(i.timestampValue),s=ac(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,la(n.bytesValue).isEqual(la(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Bn(i.geoPointValue.latitude)===Bn(r.geoPointValue.latitude)&&Bn(i.geoPointValue.longitude)===Bn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bn(i.integerValue)===Bn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Bn(i.doubleValue),s=Bn(r.doubleValue);return o===s?Hg(o)===Hg(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return nh(n.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(j$(o)!==j$(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Ts(o[a],s[a])))return!1;return!0}(n,e);default:return pe()}var r}function Gg(n,e){return void 0!==(n.values||[]).find(t=>Ts(t,e))}function uc(n,e){if(n===e)return 0;const t=lc(n),i=lc(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=Bn(r.integerValue||r.doubleValue),a=Bn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return q$(n.timestampValue,e.timestampValue);case 4:return q$($g(n),$g(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(r,o){const s=la(r),a=la(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=Ue(s[c],a[c]);if(0!==l)return l}return Ue(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=Ue(Bn(r.latitude),Bn(o.latitude));return 0!==s?s:Ue(Bn(r.longitude),Bn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=uc(s[c],a[c]);if(l)return l}return Ue(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===cc.mapValue&&o===cc.mapValue)return 0;if(r===cc.mapValue)return 1;if(o===cc.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=Ue(a[u],l[u]);if(0!==d)return d;const h=uc(s[a[u]],c[l[u]]);if(0!==h)return h}return Ue(a.length,l.length)}(n.mapValue,e.mapValue);default:throw pe()}}function q$(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ue(n,e);const t=ac(n),i=ac(e),r=Ue(t.seconds,i.seconds);return 0!==r?r:Ue(t.nanos,i.nanos)}function rh(n){return DO(n)}function DO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ac(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?la(n.bytesValue).toBase64():"referenceValue"in n?ae.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=DO(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${DO(i.fields[a])}`;return o+"}"}(n.mapValue):pe();var e}function kl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function SO(n){return!!n&&"integerValue"in n}function qg(n){return!!n&&"arrayValue"in n}function W$(n){return!!n&&"nullValue"in n}function K$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function A0(n){return!!n&&"mapValue"in n}function Wg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Wg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Q$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function eIe(n){return"nullValue"in n?D0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kl(Al.empty(),ae.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pe()}function tIe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kl(Al.empty(),ae.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?cc:pe()}function Y$(n,e){const t=uc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function X$(n,e){const t=uc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Gi{constructor(e){this.value=e}static empty(){return new Gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!A0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wg(t)}setAll(e){let t=Xn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Wg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());A0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];A0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){sc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Gi(Wg(this.value))}}function Z$(n){const e=[];return sc(n.fields,(t,i)=>{const r=new Xn([t]);if(A0(i)){const o=Z$(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Lr(e)}class hn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,ve.min(),ve.min(),ve.min(),Gi.empty(),0)}static newFoundDocument(e,t,i,r){return new hn(e,1,t,ve.min(),i,r,0)}static newNoDocument(e,t){return new hn(e,2,t,ve.min(),ve.min(),Gi.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,ve.min(),ve.min(),Gi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dc{constructor(e,t){this.position=e,this.inclusive=t}}function J$(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ae.comparator(ae.fromName(s.referenceValue),t.key):uc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function eG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ts(n.position[t],e.position[t]))return!1;return!0}class oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function nIe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class tG{}class ft extends tG{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new iIe(e,t,i):"array-contains"===t?new sIe(e,i):"in"===t?new aG(e,i):"not-in"===t?new aIe(e,i):"array-contains-any"===t?new cIe(e,i):new ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new rIe(e,i):new oIe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(uc(t,this.value)):null!==t&&lc(this.value)===lc(t)&&this.matchesComparison(uc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ft extends tG{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ft(e,t)}matches(e){return sh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sh(n){return"and"===n.op}function AO(n){return"or"===n.op}function kO(n){return nG(n)&&sh(n)}function nG(n){for(const e of n.filters)if(e instanceof Ft)return!1;return!0}function OO(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+rh(n.value);if(kO(n))return n.filters.map(e=>OO(e)).join(",");{const e=n.filters.map(t=>OO(t)).join(",");return`${n.op}(${e})`}}function iG(n,e){return n instanceof ft?(t=n,(i=e)instanceof ft&&t.op===i.op&&t.field.isEqual(i.field)&&Ts(t.value,i.value)):n instanceof Ft?function(t,i){return i instanceof Ft&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&iG(o,i.filters[s]),!0)}(n,e):void pe();var t,i}function rG(n,e){const t=n.filters.concat(e);return Ft.create(t,n.op)}function oG(n){return n instanceof ft?`${(e=n).field.canonicalString()} ${e.op} ${rh(e.value)}`:n instanceof Ft?function(e){return e.op.toString()+" {"+e.getFilters().map(oG).join(" ,")+"}"}(n):"Filter";var e}class iIe extends ft{constructor(e,t,i){super(e,t,i),this.key=ae.fromName(i.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class rIe extends ft{constructor(e,t){super(e,"in",t),this.keys=sG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oIe extends ft{constructor(e,t){super(e,"not-in",t),this.keys=sG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ae.fromName(i.referenceValue))}class sIe extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qg(t)&&Gg(t.arrayValue,this.value)}}class aG extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gg(this.value.arrayValue,t)}}class aIe extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gg(this.value.arrayValue,t)}}class cIe extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gg(this.value.arrayValue,i))}}class lIe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function PO(n,e=null,t=[],i=[],r=null,o=null,s=null){return new lIe(n,e,t,i,r,o,s)}function Ol(n){const e=le(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>OO(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),jg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rh(i)).join(",")),e.dt=t}return e.dt}function Kg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nIe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iG(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eG(n.startAt,e.startAt)&&eG(n.endAt,e.endAt)}function k0(n){return ae.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function O0(n,e){return n.filters.filter(t=>t instanceof ft&&t.field.isEqual(e))}function cG(n,e,t){let i=D0,r=!0;for(const o of O0(n,e)){let s=D0,a=!0;switch(o.op){case"<":case"<=":s=eIe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=D0}Y$({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];Y$({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function lG(n,e,t){let i=cc,r=!0;for(const o of O0(n,e)){let s=cc,a=!0;switch(o.op){case">=":case">":s=tIe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=cc}X$({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];X$({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class ua{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function ah(n){return new ua(n)}function dG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function RO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function P0(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function NO(n){return null!==n.collectionGroup}function Pl(n){const e=le(n);if(null===e.wt){e.wt=[];const t=P0(e),i=RO(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new oh(t)),e.wt.push(new oh(Xn.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new oh(Xn.keyField(),o))}}}return e.wt}function xr(n){const e=le(n);if(!e._t)if("F"===e.limitType)e._t=PO(e.path,e.collectionGroup,Pl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Pl(e))t.push(new oh(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new dc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new dc(e.startAt.position,e.startAt.inclusive):null;e._t=PO(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function FO(n,e){e.getFirstInequalityField(),P0(n);const t=n.filters.concat([e]);return new ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function R0(n,e,t){return new ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qg(n,e){return Kg(xr(n),xr(e))&&n.limitType===e.limitType}function hG(n){return`${Ol(xr(n))}|lt:${n.limitType}`}function LO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>oG(i)).join(", ")}]`),jg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rh(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rh(i)).join(",")),`Target(${t})`}(xr(n))}; limitType=${n.limitType})`}function Yg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ae.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Pl(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=J$(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,Pl(t),i)||t.endAt&&!function(r,o,s){const a=J$(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,Pl(t),i)));var t,i}function pG(n){return(e,t)=>{let i=!1;for(const r of Pl(n)){const o=uIe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function uIe(n,e,t){const i=n.field.isKeyField()?ae.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),c=s.data.field(r);return null!==a&&null!==c?uc(a,c):pe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pe()}}class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return H$(this.inner)}size(){return this.innerSize}}const dIe=new rn(ae.comparator);function Vr(){return dIe}const gG=new rn(ae.comparator);function Xg(...n){let e=gG;for(const t of n)e=e.insert(t.key,t);return e}function mG(n){let e=gG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ms(){return Zg()}function _G(){return Zg()}function Zg(){return new da(n=>n.toString(),(n,e)=>n.isEqual(e))}const hIe=new rn(ae.comparator),fIe=new dn(ae.comparator);function Ke(...n){let e=fIe;for(const t of n)e=e.add(t);return e}const pIe=new dn(Ue);function bG(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hg(e)?"-0":e}}function yG(n){return{integerValue:""+n}}function vG(n,e){return function N$(n){return"number"==typeof n&&Number.isInteger(n)&&!Hg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?yG(e):bG(n,e)}class N0{constructor(){this._=void 0}}function gIe(n,e,t){return n instanceof ch?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&T0(r)&&(r=M0(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Rl?xG(n,e):n instanceof Nl?CG(n,e):function(i,r){const o=wG(i,r),s=EG(o)+EG(i.gt);return SO(o)&&SO(i.gt)?yG(s):bG(i.serializer,s)}(n,e)}function mIe(n,e,t){return n instanceof Rl?xG(n,e):n instanceof Nl?CG(n,e):t}function wG(n,e){return n instanceof lh?SO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ch extends N0{}class Rl extends N0{constructor(e){super(),this.elements=e}}function xG(n,e){const t=IG(e);for(const i of n.elements)t.some(r=>Ts(r,i))||t.push(i);return{arrayValue:{values:t}}}class Nl extends N0{constructor(e){super(),this.elements=e}}function CG(n,e){let t=IG(e);for(const i of n.elements)t=t.filter(r=>!Ts(r,i));return{arrayValue:{values:t}}}class lh extends N0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function EG(n){return Bn(n.integerValue||n.doubleValue)}function IG(n){return qg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jg{constructor(e,t){this.field=e,this.transform=t}}class bIe{constructor(e,t){this.version=e,this.transformResults=t}}class xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function F0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class L0{}function TG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new dh(n.key,xn.none()):new uh(n.key,n.data,xn.none());{const t=n.data,i=Gi.empty();let r=new dn(Xn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new ha(n.key,i,new Lr(r.toArray()),xn.none())}}function yIe(n,e,t){n instanceof uh?function(i,r,o){const s=i.value.clone(),a=SG(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof ha?function(i,r,o){if(!F0(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=SG(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(DG(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function em(n,e,t,i){return n instanceof uh?function(r,o,s,a){if(!F0(r.precondition,o))return s;const c=r.value.clone(),l=AG(r.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof ha?function(r,o,s,a){if(!F0(r.precondition,o))return s;const c=AG(r.fieldTransforms,a,o),l=o.data;return l.setAll(DG(r)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,F0(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function vIe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=wG(i.transform,r||null);null!=o&&(null===t&&(t=Gi.empty()),t.set(i.field,o))}return t||null}function MG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&nh(t,i,(r,o)=>function _Ie(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Rl&&i instanceof Rl||t instanceof Nl&&i instanceof Nl?nh(t.elements,i.elements,Ts):t instanceof lh&&i instanceof lh?Ts(t.gt,i.gt):t instanceof ch&&i instanceof ch);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class uh extends L0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ha extends L0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function SG(n,e,t){const i=new Map;ye(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,mIe(s,a,t[r]))}return i}function AG(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,gIe(o,s,e))}return i}class dh extends L0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BO extends L0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&yIe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=em(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=em(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_G();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=TG(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&nh(this.mutations,e.mutations,(t,i)=>MG(t,i))&&nh(this.baseMutations,e.baseMutations,(t,i)=>MG(t,i))}}class zO{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ye(e.mutations.length===i.length);let r=hIe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new zO(e,t,i,r)}}class jO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xIe{constructor(e,t){this.count=e,this.unchangedNames=t}}var ii,Ct;function OG(n){if(void 0===n)return Yn("GRPC error has no .code"),V.UNKNOWN;switch(n){case ii.OK:return V.OK;case ii.CANCELLED:return V.CANCELLED;case ii.UNKNOWN:return V.UNKNOWN;case ii.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ii.INTERNAL:return V.INTERNAL;case ii.UNAVAILABLE:return V.UNAVAILABLE;case ii.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ii.NOT_FOUND:return V.NOT_FOUND;case ii.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ii.ABORTED:return V.ABORTED;case ii.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ii.DATA_LOSS:return V.DATA_LOSS;default:return pe()}}(Ct=ii||(ii={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";class HO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return V0}static getOrCreateInstance(){return null===V0&&(V0=new HO),V0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let V0=null;const CIe=new eh([4294967295,4294967295],0);function RG(n){const e=function PG(){return new TextEncoder}().encode(n),t=new y1e;return t.update(e),new Uint8Array(t.digest())}function NG(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eh([t,i],0),new eh([r,o],0)]}class $O{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new tm(`Invalid padding: ${t}`);if(i<0)throw new tm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new tm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new tm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=eh.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(eh.fromNumber(i)));return 1===r.compare(CIe)&&(r=new eh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=RG(e),[i,r]=NG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new $O(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=RG(e),[i,r]=NG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nm{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,im.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new nm(ve.min(),r,new rn(Ue),Vr(),Ke())}}class im{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new im(i,t,Ke(),Ke(),Ke())}}class B0{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class FG{constructor(e,t){this.targetId=e,this.Vt=t}}class LG{constructor(e,t,i=_i.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class VG{constructor(){this.St=0,this.Dt=UG(),this.Ct=_i.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ke(),t=Ke(),i=Ke();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:pe()}}),new im(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=UG()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class EIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vr(),this.zt=BG(),this.Wt=new rn(Ue)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(k0(s))if(0===r){const a=new ae(s.path);this.Yt(i,a,hn.newNoDocument(a,ve.min()))}else ye(1===r);else{const a=this.ie(i);if(a!==r){const c=this.re(e,a);0!==c&&(this.ee(i),this.Wt=this.Wt.insert(i,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=HO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,y,C,I,k;const D={localCacheCount:u,existenceFilterCount:d.count},B=d.unchangedNames;return B&&(D.bloomFilter={applied:0===l,hashCount:null!==(h=B?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(C=null===(y=null===(f=B?.bits)||void 0===f?void 0:f.bitmap)||void 0===y?void 0:y.length)&&void 0!==C?C:0,padding:null!==(k=null===(I=B?.bits)||void 0===I?void 0:I.padding)&&void 0!==k?k:0}),D}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let c,l;try{c=la(o).toUint8Array()}catch(u){if(u instanceof G$)return zo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new $O(c,s,a)}catch(u){return zo(u instanceof tm?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&k0(a.target)){const c=new ae(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,hn.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=Ke();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new nm(e,t,this.Wt,this.jt,i);return this.jt=Vr(),this.zt=BG(),this.Wt=new rn(Ue),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new VG,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new dn(Ue),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||te("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new VG),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function BG(){return new rn(ae.comparator)}function UG(){return new rn(ae.comparator)}const IIe={asc:"ASCENDING",desc:"DESCENDING"},TIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MIe={and:"AND",or:"OR"};class DIe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function GO(n,e){return n.useProto3Json||jg(e)?e:{value:e}}function hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zG(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SIe(n,e){return hh(n,e.toTimestamp())}function Zn(n){return ye(!!n),ve.fromTimestamp(function(e){const t=ac(e);return new Mn(t.seconds,t.nanos)}(n))}function qO(n,e){return(t=n,new xt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function jG(n){const e=xt.fromString(n);return ye(XG(e)),e}function rm(n,e){return qO(n.databaseId,e.path)}function Ds(n,e){const t=jG(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae($G(t))}function WO(n,e){return qO(n.databaseId,e)}function HG(n){const e=jG(n);return 4===e.length?xt.emptyPath():$G(e)}function om(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $G(n){return ye(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GG(n,e,t){return{name:rm(n,e),fields:t.value.mapValue.fields}}function sm(n,e){let t;if(e instanceof uh)t={update:GG(n,e.key,e.value)};else if(e instanceof dh)t={delete:rm(n,e.key)};else if(e instanceof ha)t={update:GG(n,e.key,e.data),updateMask:LIe(e.fieldMask)};else{if(!(e instanceof BO))return pe();t={verify:rm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof lh)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw pe()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:SIe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pe()),t;var r}function KO(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?xn.updateTime(Zn(r.updateTime)):void 0!==r.exists?xn.exists(r.exists):xn.none():xn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;"setToServerValue"in s?(ye("REQUEST_TIME"===s.setToServerValue),a=new ch):"appendMissingElements"in s?a=new Rl(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new Nl(s.removeAllFromArray.values||[]):"increment"in s?a=new lh(o,s.increment):pe();const c=Xn.fromServerFormat(s.fieldPath);return new Jg(c,a)}(n,r)):[];var r;if(e.update){const r=Ds(n,e.update.name),o=new Gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Lr((e.updateMask.fieldPaths||[]).map(l=>Xn.fromServerFormat(l)));return new ha(r,o,s,t,i)}return new uh(r,o,t,i)}if(e.delete){const r=Ds(n,e.delete);return new dh(r,t)}if(e.verify){const r=Ds(n,e.verify);return new BO(r,t)}return pe()}function WG(n,e){return{documents:[WO(n,e.path)]}}function QO(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=WO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=WO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return YG(Ft.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:hc((u=l).field),direction:RIe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=GO(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function KG(n){let e=HG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ye(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=QG(u);return d instanceof Ft&&kO(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new oh(fh((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,jg(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new dc((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new dc(u.values||[],!u.before)}(t.endAt)),function uG(n,e,t,i,r,o,s,a){return new ua(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",c,l)}function QG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fh(e.unaryFilter.field);return ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=fh(e.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fh(e.unaryFilter.field);return ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fh(e.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(n):void 0!==n.fieldFilter?ft.create(fh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ft.create(e.compositeFilter.filters.map(t=>QG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pe()}}(e.compositeFilter.op))}(n):pe();var e}function RIe(n){return IIe[n]}function NIe(n){return TIe[n]}function FIe(n){return MIe[n]}function hc(n){return{fieldPath:n.canonicalString()}}function fh(n){return Xn.fromServerFormat(n.fieldPath)}function YG(n){return n instanceof ft?function(e){if("=="===e.op){if(K$(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NAN"}};if(W$(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(K$(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NAN"}};if(W$(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(e.field),op:NIe(e.op),value:e.value}}}(n):n instanceof Ft?function(e){const t=e.getFilters().map(i=>YG(i));return 1===t.length?t[0]:{compositeFilter:{op:FIe(e.op),filters:t}}}(n):pe()}function LIe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class fa{constructor(e,t,i,r,o=ve.min(),s=ve.min(),a=_i.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZG{constructor(e){this.fe=e}}function JG(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:U0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:rm(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:hh(r,o.version.toTimestamp()),createTime:hh(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Fl(e.version)};else{if(!e.isUnknownDocument())return pe();i.unknownDocument={path:t.path.toArray(),version:Fl(e.version)}}var r,o;return i}function U0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Fl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ll(n){const e=new Mn(n.seconds,n.nanoseconds);return ve.fromTimestamp(e)}function Vl(n,e){const t=(e.baseMutations||[]).map(o=>KO(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>KO(n.fe,o)),r=Mn.fromMillis(e.localWriteTimeMs);return new UO(e.batchId,r,t,i)}function am(n){const e=Ll(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ll(n.lastLimboFreeSnapshotVersion):ve.min();let i;var r;return void 0!==n.query.documents?(ye(1===(r=n.query).documents.length),i=xr(ah(HG(r.documents[0])))):i=xr(KG(n.query)),new fa(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,_i.fromBase64String(n.resumeToken))}function eq(n,e){const t=Fl(e.snapshotVersion),i=Fl(e.lastLimboFreeSnapshotVersion);let r;r=k0(e.target)?WG(n.fe,e.target):QO(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ol(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function YO(n){const e=KG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?R0(e,e.limit,"L"):e}function XO(n,e){return new jO(e.largestBatchId,KO(n.fe,e.overlayMutation))}function tq(n,e){const t=e.path.lastSegment();return[n,sr(e.path.popLast()),t]}function nq(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Fl(i.readTime),documentKey:sr(i.documentKey.path),largestBatchId:i.largestBatchId}}class BIe{getBundleMetadata(e,t){return iq(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ll(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return iq(e).put({bundleId:(i=t).id,createTime:Fl(Zn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return rq(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:YO(r.bundledQuery),readTime:Ll(r.readTime)};var r})}saveNamedQuery(e,t){return rq(e).put({name:(i=t).name,readTime:Fl(Zn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function iq(n){return Mi(n,"bundles")}function rq(n){return Mi(n,"namedQueries")}class z0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new z0(e,t.uid||"")}getOverlay(e,t){return cm(e).get(tq(this.userId,t)).next(i=>i?XO(this.serializer,i):null)}getOverlays(e,t){const i=Ms();return F.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new jO(t,s);r.push(this.we(e,a))}),F.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(sr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(cm(e).J("collectionPathOverlayIndex",a))}),F.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ms(),o=sr(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return cm(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=XO(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ms();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cm(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=XO(this.serializer,l);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,t){return cm(e).put(function(i,r,o){const[s,a,c]=tq(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:sm(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function cm(n){return Mi(n,"documentOverlays")}class Bl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Bn(e.integerValue));else if("doubleValue"in e){const i=Bn(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Hg(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(la(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Q$(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ae.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function UIe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function oq(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=UIe(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Bl.Ve=new Bl;class zIe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=oq(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=oq(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class jIe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class HIe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class lm{constructor(){this.je=new zIe,this.ze=new jIe(this.je),this.We=new HIe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ul{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Ul(this.indexId,this.documentKey,this.arrayValue,i)}}function fc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=sq(n.arrayValue,e.arrayValue),0!==t?t:(t=sq(n.directionalValue,e.directionalValue),0!==t?t:ae.comparator(n.documentKey,e.documentKey)))}function sq(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class $Ie{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){ye(e.collectionGroup===this.collectionId);const t=CO(e);if(void 0!==t&&!this.en(t))return!1;const i=Dl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function aq(n){var e,t;if(ye(n instanceof ft||n instanceof Ft),n instanceof ft){if(n instanceof aG){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>ft.create(n.field,"==",o)))||[];return Ft.create(r,"or")}return n}const i=n.filters.map(r=>aq(r));return Ft.create(i,n.op)}function GIe(n){if(0===n.getFilters().length)return[];const e=eP(aq(n));return ye(cq(e)),ZO(e)||JO(e)?[e]:e.getFilters()}function ZO(n){return n instanceof ft}function JO(n){return n instanceof Ft&&kO(n)}function cq(n){return ZO(n)||JO(n)||function(e){if(e instanceof Ft&&AO(e)){for(const t of e.getFilters())if(!ZO(t)&&!JO(t))return!1;return!0}return!1}(n)}function eP(n){if(ye(n instanceof ft||n instanceof Ft),n instanceof ft)return n;if(1===n.filters.length)return eP(n.filters[0]);const e=n.filters.map(i=>eP(i));let t=Ft.create(e,n.op);return t=j0(t),cq(t)?t:(ye(t instanceof Ft),ye(sh(t)),ye(t.filters.length>1),t.filters.reduce((i,r)=>tP(i,r)))}function tP(n,e){let t;return ye(n instanceof ft||n instanceof Ft),ye(e instanceof ft||e instanceof Ft),t=n instanceof ft?e instanceof ft?Ft.create([n,e],"and"):lq(n,e):e instanceof ft?lq(e,n):function(i,r){if(ye(i.filters.length>0&&r.filters.length>0),sh(i)&&sh(r))return rG(i,r.getFilters());const o=AO(i)?i:r,s=AO(i)?r:i,a=o.filters.map(c=>tP(c,s));return Ft.create(a,"or")}(n,e),j0(t)}function lq(n,e){if(sh(e))return rG(e,n.getFilters());{const t=e.filters.map(i=>tP(n,i));return Ft.create(t,"or")}}function j0(n){if(ye(n instanceof ft||n instanceof Ft),n instanceof ft)return n;const e=n.getFilters();if(1===e.length)return j0(e[0]);if(nG(n))return n;const t=e.map(r=>j0(r)),i=[];return t.forEach(r=>{r instanceof ft?i.push(r):r instanceof Ft&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Ft.create(i,n.op)}class qIe{constructor(){this.rn=new nP}addToCollectionParentIndex(e,t){return this.rn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Zr.min())}updateCollectionGroup(e,t,i){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}}class nP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new dn(xt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new dn(xt.comparator)).toArray()}}const H0=new Uint8Array(0);class WIe{constructor(e,t){this.user=e,this.databaseId=t,this.on=new nP,this.un=new da(i=>Ol(i),(i,r)=>Kg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:sr(r)};return uq(e).put(o)}return F.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[S$(t),""],!1,!0);return uq(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Is(s.parent))}return i})}addFieldIndex(e,t){const i=$0(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete r.indexId;const o=i.add(r);if(t.indexState){const s=dm(e);return o.next(a=>{s.put(nq(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=$0(e),r=dm(e),o=um(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=um(e);let r=!0;const o=new Map;return F.forEach(this.cn(t),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Ke();const a=[];return F.forEach(o,(c,l)=>{var u;te("IndexedDbIndexManager",`Using index ${u=c,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`} to execute ${Ol(t)}`);const d=function(B,Y){const oe=CO(Y);if(void 0===oe)return null;for(const he of O0(B,oe.fieldPath))switch(he.op){case"array-contains-any":return he.value.arrayValue.values||[];case"array-contains":return[he.value]}return null}(l,c),h=function(B,Y){const oe=new Map;for(const he of Dl(Y))for(const $e of O0(B,he.fieldPath))switch($e.op){case"==":case"in":oe.set(he.fieldPath.canonicalString(),$e.value);break;case"not-in":case"!=":return oe.set(he.fieldPath.canonicalString(),$e.value),Array.from(oe.values())}return null}(l,c),f=function(B,Y){const oe=[];let he=!0;for(const $e of Dl(Y)){const pt=0===$e.kind?cG(B,$e.fieldPath,B.startAt):lG(B,$e.fieldPath,B.startAt);oe.push(pt.value),he&&(he=pt.inclusive)}return new dc(oe,he)}(l,c),y=function(B,Y){const oe=[];let he=!0;for(const $e of Dl(Y)){const pt=0===$e.kind?lG(B,$e.fieldPath,B.endAt):cG(B,$e.fieldPath,B.endAt);oe.push(pt.value),he&&(he=pt.inclusive)}return new dc(oe,he)}(l,c),C=this.hn(c,l,f),I=this.hn(c,l,y),k=this.ln(c,l,h),D=this.fn(c.indexId,d,C,f.inclusive,I,y.inclusive,k);return F.forEach(D,B=>i.H(B,t.limit).next(Y=>{Y.forEach(oe=>{const he=ae.fromSegments(oe.documentKey);s.has(he)||(s=s.add(he),a.push(he))})}))}).next(()=>a)}return F.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:GIe(Ft.create(e.filters,"and")).map(i=>PO(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),l=c/(null!=t?t.length:1),u=[];for(let d=0;d<c;++d){const h=t?this.dn(t[d/l]):H0,f=this.wn(e,h,i[d%l],r),y=this._n(e,h,o[d%l],s),C=a.map(I=>this.wn(e,h,I,!0));u.push(...this.createRange(f,y,C))}return u}wn(e,t,i,r){const o=new Ul(e,ae.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new Ul(e,ae.empty(),t,i);return r?o.Je():o}an(e,t){const i=new $Ie(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.cn(t);return F.forEach(r,o=>this.an(e,o).next(s=>{s?0!==i&&s.fields.length<function(a){let c=new dn(Xn.comparator),l=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?l=!0:c=c.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(l?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new lm;for(const r of Dl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.He(r.kind);Bl.Ve._e(o,s)}return i.Qe()}dn(e){const t=new lm;return Bl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new lm;return Bl.Ve._e(kl(this.databaseId,t),i.He(function(r){const o=Dl(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new lm);let o=0;for(const s of Dl(e)){const a=i[o++];for(const c of r)if(this.yn(t,s.fieldPath)&&qg(a))r=this.pn(r,s,a);else{const l=c.He(s.kind);Bl.Ve._e(a,l)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new lm;c.seed(a.Qe()),Bl.Ve._e(s,c.He(t.kind)),o.push(c)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof ft&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=$0(e),r=dm(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const s=[];return F.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(l,u){const d=u?new Ug(u.sequenceNumber,new Zr(Ll(u.readTime),new ae(Is(u.documentKey)),u.largestBatchId)):Ug.empty(),h=l.fields.map(([f,y])=>new x0(Xn.fromServerFormat(f),y));return new w0(l.indexId,l.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ue(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=$0(e),o=dm(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>F.forEach(a,c=>o.put(nq(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return F.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?F.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),F.forEach(a,c=>this.En(e,r,c).next(l=>{const u=this.An(o,c);return l.isEqual(u)?F.resolve():this.vn(e,o,c,l,u)}))))})}Rn(e,t,i,r){return um(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return um(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=um(e);let o=new dn(fc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(s,a)=>{o=o.add(new Ul(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let i=new dn(fc);const r=this.mn(t,e);if(null==r)return i;const o=CO(t);if(null!=o){const s=e.data.field(o.fieldPath);if(qg(s))for(const a of s.arrayValue.values||[])i=i.add(new Ul(t.indexId,e.key,this.dn(a),r))}else i=i.add(new Ul(t.indexId,e.key,H0,r));return i}vn(e,t,i,r,o){te("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,c,l,u,d){const h=a.getIterator(),f=c.getIterator();let y=ih(h),C=ih(f);for(;y||C;){let I=!1,k=!1;if(y&&C){const D=l(y,C);D<0?k=!0:D>0&&(I=!0)}else null!=y?k=!0:I=!0;I?(u(C),C=ih(f)):k?(d(y),y=ih(h)):(y=ih(h),C=ih(f))}}(r,o,fc,a=>{s.push(this.Rn(e,t,i,a))},a=>{s.push(this.Pn(e,t,i,a))}),F.waitFor(s)}Tn(e){let t=1;return dm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>fc(s,a)).filter((s,a,c)=>!a||0!==fc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=fc(s,e),c=fc(s,t);if(0===a)r[0]=e.Je();else if(a>0&&c<0)r.push(s),r.push(s.Je());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,H0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,H0,[]]))}return o}bn(e,t){return fc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(dq)}getMinOffset(e,t){return F.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||pe())).next(dq)}}function uq(n){return Mi(n,"collectionParents")}function um(n){return Mi(n,"indexEntries")}function $0(n){return Mi(n,"indexConfiguration")}function dm(n){return Mi(n,"indexState")}function dq(n){ye(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;EO(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Zr(e.readTime,e.documentKey,t)}const hq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ar{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fq(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{ye(1===a)}));const l=[];for(const u of t.mutations){const d=V$(e,u.key.path,t.batchId);o.push(r.delete(d)),l.push(u.key)}return F.waitFor(o).next(()=>l)}function G0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pe();e=n.noDocument}return JSON.stringify(e).length}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(41943040,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class q0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){ye(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new q0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=ph(e),s=pc(e);return s.add({}).next(a=>{ye("number"==typeof a);const c=new UO(a,t,i,r),l=function(h,f,y){const C=y.baseMutations.map(k=>sm(h.fe,k)),I=y.mutations.map(k=>sm(h.fe,k));return{userId:f,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:C,mutations:I}}(this.serializer,this.userId,c),u=[];let d=new dn((h,f)=>Ue(h.canonicalString(),f.canonicalString()));for(const h of r){const f=V$(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(f,N1e))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),F.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return pc(e).get(t).next(i=>i?(ye(i.userId===this.userId),Vl(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?F.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return pc(e).X({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(ye(a.batchId>=i),o=Vl(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return pc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).j("userMutationsIndex",t).next(i=>i.map(r=>Vl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=E0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return ph(e).X({range:r},(s,a,c)=>{const[l,u,d]=s,h=Is(u);if(l===this.userId&&t.path.isEqual(h))return pc(e).get(d).next(f=>{if(!f)throw pe();ye(f.userId===this.userId),o.push(Vl(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new dn(Ue);const r=[];return t.forEach(o=>{const s=E0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=ph(e).X({range:a},(l,u,d)=>{const[h,f,y]=l,C=Is(f);h===this.userId&&o.path.isEqual(C)?i=i.add(y):d.done()});r.push(c)}),F.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=E0(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new dn(Ue);return ph(e).X({range:s},(c,l,u)=>{const[d,h,f]=c,y=Is(h);d===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(f)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(pc(e).get(o).next(s=>{if(null===s)throw pe();ye(s.userId===this.userId),i.push(Vl(this.serializer,s))}))}),F.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return fq(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),F.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return F.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ph(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Is(o[1]);r.push(c)}else a.done()}).next(()=>{ye(0===r.length)})})}containsKey(e,t){return pq(e,this.userId,t)}xn(e){return gq(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pq(n,e,t){const i=E0(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return ph(n).X({range:o,Y:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),l.done()}).next(()=>s)}function pc(n){return Mi(n,"mutations")}function ph(n){return Mi(n,"documentMutations")}function gq(n){return Mi(n,"mutationQueues")}class zl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zl(0)}static Mn(){return new zl(-1)}}class KIe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new zl(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ve.fromTimestamp(new Mn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gh(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(ye(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return gh(e).X((s,a)=>{const c=am(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>F.waitFor(o)).next(()=>r)}forEachTarget(e,t){return gh(e).X((i,r)=>{const o=am(r);t(o)})}$n(e){return mq(e).get("targetGlobalKey").next(t=>(ye(null!==t),t))}On(e,t){return mq(e).put("targetGlobalKey",t)}Fn(e,t){return gh(e).put(eq(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ol(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return gh(e).X({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=am(a);Kg(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=gc(e);return t.forEach(s=>{const a=sr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),F.waitFor(r)}removeMatchingKeys(e,t,i){const r=gc(e);return F.forEach(t,o=>{const s=sr(o.path);return F.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=gc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=gc(e);let o=Ke();return r.X({range:i,Y:!0},(s,a,c)=>{const l=Is(s[1]),u=new ae(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){const i=sr(t.path),r=IDBKeyRange.bound([i],[S$(i)],!1,!0);let o=0;return gc(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,t){return gh(e).get(t).next(i=>i?am(i):null)}}function gh(n){return Mi(n,"targets")}function mq(n){return Mi(n,"targetGlobal")}function gc(n){return Mi(n,"targetDocuments")}function _q([n,e],[t,i]){const r=Ue(n,t);return 0===r?Ue(e,i):r}class QIe{constructor(e){this.Ln=e,this.buffer=new dn(_q),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();_q(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bq{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,m(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){oc(i)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield rc(i)}yield t.Qn(3e5)}))}}class YIe{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return F.resolve(Jr.ct);const i=new QIe(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(hq)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hq):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(l=Date.now(),wO()<=mt.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}class XIe{constructor(e,t){this.db=e,this.garbageCollector=function yq(n,e){return new YIe(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return W0(e,i)}removeReference(e,t,i){return W0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return W0(e,t)}Xn(e,t){return function(i,r){let o=!1;return gq(i).Z(s=>pq(i,s,r).next(a=>(a&&(o=!0),F.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,ve.min()),gc(e).delete([0,sr(s.path)])))});r.push(c)}}).next(()=>F.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return W0(e,t)}Yn(e,t){const i=gc(e);let r,o=Jr.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Jr.ct&&t(new ae(Is(r)),o),o=l,r=c):o=Jr.ct}).next(()=>{o!==Jr.ct&&t(new ae(Is(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function W0(n,e){return gc(n).put((i=n.currentSequenceNumber,{targetId:0,path:sr(e.path),sequenceNumber:i}));var i}class vq{constructor(){this.changes=new da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?F.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZIe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return jl(e).put(i)}removeEntry(e,t,i){return jl(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],U0(o),s[s.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=hn.newInvalidDocument(t);return jl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(hm(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:hn.newInvalidDocument(t)};return jl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(hm(t))},(r,o)=>{i={document:this.ts(t,o),size:G0(o)}}).next(()=>i)}getEntries(e,t){let i=Vr();return this.ns(e,t,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,t){let i=Vr(),r=new rn(ae.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,G0(s))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return F.resolve();let r=new dn(Eq);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(hm(r.first()),hm(r.last())),s=r.getIterator();let a=s.getNext();return jl(e).X({index:"documentKeyIndex",range:o},(c,l,u)=>{const d=ae.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&Eq(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.G(hm(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),U0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jl(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=Vr();for(const u of c){const d=this.ts(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Yg(t,d)||r.has(d.key))&&(l=l.insert(d.key,d))}return l})}getAllFromCollectionGroup(e,t,i,r){let o=Vr();const s=Cq(t,i),a=Cq(t,Zr.max());return jl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const d=this.ts(ae.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new JIe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return xq(e).get("remoteDocumentGlobalKey").next(t=>(ye(!!t),t))}Zn(e,t){return xq(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function VIe(n,e){let t;if(e.document)t=function qG(n,e,t){const i=Ds(n,e.name),r=Zn(e.updateTime),o=e.createTime?Zn(e.createTime):ve.min(),s=new Gi({mapValue:{fields:e.fields}}),a=hn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ae.fromSegments(e.noDocument.path),r=Ll(e.noDocument.readTime);t=hn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe();{const i=ae.fromSegments(e.unknownDocument.path),r=Ll(e.unknownDocument.version);t=hn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Mn(i[0],i[1]);return ve.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(ve.min()))return i}return hn.newInvalidDocument(e)}}function wq(n){return new ZIe(n)}class JIe extends vq{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new da(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new dn((o,s)=>Ue(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=JG(this.os.serializer,s);r=r.add(o.path.popLast());const l=G0(c);i+=l-a.size,t.push(this.os.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=JG(this.os.serializer,s.convertToNoDocument(ve.min()));t.push(this.os.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),F.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function xq(n){return Mi(n,"remoteDocumentGlobal")}function jl(n){return Mi(n,"remoteDocumentsV14")}function hm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cq(n,e){const t=e.documentKey.path.toArray();return[n,U0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Eq(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Ue(t[o],i[o]),r)return r;return r=Ue(t.length,i.length),r||(r=Ue(t[t.length-2],i[i.length-2]),r||Ue(t[t.length-1],i[i.length-1]))}class eTe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Iq{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&em(i.mutation,r,Lr.empty(),Mn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ke()){const r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Xg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ke()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Vr();const s=Zg(),a=Zg();return t.forEach((c,l)=>{const u=i.get(l.key);r.has(l.key)&&(void 0===u||u.mutation instanceof ha)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),em(u.mutation,l,u.mutation.getFieldMask(),Mn.now())):s.set(l.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new eTe(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Zg();let r=new rn((s,a)=>s-a),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=i.get(c)||Lr.empty();u=a.applyToLocalView(l,u),i.set(c,u);const d=(r.get(a.batchId)||Ke()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=_G();u.forEach(h=>{if(!o.has(h)){const f=TG(t.get(h),i.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return F.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ae.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):NO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):F.resolve(Ms());let a=-1,c=o;return s.next(l=>F.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?F.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Ke())).next(u=>({batchId:a,changes:mG(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(i=>{let r=Xg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=Xg();return this.indexManager.getCollectionParents(e,r).next(s=>F.forEach(s,a=>{const c=(l=t,u=a.child(r),new ua(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,i).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,hn.newInvalidDocument(l)))});let s=Xg();return o.forEach((a,c)=>{const l=r.get(a);void 0!==l&&em(l.mutation,c,Lr.empty(),Mn.now()),Yg(t,c)&&(s=s.insert(a,c))}),s})}}class tTe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return F.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Zn(i.createTime)}),F.resolve()}getNamedQuery(e,t){return F.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:YO(i.bundledQuery),readTime:Zn(i.readTime)}),F.resolve();var i}}class nTe{constructor(){this.overlays=new rn(ae.comparator),this.ls=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ms();return F.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),F.resolve()}getOverlaysForCollection(e,t,i){const r=Ms(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return F.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new rn((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);null===u&&(u=Ms(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ms(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return F.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new jO(t,i));let o=this.ls.get(t);void 0===o&&(o=Ke(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class iP{constructor(){this.fs=new dn(Di.ds),this.ws=new dn(Di._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Di(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Di(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ae(new xt([])),i=new Di(t,e),r=new Di(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ae(new xt([])),i=new Di(t,e),r=new Di(t,e+1);let o=Ke();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Di(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Di{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ae.comparator(e.key,t.key)||Ue(e.As,t.As)}static _s(e,t){return Ue(e.As,t.As)||ae.comparator(e.key,t.key)}}class iTe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new dn(Di.ds)}checkEmpty(e){return F.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new UO(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Di(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Di(t,0),r=new Di(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new dn(Ue);return t.forEach(r=>{const o=new Di(r,0),s=new Di(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),F.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ae.isDocumentKey(o)||(o=o.child(""));const s=new Di(new ae(o),0);let a=new dn(Ue);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},s),F.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ye(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return F.forEach(t.mutations,r=>{const o=new Di(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Di(t,0),r=this.Rs.firstAfterOrEqual(i);return F.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return F.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rTe{constructor(e){this.Ds=e,this.docs=new rn(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return F.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let i=Vr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():hn.newInvalidDocument(r))}),F.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Vr();const s=t.path,a=new ae(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||EO(k$(u),i)<=0||(r.has(u.key)||Yg(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,i,r){pe()}Cs(e,t){return F.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new oTe(this)}getSize(e){return F.resolve(this.size)}}class oTe extends vq{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),F.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class sTe{constructor(e){this.persistence=e,this.xs=new da(t=>Ol(t),Kg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Ns=0,this.ks=new iP,this.targetCount=0,this.Ms=zl.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),F.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Fn(t),F.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),F.waitFor(o).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return F.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),F.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),F.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return F.resolve(i)}containsKey(e,t){return F.resolve(this.ks.containsKey(t))}}class rP{constructor(e,t){this.$s={},this.overlays={},this.Os=new Jr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new sTe(this),this.indexManager=new qIe,this.remoteDocumentCache=new rTe(i=>this.referenceDelegate.Ls(i)),this.serializer=new ZG(t),this.qs=new tTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nTe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new iTe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){te("MemoryPersistence","Starting transaction:",e);const r=new aTe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return F.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class aTe extends P${constructor(e){super(),this.currentSequenceNumber=e}}class K0{constructor(e){this.persistence=e,this.Qs=new iP,this.js=null}static zs(e){return new K0(e)}get Ws(){if(this.js)return this.js;throw pe()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),F.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),F.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Ws,i=>{const r=ae.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,ve.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return F.or([()=>F.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class cTe{constructor(e){this.serializer=e}O(e,t,i,r){const o=new C0("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",L$,{unique:!0}),a.createObjectStore("documentMutations"),Tq(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=F.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),Tq(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",L$,{unique:!0});const u=c.store("mutations"),d=l.map(h=>u.put(h));return F.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:W1e});c.createIndex("collectionPathOverlayIndex",K1e,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Q1e,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:F1e});c.createIndex("documentKeyIndex",L1e),c.createIndex("collectionGroupIndex",V1e)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:H1e}).createIndex("sequenceNumberIndex",$1e,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:G1e}).createIndex("documentKeyIndex",q1e,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=G0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>F.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>F.forEach(a,c=>{ye(c.userId===o.userId);const l=Vl(this.serializer,c);return fq(e,o.userId,l).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const c=new xt(s),l=[0,sr(c)];o.push(t.get(l).next(u=>u?F.resolve():t.put({targetId:0,path:sr(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>F.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:j1e});const i=t.store("collectionParents"),r=new nP,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:sr(c)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new xt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const u=Is(a);return o(u.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=am(r),s=eq(this.serializer,o);return t.put(s)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(l=s,l.document?new ae(xt.fromString(l.document.name).popFirst(5)):l.noDocument?ae.fromSegments(l.noDocument.path):l.unknownDocument?ae.fromSegments(l.unknownDocument.path):pe()).path.toArray();var l;const u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>F.waitFor(r))}si(e,t){const i=t.store("mutations"),r=wq(this.serializer),o=new rP(K0.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:Ke();Vl(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),F.forEach(a,(c,l)=>{const u=new Ti(l),d=z0.de(this.serializer,u),h=o.getIndexManager(u),f=q0.de(u,this.serializer,h,o.referenceDelegate);return new Iq(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new MO(t,Jr.ct),c).next()})})}}function Tq(n){n.createObjectStore("targetDocuments",{keyPath:U1e}).createIndex("documentTargetsIndex",z1e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",B1e,{unique:!0}),n.createObjectStore("targetGlobal")}const oP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sP{constructor(e,t,i,r,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!sP.D())throw new Z(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XIe(this,r),this.di=t+"main",this.serializer=new ZG(c),this.wi=new jo(this.di,this.ui,new cTe(this.serializer)),this.Bs=new KIe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wq(this.serializer),this.qs=new BIe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&Yn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Z(V.FAILED_PRECONDITION,oP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Jr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=m(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=m(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(m(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Y0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(oc(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return fm(e).get("owner").next(t=>F.resolve(this.Ri(t)))}Pi(e){return Y0(e).delete(this.clientId)}bi(){var e=this;return m(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Mi(i,"clientMetadata");return r.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return F.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?F.resolve(!0):fm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Z(V.FAILED_PRECONDITION,oP);return!1}}return!(!this.networkEnabled||!this.inForeground)||Y0(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&te("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return m(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new MO(t,Jr.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Y0(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return q0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WIe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return z0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){te("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?X1e:14===s?z$:13===s?U$:12===s?Y1e:11===s?B$:void pe();var s;let a;return this.wi.runTransaction(e,r,o,c=>(a=new MO(c,this.Os?this.Os.next():Jr.ct),"readwrite-primary"===t?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw Yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Z(V.FAILED_PRECONDITION,O$);return i(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>i(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return fm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Z(V.FAILED_PRECONDITION,oP)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fm(e).put("owner",t)}static D(){return jo.D()}Ai(e){const t=fm(e);return t.get("owner").next(i=>this.Ri(i)?(te("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):F.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Yn(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function $me(){return!function jme(){var n;const e=null===(n=av())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return te("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Yn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fm(n){return Mi(n,"owner")}function Y0(n){return Mi(n,"clientMetadata")}class cP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Ke(),r=Ke();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new cP(e,t.fromCache,i,r)}}class Mq{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(dG(t))return F.resolve(null);let i=xr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=R0(t,null,"F"),i=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=Ke(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,R0(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,i,r){return dG(t)||r.isEqual(ve.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(wO()<=mt.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),LO(t)),this.Wi(e,s,t,function A$(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(1e9===i?new Mn(t+1,0):new Mn(t,i));return new Zr(r,ae.empty(),e)}(r,-1)))})}ji(e,t){let i=new dn(pG(e));return t.forEach((r,o)=>{Yg(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return wO()<=mt.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",LO(t)),this.Ui.getDocumentsMatchingQuery(e,t,Zr.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class lTe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new rn(Ue),this.Yi=new da(o=>Ol(o),Kg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Iq(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Dq(n,e,t,i){return new lTe(n,e,t,i)}function Sq(n,e){return lP.apply(this,arguments)}function lP(){return lP=m(function*(n,e){const t=le(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=Ke();for(const l of r){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),lP.apply(this,arguments)}function Aq(n){const e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hTe(n,e){const t=le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _h(n,e,t){return uP.apply(this,arguments)}function uP(){return uP=m(function*(n,e,t){const i=le(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!oc(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),uP.apply(this,arguments)}function X0(n,e,t){const i=le(n);let r=ve.min(),o=Ke();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=le(a),d=u.Yi.get(l);return void 0!==d?F.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(i,s,xr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:ve.min(),t?o:Ke())).next(a=>(function Rq(n,e,t){let i=n.Xi.get(e)||ve.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function fG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class gP{constructor(){this.activeTargetIds=function VO(){return pIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lq{constructor(){this.Hr=new gP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new gP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gTe{Yr(e){}shutdown(){}}class Vq{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ew=null;function _P(){return null===ew?ew=268435456+Math.round(2147483648*Math.random()):ew++,"0x"+ew.toString(16)}const mTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _Te{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cr="WebChannelConnection";class bTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=_P(),a=this.To(e,t);te("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const c={};return this.Eo(c,r,o),this.Ao(e,a,c,i).then(l=>(te("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw zo("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",i),l})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+th,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${mTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=_P();return new Promise((s,a)=>{const c=new b1e;c.setWithCredentials(!0),c.listenOnce(g1e.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vO.NO_ERROR:const u=c.getResponseJson();te(cr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case vO.TIMEOUT:te(cr,`RPC '${e}' ${o} timed out`),a(new Z(V.DEADLINE_EXCEEDED,"Request time out"));break;case vO.HTTP_ERROR:const d=c.getStatus();if(te(cr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const y=function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(I)>=0?I:V.UNKNOWN}(f.status);a(new Z(y,f.message))}else a(new Z(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Z(V.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{te(cr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);te(cr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}Ro(e,t,i){const r=_P(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=f1e(),a=p1e(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new _1e({})),this.Eo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const u=o.join("");te(cr,`Creating RPC '${e}' stream ${r}: ${u}`,c);const d=s.createWebChannel(u,c);let h=!1,f=!1;const y=new _Te({ro:I=>{f?te(cr,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(h||(te(cr,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),te(cr,`RPC '${e}' stream ${r} sending:`,I),d.send(I))},oo:()=>d.close()}),C=(I,k,D)=>{I.listen(k,B=>{try{D(B)}catch(Y){setTimeout(()=>{throw Y},0)}})};return C(d,v0.EventType.OPEN,()=>{f||te(cr,`RPC '${e}' stream ${r} transport opened.`)}),C(d,v0.EventType.CLOSE,()=>{f||(f=!0,te(cr,`RPC '${e}' stream ${r} transport closed`),y.wo())}),C(d,v0.EventType.ERROR,I=>{f||(f=!0,zo(cr,`RPC '${e}' stream ${r} transport errored:`,I),y.wo(new Z(V.UNAVAILABLE,"The operation could not be completed")))}),C(d,v0.EventType.MESSAGE,I=>{var k;if(!f){const D=I.data[0];ye(!!D);const Y=D.error||(null===(k=D[0])||void 0===k?void 0:k.error);if(Y){te(cr,`RPC '${e}' stream ${r} received error:`,Y);const oe=Y.status;let he=function(pt){const si=ii[pt];if(void 0!==si)return OG(si)}(oe),$e=Y.message;void 0===he&&(he=V.INTERNAL,$e="Unknown error status: "+oe+" with message "+Y.message),f=!0,y.wo(new Z(he,$e)),d.close()}else te(cr,`RPC '${e}' stream ${r} received:`,D),y._o(D)}}),C(a,m1e.STAT_EVENT,I=>{I.stat===E$.PROXY?te(cr,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===E$.NOPROXY&&te(cr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function tw(){return typeof document<"u"?document:null}function gm(n){return new DIe(n,!0)}class bP{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Uq{constructor(e,t,i,r,o,s,a,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return m(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(Yn(t.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===V.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Z(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yTe extends Uq{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function kIe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:pe(),r=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(ye(void 0===l||"string"==typeof l),_i.fromBase64String(l||"")):(ye(void 0===l||l instanceof Uint8Array),_i.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?V.UNKNOWN:OG(c.code);return new Z(l,c.message||"")}(s);t=new LG(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Ds(n,i.document.name),o=Zn(i.document.updateTime),s=i.document.createTime?Zn(i.document.createTime):ve.min(),a=new Gi({mapValue:{fields:i.document.fields}}),c=hn.newFoundDocument(r,o,s,a);t=new B0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Ds(n,i.document),o=i.readTime?Zn(i.readTime):ve.min(),s=hn.newNoDocument(r,o);t=new B0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Ds(n,i.document);t=new B0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return pe();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new xIe(r,o);t=new FG(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return ve.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Zn(o.readTime):ve.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=om(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=k0(a)?{documents:WG(r,a)}:{query:QO(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=zG(r,o.resumeToken);const c=GO(r,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){s.readTime=hh(r,o.snapshotVersion.toTimestamp());const c=GO(r,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const i=function PIe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=om(this.serializer),t.removeTarget=e,this.Wo(t)}}class vTe extends Uq{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function OIe(n,e){return n&&n.length>0?(ye(void 0!==e),n.map(t=>function(i,r){let o=Zn(i.updateTime?i.updateTime:r);return o.isEqual(ve.min())&&(o=Zn(r)),new bIe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Zn(e.commitTime);return this.listener.cu(i,t)}return ye(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=om(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>sm(this.serializer,i))};this.Wo(t)}}class wTe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Z(V.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Z(V.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(V.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class CTe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yn(t),this.mu=!1):te("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ETe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(m(function*(){var c;mc(s)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=le(l);u.vu.add(4),yield bh(u),u.bu.set("Unknown"),u.vu.delete(4),yield mm(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new CTe(i,r)}}function mm(n){return vP.apply(this,arguments)}function vP(){return vP=m(function*(n){if(mc(n))for(const e of n.Ru)yield e(!0)}),vP.apply(this,arguments)}function bh(n){return wP.apply(this,arguments)}function wP(){return wP=m(function*(n){for(const e of n.Ru)yield e(!1)}),wP.apply(this,arguments)}function nw(n,e){const t=le(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),EP(t)?CP(t):vh(t).Ko()&&xP(t,e))}function _m(n,e){const t=le(n),i=vh(t);t.Au.delete(e),i.Ko()&&zq(t,e),0===t.Au.size&&(i.Ko()?i.jo():mc(t)&&t.bu.set("Unknown"))}function xP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vh(n).su(e)}function zq(n,e){n.Vu.qt(e),vh(n).iu(e)}function CP(n){n.Vu=new EIe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),vh(n).start(),n.bu.gu()}function EP(n){return mc(n)&&!vh(n).Uo()&&n.Au.size>0}function mc(n){return 0===le(n).vu.size}function jq(n){n.Vu=void 0}function ITe(n){return IP.apply(this,arguments)}function IP(){return IP=m(function*(n){n.Au.forEach((e,t)=>{xP(n,e)})}),IP.apply(this,arguments)}function TTe(n,e){return TP.apply(this,arguments)}function TP(){return TP=m(function*(n,e){jq(n),EP(n)?(n.bu.Iu(e),CP(n)):n.bu.set("Unknown")}),TP.apply(this,arguments)}function MTe(n,e,t){return MP.apply(this,arguments)}function MP(){return MP=m(function*(n,e,t){if(n.bu.set("Online"),e instanceof LG&&2===e.state&&e.cause)try{yield(i=m(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield iw(n,i)}else if(e instanceof B0?n.Vu.Ht(e):e instanceof FG?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ve.min()))try{const i=yield Aq(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(_i.EMPTY_BYTE_STRING,l.snapshotVersion)),zq(r,a);const u=new fa(l.target,a,c,l.sequenceNumber);xP(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){te("RemoteStore","Failed to raise snapshot:",i),yield iw(n,i)}var i}),MP.apply(this,arguments)}function iw(n,e,t){return DP.apply(this,arguments)}function DP(){return DP=m(function*(n,e,t){if(!oc(e))throw e;n.vu.add(1),yield bh(n),n.bu.set("Offline"),t||(t=()=>Aq(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield mm(n)}))}),DP.apply(this,arguments)}function Hq(n,e){return e().catch(t=>iw(n,t,e))}function yh(n){return SP.apply(this,arguments)}function SP(){return SP=m(function*(n){const e=le(n),t=_c(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;DTe(e);)try{const r=yield hTe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,STe(e,r)}catch(r){yield iw(e,r)}$q(e)&&Gq(e)}),SP.apply(this,arguments)}function DTe(n){return mc(n)&&n.Eu.length<10}function STe(n,e){n.Eu.push(e);const t=_c(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function $q(n){return mc(n)&&!_c(n).Uo()&&n.Eu.length>0}function Gq(n){_c(n).start()}function ATe(n){return AP.apply(this,arguments)}function AP(){return AP=m(function*(n){_c(n).hu()}),AP.apply(this,arguments)}function kTe(n){return kP.apply(this,arguments)}function kP(){return kP=m(function*(n){const e=_c(n);for(const t of n.Eu)e.uu(t.mutations)}),kP.apply(this,arguments)}function OTe(n,e,t){return OP.apply(this,arguments)}function OP(){return OP=m(function*(n,e,t){const i=n.Eu.shift(),r=zO.from(i,e,t);yield Hq(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield yh(n)}),OP.apply(this,arguments)}function PTe(n,e){return PP.apply(this,arguments)}function PP(){return PP=m(function*(n,e){var t;e&&_c(n).ou&&(yield(t=m(function*(i,r){if(function kG(n){switch(n){default:return pe();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}(o=r.code)&&o!==V.ABORTED){const s=i.Eu.shift();_c(i).Qo(),yield Hq(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield yh(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),$q(n)&&Gq(n)}),PP.apply(this,arguments)}function qq(n,e){return RP.apply(this,arguments)}function RP(){return RP=m(function*(n,e){const t=le(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const i=mc(t);t.vu.add(3),yield bh(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield mm(t)}),RP.apply(this,arguments)}function FP(){return FP=m(function*(n,e){const t=le(n);e?(t.vu.delete(2),yield mm(t)):e||(t.vu.add(2),yield bh(t),t.bu.set("Unknown"))}),FP.apply(this,arguments)}function vh(n){return n.Su||(n.Su=function(e,t,i){const r=le(e);return r.fu(),new yTe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:ITe.bind(null,n),ao:TTe.bind(null,n),nu:MTe.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Su.Qo(),EP(n)?CP(n):n.bu.set("Unknown")):(yield n.Su.stop(),jq(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function _c(n){return n.Du||(n.Du=function(e,t,i){const r=le(e);return r.fu(),new vTe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:ATe.bind(null,n),ao:PTe.bind(null,n),au:kTe.bind(null,n),cu:OTe.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Du.Qo(),yield yh(n)):(yield n.Du.stop(),n.Eu.length>0&&(te("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class LP{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new LP(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Z(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wh(n,e){if(Yn("AsyncQueue",`${e}: ${n}`),oc(n))return new Z(V.UNAVAILABLE,`${e}: ${n}`);throw n}class xh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ae.comparator(t.key,i.key):(t,i)=>ae.comparator(t.key,i.key),this.keyedMap=Xg(),this.sortedSet=new rn(this.comparator)}static emptySet(e){return new xh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new xh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Wq{constructor(){this.Cu=new rn(ae.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ch{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Ch(e,t,xh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class RTe{constructor(){this.Nu=void 0,this.listeners=[]}}class NTe{constructor(){this.queries=new da(e=>hG(e),Qg),this.onlineState="Unknown",this.ku=new Set}}function BP(){return BP=m(function*(n,e){const t=le(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new RTe),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=wh(s,`Initialization of query '${LO(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&jP(t)}),BP.apply(this,arguments)}function zP(){return zP=m(function*(n,e){const t=le(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),zP.apply(this,arguments)}function FTe(n,e){const t=le(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&jP(t)}function LTe(n,e,t){const i=le(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function jP(n){n.ku.forEach(e=>{e.next()})}class HP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Ch(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Yq{constructor(e){this.key=e}}class Xq{constructor(e){this.key=e}}class Zq{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ke(),this.mutatedKeys=Ke(),this.tc=pG(e),this.ec=new xh(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Wq,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=Yg(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),C=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let I=!1;h&&f?h.data.isEqual(f.data)?y!==C&&(i.track({type:3,doc:f}),I=!0):this.rc(h,f)||(i.track({type:2,doc:f}),I=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),I=!0):h&&!f&&(i.track({type:1,doc:h}),I=!0,(c||l)&&(a=!0)),I&&(f?(s=s.add(f),o=C?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,u)=>function(d,h){const f=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new Ch(this.query,e.ec,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Wq,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ke(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new Xq(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Yq(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Ke();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ch.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class UTe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zTe{constructor(e){this.key=e,this.fc=!1}}class jTe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new da(a=>hG(a),Qg),this._c=new Map,this.mc=new Set,this.gc=new rn(ae.comparator),this.yc=new Map,this.Ic=new iP,this.Tc={},this.Ec=new Map,this.Ac=zl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function HTe(n,e){return $P.apply(this,arguments)}function $P(){return $P=m(function*(n,e){const t=function fR(n){const e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZTe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qTe.bind(null,e),e.dc.nu=FTe.bind(null,e.eventManager),e.dc.Pc=LTe.bind(null,e.eventManager),e}(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield function mh(n,e){const t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,F.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new fa(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,xr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function GP(n,e,t,i,r){return qP.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&nw(t.remoteStore,s)}return r}),$P.apply(this,arguments)}function qP(){return qP=m(function*(n,e,t,i,r){n.Rc=(d,h,f)=>{return(y=m(function*(C,I,k,D){let B=I.view.sc(k);B.zi&&(B=yield X0(C.localStore,I.query,!1).then(({documents:he})=>I.view.sc(he,B)));const Y=D&&D.targetChanges.get(I.targetId),oe=I.view.applyChanges(B,C.isPrimaryClient,Y);return nR(C,I.targetId,oe.cc),oe.snapshot}),function(C,I,k,D){return y.apply(this,arguments)})(n,d,h,f);var y};const o=yield X0(n.localStore,e,!0),s=new Zq(e,o.ir),a=s.sc(o.documents),c=im.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);nR(n,t,l.cc);const u=new UTe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),qP.apply(this,arguments)}function $Te(n,e){return WP.apply(this,arguments)}function WP(){return WP=m(function*(n,e){const t=le(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!Qg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _h(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),_m(t.remoteStore,i.targetId),Eh(t,i.targetId)}).catch(rc))):(Eh(t,i.targetId),yield _h(t.localStore,i.targetId,!0))}),WP.apply(this,arguments)}function KP(){return KP=m(function*(n,e,t){const i=pR(n);try{const r=yield function(o,s){const a=le(o),c=Mn.now(),l=s.reduce((h,f)=>h.add(f.key),Ke());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Vr(),y=Ke();return a.Zi.getEntries(h,l).next(C=>{f=C,f.forEach((I,k)=>{k.isValidDocument()||(y=y.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(C=>{u=C;const I=[];for(const k of s){const D=vIe(k,u.get(k.key).overlayedDocument);null!=D&&I.push(new ha(k.key,D,Z$(D.value.mapValue),xn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,I,s)}).next(C=>{d=C;const I=C.applyToLocalDocumentSet(u,y);return a.documentOverlayCache.saveOverlays(h,C.batchId,I)})}).then(()=>({batchId:d.batchId,changes:mG(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new rn(Ue)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(i,r.batchId,t),yield pa(i,r.changes),yield yh(i.remoteStore)}catch(r){const o=wh(r,"Failed to persist write");t.reject(o)}}),KP.apply(this,arguments)}function Jq(n,e){return QP.apply(this,arguments)}function QP(){return QP=m(function*(n,e){const t=le(n);try{const i=yield function dTe(n,e){const t=le(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var y,C,I;null!==e.targetMismatches.get(d)?f=f.withResumeToken(_i.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),C=f,I=u,(0===(y=h).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,f))});let c=Vr(),l=Ke();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function kq(n,e,t){let i=Ke(),r=Ke();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Vr();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!i.isEqual(ve.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?ye(s.fc):r.removedDocuments.size>0&&(ye(s.fc),s.fc=!1))}),yield pa(t,i,e)}catch(i){yield rc(i)}}),QP.apply(this,arguments)}function eW(n,e,t){const i=le(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=le(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(s)&&(c=!0)}),c&&jP(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function qTe(n,e,t){return YP.apply(this,arguments)}function YP(){return YP=m(function*(n,e,t){const i=le(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new rn(ae.comparator);s=s.insert(o,hn.newNoDocument(o,ve.min()));const a=Ke().add(o),c=new nm(ve.min(),new Map,new rn(Ue),s,a);yield Jq(i,c),i.gc=i.gc.remove(o),i.yc.delete(e),iR(i)}else yield _h(i.localStore,e,!1).then(()=>Eh(i,e,t)).catch(rc)}),YP.apply(this,arguments)}function WTe(n,e){return XP.apply(this,arguments)}function XP(){return XP=m(function*(n,e){const t=le(n),i=e.batch.batchId;try{const r=yield function uTe(n,e){const t=le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=F.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(y=>{const C=c.docVersions.get(f);ye(null!==C),y.version.compareTo(C)<0&&(u.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),l.addEntry(y)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=Ke();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);tR(t,i,null),eR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield pa(t,r)}catch(r){yield rc(r)}}),XP.apply(this,arguments)}function KTe(n,e,t){return ZP.apply(this,arguments)}function ZP(){return ZP=m(function*(n,e,t){const i=le(n);try{const r=yield function(o,s){const a=le(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(ye(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(i.localStore,e);tR(i,e,t),eR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield pa(i,r)}catch(r){yield rc(r)}}),ZP.apply(this,arguments)}function eR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function tR(n,e,t){const i=le(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Eh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||tW(n,i)})}function tW(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(_m(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),iR(n))}function nR(n,e,t){for(const i of t)i instanceof Yq?(n.Ic.addReference(i.key,e),YTe(n,i)):i instanceof Xq?(te("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||tW(n,i.key)):pe()}function YTe(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(te("SyncEngine","New document in limbo: "+t),n.mc.add(i),iR(n))}function iR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ae(xt.fromString(e)),i=n.Ac.next();n.yc.set(i,new zTe(t)),n.gc=n.gc.insert(t,i),nw(n.remoteStore,new fa(xr(ah(t.path)),i,"TargetPurposeLimboResolution",Jr.ct))}}function pa(n,e,t){return rR.apply(this,arguments)}function rR(){return rR=m(function*(n,e,t){const i=le(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,c)=>{s.push(i.Rc(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const u=cP.Li(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=m(function*(c,l){const u=le(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(l,h=>F.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>F.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!oc(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),C=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,C)}}}),function(c,l){return a.apply(this,arguments)})(i.localStore,o))}),rR.apply(this,arguments)}function XTe(n,e){return oR.apply(this,arguments)}function oR(){return oR=m(function*(n,e){const t=le(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const i=yield Sq(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new Z(V.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield pa(t,i.er)}var r}),oR.apply(this,arguments)}function ZTe(n,e){const t=le(n),i=t.yc.get(e);if(i&&i.fc)return Ke().add(i.key);{let r=Ke();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function pR(n){const e=le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WTe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KTe.bind(null,e),e}class Ih{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.serializer=gm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Dq(this.persistence,new Mq,e.initialUser,this.serializer)}createPersistence(e){return new rP(K0.zs,this.serializer)}createSharedClientState(e){return new Lq}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gR extends Ih{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return m(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield pR(i.Vc.syncEngine),yield yh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Dq(this.persistence,new Mq,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new bq(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new P1e(t,this.persistence);return new O1e(e.asyncQueue,i)}createPersistence(e){const t=function aP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new sP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,function Bq(){return typeof window<"u"?window:null}(),tw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Lq}}class Th{initialize(e,t){var i=this;return m(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>eW(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=XTe.bind(null,i.syncEngine),yield function NP(n,e){return FP.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NTe}createDatastore(e){const t=gm(e.databaseInfo.databaseId),i=new bTe(e.databaseInfo);return new wTe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>eW(this.syncEngine,a,0),s=Vq.D()?new Vq:new gTe,new ETe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,c,l){const u=new jTe(i,r,o,s,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const i=le(t);te("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield bh(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class rw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dMe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ti.UNAUTHENTICATED,this.clientId=D$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=m(function*(a){te("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=wh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function ow(n,e){return mR.apply(this,arguments)}function mR(){return mR=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=m(function*(o){i.isEqual(o)||(yield Sq(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),mR.apply(this,arguments)}function _R(n,e){return bR.apply(this,arguments)}function bR(){return bR=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function yR(n){return vR.apply(this,arguments)}(n);te("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>qq(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>qq(e.remoteStore,o)),n._onlineComponents=e}),bR.apply(this,arguments)}function sW(n){return"FirebaseError"===n.name?n.code===V.FAILED_PRECONDITION||n.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function vR(){return vR=m(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ow(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!sW(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),yield ow(n,new Ih)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield ow(n,new Ih);return n._offlineComponents}),vR.apply(this,arguments)}function sw(n){return wR.apply(this,arguments)}function wR(){return wR=m(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield _R(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield _R(n,new Th))),n._onlineComponents}),wR.apply(this,arguments)}function CR(){return CR=m(function*(n){const e=yield sw(n),t=e.eventManager;return t.onListen=HTe.bind(null,e.syncEngine),t.onUnlisten=$Te.bind(null,e.syncEngine),t}),CR.apply(this,arguments)}function dW(n,e,t={}){const i=new mi;return n.asyncQueue.enqueueAndForget(m(function*(){return function(r,o,s,a,c){const l=new rw({next:d=>{o.enqueueAndForget(()=>function UP(n,e){return zP.apply(this,arguments)}(r,u)),d.fromCache&&"server"===a.source?c.reject(new Z(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new HP(s,l,{includeMetadataChanges:!0,Ku:!0});return function VP(n,e){return BP.apply(this,arguments)}(r,u)}(yield function Mh(n){return CR.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function hW(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const fW=new Map;function ER(n,e,t){if(!t)throw new Z(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pW(n){if(!ae.isDocumentKey(n))throw new Z(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gW(n){if(ae.isDocumentKey(n))throw new Z(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pe()}function _t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cw(n);throw new Z(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class _W{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Z(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Z(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vMe(n,e,t,i){if(!0===e&&!0===i)throw new Z(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hW(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Z(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _W({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Z(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _W(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new v1e;switch(t.type){case"firstParty":return new E1e(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Z(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fW.get(e);t&&(te("ComponentProvider","Removing Datastore"),fW.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class qi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Ss extends qi{constructor(e,t,i){super(e,t,ah(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ae(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function xMe(n,e,...t){if(n=Gt(n),ER("collection","path",e),n instanceof bm){const i=xt.fromString(e,...t);return gW(i),new Ss(n,null,i)}{if(!(n instanceof Jn||n instanceof Ss))throw new Z(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return gW(i),new Ss(n.firestore,null,i)}}function bW(n,e,...t){if(n=Gt(n),1===arguments.length&&(e=D$.A()),ER("doc","path",e),n instanceof bm){const i=xt.fromString(e,...t);return pW(i),new Jn(n,null,new ae(i))}{if(!(n instanceof Jn||n instanceof Ss))throw new Z(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return pW(i),new Jn(n.firestore,n instanceof Ss?n.converter:null,new ae(i))}}class CMe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bP(this,"async_queue_retry"),this.Xc=()=>{const t=tw();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=tw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=tw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new mi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!oc(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Yn("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=LP.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&pe()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class fn extends bm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new CMe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vW(this),this._firestoreClient.terminate()}}function IMe(n,e){const i="string"==typeof n?n:e||"(default)",r=Ka("object"==typeof n?n:$p(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=qT("firestore");o&&function wMe(n,e,t,i={}){var r;const o=(n=_t(n,bm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Ti.MOCK_USER;else{a=u9(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Z(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ti(l)}n._authCredentials=new w1e(new T$(a,c))}}(r,...o)}return r}function ri(n){return n._firestoreClient||vW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vW(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new J1e(n._databaseId,a,n._persistenceKey,(l=r).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,hW(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new dMe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function TMe(n,e){!function xW(n){if(n._initialized||n._terminated)throw new Z(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=_t(n,fn));const t=ri(n);if(t._uninitializedComponentsProvider)throw new Z(V.FAILED_PRECONDITION,"SDK cache is already specified.");zo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Th;return function wW(n,e,t){const i=new mi;return n.asyncQueue.enqueue(m(function*(){try{yield ow(n,t),yield _R(n,e),i.resolve()}catch(r){const o=r;if(!sW(o))throw o;zo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}(t,r,new gR(r,i.cacheSizeBytes,e?.forceOwnership))}class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(_i.fromBase64String(e))}catch(t){throw new Z(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hl(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $l{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Z(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dh{constructor(e){this._methodName=e}}class TR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}const DMe=/^__.*__$/;class SMe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new uh(e,this.data,t,this.fieldTransforms)}}class CW{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class lw{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new lw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return hw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(EW(this.ca)&&DMe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class AMe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gm(e)}ya(e,t,i,r=!1){return new lw({ca:e,methodName:t,ga:i,path:Xn.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gl(n){const e=n._freezeSettings(),t=gm(n._databaseId);return new AMe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uw(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);AR("Data must be an object, but it was:",s,i);const a=MW(i,s);let c,l;if(o.merge)c=new Lr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=wm(e,d,t);if(!s.contains(h))throw new Z(V.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);SW(u,h)||u.push(h)}c=new Lr(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new SMe(new Gi(a),c,l)}class vm extends Dh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}function ql(n,e){if(DW(n=Gt(n)))return AR("Unsupported field value:",e,n),MW(n,e);if(n instanceof Dh)return function(t,i){if(!EW(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=ql(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=Gt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vG(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Mn.fromDate(t);return{timestampValue:hh(i.serializer,r)}}if(t instanceof Mn){const r=new Mn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hh(i.serializer,r)}}if(t instanceof TR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hl)return{bytesValue:zG(i.serializer,t._byteString)};if(t instanceof Jn){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:qO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${cw(t)}`)}(n,e)}function MW(n,e){const t={};return H$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(n,(i,r)=>{const o=ql(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function DW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mn||n instanceof TR||n instanceof Hl||n instanceof Jn||n instanceof Dh)}function AR(n,e,t){if(!DW(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cw(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function wm(n,e,t){if((e=Gt(e))instanceof $l)return e._internalPath;if("string"==typeof e)return dw(n,e);throw hw("Field path arguments must be of type string or ",n,!1,void 0,t)}const RMe=new RegExp("[~\\*/\\[\\]]");function dw(n,e,t){if(e.search(RMe)>=0)throw hw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $l(...e.split("."))._internalPath}catch{throw hw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hw(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Z(V.INVALID_ARGUMENT,a+n+c)}function SW(n,e){return n.some(t=>t.isEqual(e))}class xm{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NMe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class NMe extends xm{data(){return super.data()}}function fw(n,e){return"string"==typeof e?dw(n,e):e instanceof $l?e._internalPath:e._delegate._internalPath}class kR{}class Cm extends kR{}function FMe(n,e,...t){let i=[];e instanceof kR&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof Sh).length,s=r.filter(a=>a instanceof Em).length;if(o>1||o>0&&s>0)throw new Z(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Em extends Cm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Em(e,t,i)}_apply(e){const t=this._parse(e);return RW(e._query,t),new qi(e.firestore,e.converter,FO(e._query,t))}_parse(e){const t=Gl(e.firestore);return function(r,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new Z(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){PW(u,l);const h=[];for(const f of u)h.push(OW(a,r,f));d={arrayValue:{values:h}}}else d=OW(a,r,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||PW(u,l),d=function TW(n,e,t,i=!1){return ql(t,n.ya(i?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return ft.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function LMe(n,e,t){const i=e,r=fw("where",n);return Em._create(r,i,t)}class Sh extends kR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ft.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)RW(o,a),o=FO(o,a)}(e._query,t),new qi(e.firestore,e.converter,FO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function OW(n,e,t){if("string"==typeof(t=Gt(t))){if(""===t)throw new Z(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NO(e)&&-1!==t.indexOf("/"))throw new Z(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xt.fromString(t));if(!ae.isDocumentKey(i))throw new Z(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kl(n,new ae(i))}if(t instanceof Jn)return kl(n,t._key);throw new Z(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cw(t)}.`)}function PW(n,e){if(!Array.isArray(n)||0===n.length)throw new Z(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RW(n,e){if(e.isInequality()){const i=P0(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Z(V.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=RO(n);null!==o&&function NW(n,e,t){if(!t.isEqual(e))throw new Z(V.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Z(V.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LW{convertValue(e,t="none"){switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return sc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new TR(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=M0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($g(e));default:return null}}convertTimestamp(e){const t=ac(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);ye(XG(i));const r=new Al(i.get(1),i.get(3)),o=new ae(i.popFirst(5));return r.isEqual(t)||Yn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ah extends xm{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(fw("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class bw extends Ah{data(e={}){return super.data(e)}}class kh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new bw(this._firestore,this._userDataWriter,i.key,i,new Wl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new bw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Wl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new bw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Wl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:UMe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function UMe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class bc extends LW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function zMe(n){n=_t(n,qi);const e=_t(n.firestore,fn),t=ri(e),i=new bc(e);return function AW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Z(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),dW(t,n._query).then(r=>new kh(e,i,n,r))}function jMe(n,e,t){n=_t(n,Jn);const i=_t(n.firestore,fn),r=function _w(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return Im(i,[uw(Gl(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,xn.none())])}function HMe(n,e,t,...i){n=_t(n,Jn);const r=_t(n.firestore,fn),o=Gl(r);let s;return s="string"==typeof(e=Gt(e))||e instanceof $l?function SR(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[wm(e,i,t)],c=[r];if(o.length%2!=0)throw new Z(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(wm(e,o[h])),c.push(o[h+1]);const l=[],u=Gi.empty();for(let h=a.length-1;h>=0;--h)if(!SW(l,a[h])){const f=a[h];let y=c[h];y=Gt(y);const C=s.da(f);if(y instanceof vm)l.push(f);else{const I=ql(y,C);null!=I&&(l.push(f),u.set(f,I))}}const d=new Lr(l);return new CW(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function DR(n,e,t,i){const r=n.ya(1,e,t);AR("Data must be an object, but it was:",r,i);const o=[],s=Gi.empty();sc(i,(c,l)=>{const u=dw(e,c,t);l=Gt(l);const d=r.da(u);if(l instanceof vm)o.push(u);else{const h=ql(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Lr(o);return new CW(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),Im(r,[s.toMutation(n._key,xn.exists(!0))])}function $Me(n){return Im(_t(n.firestore,fn),[new dh(n._key,xn.none())])}function Im(n,e){return function(t,i){const r=new mi;return t.asyncQueue.enqueueAndForget(m(function*(){return function GTe(n,e,t){return KP.apply(this,arguments)}(yield function xR(n){return sw(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(ri(n),e)}!function(n,e=!0){th=Qa,Bi(new vi("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new fn(new x1e(t.getProvider("auth-internal")),new I1e(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Z(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(a.options.projectId,c)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),jt(I$,"3.13.0",n),jt(I$,"3.13.0","esm2017")}();class Xe{constructor(e){return e}}const BW="firestore",RR=new X("angularfire2.firestore-instances");function rDe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Xe(i)}}const oDe={provide:class nDe{constructor(){return Yp(BW)}},deps:[[new Jt,RR]]},sDe={provide:Xe,useFactory:function iDe(n,e){const t=Qp(BW,n,e);return t&&new Xe(t)},deps:[[new Jt,RR],Xa]};let aDe=(()=>{class n{constructor(){jt("angularfire",zd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Je({type:n}),n.\u0275inj=Ze({providers:[sDe,oDe]}),n})();function cDe(n,...e){return{ngModule:aDe,providers:[{provide:RR,useFactory:rDe(n),multi:!0,deps:[Me,Ht,Xp,Zp,[new Jt,qv],[new Jt,tg],...e]}]}}const _e=xi(xMe,!0),pn=xi($Me,!0),we=xi(bW,!0),lDe=xi(TMe,!0),de=xi(zMe,!0),uDe=xi(IMe,!0),Lt=xi(FMe,!0),Wi=xi(jMe,!0),Ki=xi(HMe,!0),Vt=xi(LMe,!0);let NR,dDe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.firestore=r,this.data=[],this.nid=1,this.getData()}getData(){const t=_e(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}handleLogin(t){var i=this;return m(function*(){let r;Ok(i.auth,t.email,t.password).then(function(){var o=m(function*(s){i.current=s.user.email,r=s.user.email;const a=Lt(_e(i.firestore,"users"),Vt("email","==",r));(yield de(a)).forEach(l=>{let u=l.data();"Adminitrador"==u.role?i.router.navigate(["/admin/users"]):"Investigador"==u.role?i.router.navigate(["/user/unidad-produccion-all"]):"Cliente"==u.role&&i.router.navigate(["/client/unidad-produccion-all"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Se),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=ht();g(0,"button",0),Q("click",function(){return r.Salir()}),p(),W(1,"div",1),g(2,"span",2),v(3,"Iniciar Sesi\xf3n"),p(),W(4,"div",3),g(5,"form",4,5),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleLogin(a.value))}),g(7,"div",6)(8,"div",7)(9,"span",8),v(10,"Email: "),p(),W(11,"input",9),p(),g(12,"div",7)(13,"span",10),v(14,"Clave: "),p(),W(15,"input",11),p(),g(16,"button",12),v(17,"Log In"),p()()()}},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:450px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:448px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;transform:none;position:absolute;left:15%;top:35%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:37%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:43%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:18%;top:11%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;position:absolute;left:20%;top:7%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;transform:none;left:18%;top:21%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;transform:none;position:absolute;left:20%;top:17%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;border-width:0;border-radius:30px;font-size:16px;transform:none;position:absolute;left:60%;top:27%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})(),hDe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){aH(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert(i.message)}),this.addData(t),this.Login()}addData(t){const i=we(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?Wi(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=_e(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Xe),E(Se))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=ht();W(0,"div",0),g(1,"span",1),v(2,"Registrar"),p(),W(3,"div",2),g(4,"form",3,4),Q("ngSubmit",function(){Ae(o);const a=ln(5);return ke(r.handleRegister(a.value))}),g(6,"div",5)(7,"div",6)(8,"span",7),v(9,"Email:"),p(),W(10,"input",8),p(),g(11,"div",6)(12,"span",9),v(13,"Roles:"),p(),W(14,"input",10),g(15,"datalist",11),W(16,"option",12)(17,"option",13),p()(),g(18,"div",6)(19,"span",14),v(20,"Clave:"),p(),W(21,"input",15),p(),g(22,"div",6)(23,"span",16),v(24,"Confirmar Clave:"),p(),W(25,"input",17),p(),g(26,"button",18),v(27,"Sign Up"),p()()(),g(28,"button",19),Q("click",function(){return r.Salir()}),p()}},dependencies:[Pn,xp,Cp,Li,yr,On,ir,wn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})();try{NR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{NR=!1}let Tm,Kl,FR,Si=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Cy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(H(so))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mm(n){return function fDe(){if(null==Tm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tm=!0}))}finally{Tm=Tm||!1}return Tm}()?n:!!n.capture}function pDe(){if(null==Kl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Kl=!1,Kl;if("scrollBehavior"in document.documentElement.style)Kl=!0;else{const n=Element.prototype.scrollTo;Kl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Kl}function LR(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function vc(n){return n.composedPath?n.composedPath()[0]:n.target}function VR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const _De=[{path:"auth",component:cH,children:[{path:"login",component:dDe},{path:"signup",component:hDe},{path:"select",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.platform=r,this.hidInstText=!0,this.hidInstBut=!0,this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt()}),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),this.promptEvent=o,console.log("promptEvent")})}disableInAppInstallPrompt(){this.hidInstBut=!0}Credits(){this.router.navigate(["/auth/credits"])}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}installPwa(){this.promptEvent.prompt()}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Se),E(Si))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-select"]],decls:23,vars:2,consts:[[1,"creditBox",3,"click"],[1,"creditText"],[1,"creditLogo"],[1,"base"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"],[1,"infoText"],[1,"footer"],[1,"footerText"],[1,"Orange",3,"click"],[1,"logoCiens"]],template:function(i,r){1&i&&(g(0,"div",0),Q("click",function(){return r.Credits()}),g(1,"span",1),v(2,"Creditos"),p(),W(3,"div",2),p(),g(4,"div",3)(5,"div")(6,"button",4),Q("click",function(){return r.installPwa()}),v(7,"Instalar"),p()(),g(8,"div",5)(9,"span"),v(10,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),W(11,"img",6),v(12," y selecionar \u201cAgregar a Inicio\u201d"),p()(),g(13,"div",7)(14,"span"),v(15," El sistema de Gesti\xf3n de Muestras de Campo es un proyecto que tiene como objetivo desarrollar una Aplicaci\xf3n Web Progresiva para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela "),p()(),g(16,"div",8)(17,"div",9)(18,"span"),v(19,"Universidad Central de Venezuela (UCV) \xb7 Facultad Ciencias \xb7 "),p(),g(20,"span",10),Q("click",function(){return r.Credits()}),v(21,"Cr\xe9ditos"),p()(),W(22,"div",11),p()()),2&i&&(L(6),qn("hidden",r.hidInstBut),L(2),qn("hidden",r.hidInstText))},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}.Orange[_ngcontent-%COMP%]{cursor:pointer}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}#login[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:25%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:50%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:46%;top:76%;transform:translate(-50%);padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;position:absolute;top:77%;left:50%;transform:translate(-50%);font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.creditText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:36px;letter-spacing:0;display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:700px;position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:700px;position:absolute;bottom:50px;left:50%;transform:translate(-50%);text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:30px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;position:relative;left:90px;top:30px;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:46%;top:76%;padding-bottom:5px;padding-top:5px;width:120px;height:50px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#646464;width:75%;height:10%;transform:none;position:absolute;left:15%;top:70%;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;font-weight:700;letter-spacing:0px;line-height:20pt}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:20px;padding-top:0;position:relative;top:5px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditLogo[_ngcontent-%COMP%]{position:relative;top:45%;left:25%;width:36px;height:36px;cursor:pointer;background-size:contain;background-repeat:no-repeat;background-image:url(info.f631e6664ac6fa77.png)}.creditText[_ngcontent-%COMP%]{display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:90%;position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:70px;text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;width:100%;position:absolute;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:12px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;bottom:40px;left:50%;transform:translate(-50%);background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}}return n})()},{path:"credits",component:(()=>{class n{constructor(t,i){this.auth=t,this.router=i}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Se))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-credits"]],decls:29,vars:0,consts:[[1,"base"],[1,"install"],[1,"logoCiens"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"credits works!"),p(),g(2,"div",0)(3,"div",1)(4,"h2")(5,"b"),v(6,"Creditos:"),p()(),g(7,"p")(8,"b"),v(9,"Autor: "),p(),g(10,"span"),v(11,"Ioannis Morakis - m.yannis22@gmail.com"),p()(),g(12,"p")(13,"b"),v(14,"Tutora: "),p(),g(15,"span"),v(16,"Profa. Yosly Hern\xe1ndez Bieliukas"),p()(),W(17,"br"),g(18,"h2")(19,"b"),v(20,"Objetivo:"),p()(),g(21,"p")(22,"span"),v(23," Desarrollar una Aplicaci\xf3n Web para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela"),p()(),W(24,"br")(25,"br"),g(26,"p"),v(27," Universidad Central de Venezuela - Escuela de Computaci\xf3n "),p(),W(28,"div",2),p()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{width:600px;height:500px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:70%}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:45px;height:45px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}}return n})()}]}];let bDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[Rr.forChild(_De),Rr]})}}return n})(),yDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[Ua,Ep,Rr,bDe]})}}return n})(),vDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(i,r){1&i&&(g(0,"p"),v(1,"home works!"),p())}})}}return n})(),zW=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}Users(){this.router.navigate(["/admin/users"])}getData(){const t=_e(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"users",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"users",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}handleSignOut(){ni(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-admin"]],decls:24,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/Users.png","alt","Users","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"admin works!"),p(),g(2,"div",0),W(3,"div",1),g(4,"div",2),Q("click",function(){return r.handleSignOut()}),W(5,"img",3)(6,"br"),v(7," Cerrar Sesi\xf3n "),p(),g(8,"div",4),Q("click",function(){return r.Users()}),W(9,"img",5)(10,"br"),v(11," Usuarios "),p()(),g(12,"div",6)(13,"div",7)(14,"span",8),v(15,"Gestion de Muestras"),p()(),W(16,"div",9)(17,"div",10),g(18,"div",11),W(19,"div",12),g(20,"span",13),v(21,"Usuario"),p(),W(22,"div",14),p()(),W(23,"router-outlet"))},dependencies:[ul],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:6.75em;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:6.75em;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.4em;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0;cursor:pointer}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:320px;height:90%;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:17%;position:absolute;left:20%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}br[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:79%;top:15%;border-right:2px solid white;display:none}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}}return n})(),wDe=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){return this.checkLogin(i.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(i){return new(i||n)(H(Le),H(Se))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jW=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){ni(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Resultados(){this.router.navigate(["user/resultados"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}Scan(){this.router.navigate(["user/scan"])}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Se))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-user"]],decls:38,vars:0,consts:[[1,"navbar2Box"],[1,"navbar2"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovel2.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre.png","alt","Shovel","width","50","height","50"],["id","ResultText",1,"navbar2Text",3,"click"],["src","../../assets/Resultados.png","alt","Shovel","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/Clientes2.png","alt","Shovel","width","50","height","50"],["id","CodigoText",1,"navbar2Text",3,"click"],["src","../../assets/BarcodeAdd.png","alt","Shovel","width","50","height","50"],["id","ScanText",1,"navbar2Text",3,"click"],["src","../../assets/Scan.png","alt","Shovel","width","50","height","50"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"tituloSubText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(W(0,"div",0),g(1,"div",1)(2,"div",2),Q("click",function(){return r.Unidades()}),W(3,"img",3),v(4," Unidades de Producci\xf3n "),p(),g(5,"div",4),Q("click",function(){return r.Muestras()}),W(6,"img",5),v(7," Muestras "),p(),g(8,"div",6),Q("click",function(){return r.Resultados()}),W(9,"img",7),v(10," Resultados "),p(),g(11,"div",8),Q("click",function(){return r.Clientes()}),W(12,"img",9),v(13," Clientes "),p(),g(14,"div",10),Q("click",function(){return r.Codigo()}),W(15,"img",11),v(16," Generar Codigo "),p(),g(17,"div",12),Q("click",function(){return r.Scan()}),W(18,"img",13),v(19," Escanear "),p(),g(20,"div",14),Q("click",function(){return r.handleSignOut()}),W(21,"img",15),v(22," Cerrar Sesi\xf3n "),p()(),g(23,"div",16)(24,"div",17)(25,"span",18),v(26,"Clinica de Plantas"),p(),W(27,"br"),g(28,"span",19),v(29,"Gesti\xf3n de Muestras"),p()(),W(30,"div",20)(31,"div",21),g(32,"div",22),W(33,"div",23),g(34,"span",24),v(35,"Usuario"),p(),W(36,"div",25),p()(),W(37,"router-outlet"))},dependencies:[ul],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:6.75em;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:6.75em;position:absolute;left:0%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:block;line-height:.5em;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.tituloSubText[_ngcontent-%COMP%]{color:#fff;display:block;line-height:1.2em;font-family:Verdana;font-weight:700;font-size:20px;letter-spacing:0}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.navbar2[_ngcontent-%COMP%]{height:100vh;width:320px;position:absolute;top:0;left:0}.navbar2Box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 6px 10px #00000040;height:100vh;width:320px;position:fixed;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:15em;z-index:-10}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;padding-top:5px;padding-left:20px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:7em}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12em}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:16em}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:20em}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:24em}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:28em}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32em}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:6.75em;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:2.2em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:24%;top:2.2em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{width:80%;height:6.75em;position:absolute;left:20%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center}.tituloText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:32px;letter-spacing:0px;line-height:normal;display:block;text-align:center}.tituloSubText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:20px;letter-spacing:0px;line-height:normal;display:block;text-align:center}.homeLogo[_ngcontent-%COMP%]{display:none}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:6.75em}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:13.5em;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:13.5em;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:13.5em;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:13.5em;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:13.5em;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:13em;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}}"]})}}return n})();var vw=N(1874);let xDe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o}ngOnInit(){var t=this;return m(function*(){t.route.params.subscribe(i=>{t.item=i,console.log(i),t.generateBarcode(i)}),yield t.sleep(500),window.print()})()}sleep(t){return m(function*(){return new Promise(i=>setTimeout(i,t))})()}generateBarcode(t){var i=t.id;let r=t.num;for(let o=1;o<=r;o++){let s="#barcode"+o;console.log(s),vw(s,i,{format:"CODE128"})}}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-print"]],decls:6,vars:0,consts:[[1,"print-page"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"],["id","barcode5"]],template:function(i,r){1&i&&(W(0,"div",0),D_(),W(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4)(5,"svg",5))},styles:[".print-page[_ngcontent-%COMP%]{width:100vw;min-height:100vh;background:#fff}#barcode1[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode5[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}}return n})(),HW=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){ni(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Se))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-client"]],decls:28,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovel2.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre.png","alt","Shovel","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"client works!"),p(),g(2,"div",0),W(3,"div",1),g(4,"div",2),Q("click",function(){return r.handleSignOut()}),W(5,"img",3)(6,"br"),v(7," Cerrar Sesi\xf3n "),p(),g(8,"div",4),Q("click",function(){return r.Unidad()}),W(9,"img",5)(10,"br"),v(11," Unidades de Producci\xf3n "),p(),g(12,"div",6),Q("click",function(){return r.Muestras()}),W(13,"img",7)(14,"br"),v(15," Muestras "),p()(),g(16,"div",8)(17,"div",9)(18,"span",10),v(19,"Gesti\xf3n de Muestras"),p()(),W(20,"div",11)(21,"div",12),g(22,"div",13),Q("click",function(){return r.Perfil()}),W(23,"div",14),g(24,"span",15),v(25,"Usuario "),p(),W(26,"div",16),p()(),W(27,"router-outlet"))},dependencies:[ul],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:6.75em;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:6.75em;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.4em;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0;cursor:pointer}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:320px;height:100%;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:0%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:7em}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12em}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:17em}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}br[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:6.75em;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:2.2em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:24%;top:2.2em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{width:80%;height:6.75em;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.homeLogo[_ngcontent-%COMP%]{display:none}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:6.75em}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:13.5em;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:13.5em;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:13.5em;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:79%;top:13.5em;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}}"]})}}return n})();const CDe=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:vDe},{path:"admin",component:zW,canActivate:[wDe]},{path:"auth",component:cH},{path:"user",component:jW},{path:"client",component:HW},{path:"print/:id/:num",component:xDe}];let BR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[Rr.forRoot(CDe),Rr]})}}return n})(),EDe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.title="gestion-muestras",console.log("inside app component")}handleSignOut(){ni(this.auth).then(()=>{}).catch(t=>{console.log("here")})}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Se),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&W(0,"router-outlet")},dependencies:[ul],styles:[".base[_ngcontent-%COMP%]{margin:0;width:100%;height:100%;top:0;left:0;background-repeat:repeat;background-image:url(CaptureLeafRepeatOpacity10.38bc5159f70f7053.png)}"]})}}return n})();const IDe_firebase={projectId:"gestion-de-muestras-de-c-fabe0",appId:"1:881625861704:web:1da279954953bf7e3ad27d",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-c-fabe0.appspot.com",apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",messagingSenderId:"881625861704",measurementId:"G-PTHV8B640J"},$W="@firebase/database";let UR="";class MDe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vi(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Up(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class DDe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ms(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const qW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MDe(e)}}catch{}return new DDe},Ql=qW("localStorage"),zR=qW("sessionStorage"),Ph=new hl("@firebase/database"),WW=function(){let n=1;return function(){return n++}}(),KW=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,se(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new Yme;t.update(e);const i=t.digest();return rv.encodeByteArray(i)},Sm=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Sm.apply(null,i):e+="object"==typeof i?Vi(i):i,e+=" "}return e};let Yl=null,QW=!0;const Ai=function(...n){if(!0===QW&&(QW=!1,null===Yl&&!0===zR.get("logging_enabled")&&function(n,e){se(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ph.logLevel=mt.VERBOSE,Yl=Ph.log.bind(Ph),e&&zR.set("logging_enabled",!0)):"function"==typeof n?Yl=n:(Yl=null,zR.remove("logging_enabled"))}(!0)),Yl){const e=Sm.apply(null,n);Yl(e)}},Am=function(n){return function(...e){Ai(n,...e)}},jR=function(...n){const e="FIREBASE INTERNAL ERROR: "+Sm(...n);Ph.error(e)},As=function(...n){const e=`FIREBASE FATAL ERROR: ${Sm(...n)}`;throw Ph.error(e),new Error(e)},lr=function(...n){const e="FIREBASE WARNING: "+Sm(...n);Ph.warn(e)},ww=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},wc="[MIN_NAME]",ga="[MAX_NAME]",Xl=function(n,e){if(n===e)return 0;if(n===wc||e===ga)return-1;if(e===wc||n===ga)return 1;{const t=JW(n),i=JW(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},kDe=function(n,e){return n===e?0:n<e?-1:1},km=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Vi(e))},HR=function(n){if("object"!=typeof n||null===n)return Vi(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Vi(e[i]),t+=":",t+=HR(n[e[i]]);return t+="}",t},XW=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const ZW=function(n){se(!ww(n),"Invalid JSON number");const i=1023;let r,o,s,a,c;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},NDe=new RegExp("^-?(0*)\\d{1,10}$"),JW=function(n){if(NDe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Rh=function(n){try{n()}catch(e){setTimeout(()=>{throw lr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Om=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class BDe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){lr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class UDe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ai("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lr(e)}}let Pm=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const rK=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,aK="websocket",cK="long_polling";class GR{constructor(e,t,i,r,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ql.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ql.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function lK(n,e,t){let i;if(se("string"==typeof e,"typeof type must == string"),se("object"==typeof t,"typeof params must == object"),e===aK)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==cK)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function zDe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return ki(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class jDe{constructor(){this.counters_={}}incrementCounter(e,t=1){ms(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Fme(this.counters_)}}const qR={},WR={};function KR(n){const e=n.toString();return qR[e]||(qR[e]=new jDe),qR[e]}class $De{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Rh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xc{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Am(e),this.stats_=KR(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),lK(t,cK,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $De(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new QR((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&rK.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xc.forceAllow_=!0}static forceDisallow(){xc.forceDisallow_=!0}static isAvailable(){return!(!xc.forceAllow_&&(xc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Vi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=o9(t),r=XW(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Vi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class QR{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=QR.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ai("frame writing exception"),a.stack&&Ai(a.stack),Ai(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ai("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ai("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Cw=null;typeof MozWebSocket<"u"?Cw=MozWebSocket:typeof WebSocket<"u"&&(Cw=WebSocket);let Nh=(()=>{class n{constructor(t,i,r,o,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Am(this.connId),this.stats_=KR(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&rK.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),lK(t,aK,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ql.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new Cw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Cw&&!n.forceDisallow_}static previouslyFailed(){return Ql.isInMemoryStorage||!0===Ql.get("previous_websocket_failure")}markConnectionHealthy(){Ql.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Up(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(se(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Vi(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=XW(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),mK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[xc,Nh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Nh&&Nh.isAvailable();let r=i&&!Nh.previouslyFailed();if(t.webSocketOnly&&(i||lr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nh];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class CK{constructor(e,t,i,r,o,s,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Am("c:"+this.id+":"),this.transportManager_=new mK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Om(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=km("t",e),i=km("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=km("t",e),i=km("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=km("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?jR("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&lr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Om(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Om(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ql.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class EK{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class IK{constructor(e){this.allowedEvents_=e,this.listeners_={},se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){se(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Ew extends IK{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!WT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ew}getInitialEvent(e){return se("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ot{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function It(){return new Ot("")}function nt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Cc(n){return n.pieces_.length-n.pieceNum_}function qt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ot(n.pieces_,e)}function XR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Rm(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function DK(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ot(e,0)}function Cn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ot)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ot(t,0)}function it(n){return n.pieceNum_>=n.pieces_.length}function Cr(n,e){const t=nt(n),i=nt(e);if(null===t)return e;if(t===i)return Cr(qt(n),qt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ZR(n,e){if(Cc(n)!==Cc(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function bo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Cc(n)>Cc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class fSe{constructor(e,t){this.errorPrefix_=t,this.parts_=Rm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=dv(this.parts_[i]);SK(this)}}function SK(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Zl(n))}function Zl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class JR extends IK{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new JR}getInitialEvent(e){return se("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Nm=1e3;let Tw,Jl=(()=>{class n extends EK{constructor(t,i,r,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Am("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Ew.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(Vi(s)),se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Fd,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),se(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&ms(t,"w")){const r=Ld(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();lr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=cv(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=cv(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Vi(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):jR("Unrecognized action received from server: "+Vi(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Nm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Nm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return m(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};t.realtime_={close:u,sendRequest:function(f){se(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,y]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);c?Ai("getToken() completed but was canceled"):(Ai("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=y&&y.token,l=new CK(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,C=>{lr(C+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),c||(t.repoInfo_.nodeAdmin&&lr(f),u())}}})()}interrupt(t){Ai("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ai("Resuming connection for reason: "+t),delete this.interruptReasons_[t],YT(this.interruptReasons_)&&(this.reconnectDelay_=Nm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>HR(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Ot(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Ai("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ai("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+UR.replace(/\./g,"-")]=1,WT()?t["framework.cordova"]=1:d9()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ew.getInstance().currentlyOnline();return YT(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class st{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new st(e,t)}}class Iw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new st(wc,e),r=new st(wc,t);return 0!==this.compare(i,r)}minPost(){return st.MIN}}class OK extends Iw{static get __EMPTY_NODE(){return Tw}static set __EMPTY_NODE(e){Tw=e}compare(e,t){return Xl(e.name,t.name)}isDefinedOn(e){throw Nd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return st.MIN}maxPost(){return new st(ga,Tw)}makePost(e,t){return se("string"==typeof e,"KeyIndex indexValue must always be a string."),new st(e,Tw)}toString(){return".key"}}const ks=new OK;class Mw{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let tN,Ho=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Br.EMPTY_NODE,this.right=s??Br.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Br.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Br.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Br{constructor(e,t=Br.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Br(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ho.BLACK,null,null))}remove(e){return new Br(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ho.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Mw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Mw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Mw(this.root_,null,this.comparator_,!0,e)}}function wSe(n,e){return Xl(n.name,e.name)}function eN(n,e){return Xl(n,e)}Br.EMPTY_NODE=new class vSe{copy(e,t,i,r,o){return this}insert(e,t,i){return new Ho(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const PK=function(n){return"number"==typeof n?"number:"+ZW(n):"string:"+n},RK=function(n){if(n.isLeafNode()){const e=n.val();se("string"==typeof e||"number"==typeof e||"object"==typeof e&&ms(e,".sv"),"Priority must be a string or number.")}else se(n===tN||n.isEmpty(),"priority of unexpected type.");se(n===tN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let NK,FK,LK,Fh=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,se(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),RK(this.priorityNode_)}static set __childrenNodeConstructor(t){NK=t}static get __childrenNodeConstructor(){return NK}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return it(t)?this:".priority"===nt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=nt(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(se(".priority"!==r||1===Cc(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(qt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+PK(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?ZW(this.value_):this.value_,this.lazyHash_=KW(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(se(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return se(o>=0,"Unknown leaf type: "+i),se(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const on=new class ISe extends Iw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?Xl(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return st.MIN}maxPost(){return new st(ga,new Fh("[PRIORITY-POST]",LK))}makePost(e,t){const i=FK(e);return new st(t,new Fh("[PRIORITY-POST]",i))}toString(){return".priority"}},TSe=Math.log(2);class MSe{constructor(e){this.count=parseInt(Math.log(e+1)/TSe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Dw=function(n,e,t,i){n.sort(e);const r=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=n[c],h=t?t(d):d,new Ho(h,d.node,Ho.BLACK,null,null);{const f=parseInt(u/2,10)+c,y=r(c,f),C=r(f+1,l);return d=n[f],h=t?t(d):d,new Ho(h,d.node,Ho.BLACK,y,C)}},a=function(c){let l=null,u=null,d=n.length;const h=function(y,C){const I=d-y,k=d;d-=y;const D=r(I+1,k),B=n[I],Y=t?t(B):B;f(new Ho(Y,B.node,C,null,D))},f=function(y){l?(l.left=y,l=y):(u=y,l=y)};for(let y=0;y<c.count;++y){const C=c.nextBitIsOne(),I=Math.pow(2,c.count-(y+1));C?h(I,Ho.BLACK):(h(I,Ho.BLACK),h(I,Ho.RED))}return u}(new MSe(n.length));return new Br(i||e,a)};let nN;const Lh={};class ma{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return se(Lh&&on,"ChildrenNode.ts has not been loaded"),nN=nN||new ma({".priority":Lh},{".priority":on}),nN}get(e){const t=Ld(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Br?t:null}hasIndex(e){return ms(this.indexSet_,e.toString())}addIndex(e,t){se(e!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(st.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?Dw(i,e.getCompare()):Lh;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new ma(u,l)}addToIndexes(e,t){const i=lv(this.indexes_,(r,o)=>{const s=Ld(this.indexSet_,o);if(se(s,"Missing index implementation for "+o),r===Lh){if(s.isDefinedOn(e.node)){const a=[],c=t.getIterator(st.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Dw(a,s.getCompare())}return Lh}{const a=t.get(e.name);let c=r;return a&&(c=c.remove(new st(e.name,a))),c.insert(e,e.node)}});return new ma(i,this.indexSet_)}removeFromIndexes(e,t){const i=lv(this.indexes_,r=>{if(r===Lh)return r;{const o=t.get(e.name);return o?r.remove(new st(e.name,o)):r}});return new ma(i,this.indexSet_)}}let Fm,qe=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RK(this.priorityNode_),this.children_.isEmpty()&&se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fm||(Fm=new n(new Br(eN),null,ma.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fm}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Fm:i}}getChild(t){const i=nt(t);return null===i?this:this.getImmediateChild(i).getChild(qt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(se(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new st(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?Fm:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=nt(t);if(null===r)return i;{se(".priority"!==nt(t)||1===Cc(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(qt(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(on,(a,c)=>{i[a]=c.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const c in i)a[c]=i[c];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+PK(this.getPriority().val())+":"),this.forEachChild(on,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":KW(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new st(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new st(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new st(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,st.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,st.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Lm?-1:0}withIndex(t){if(t===ks||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ks||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(on),o=i.getIterator(on);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===ks?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Lm=new class DSe extends qe{constructor(){super(new Br(eN),qe.EMPTY_NODE,ma.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(st,{MIN:{value:new st(wc,qe.EMPTY_NODE)},MAX:{value:new st(ga,Lm)}}),OK.__EMPTY_NODE=qe.EMPTY_NODE,Fh.__childrenNodeConstructor=qe,function xSe(n){tN=n}(Lm),function ESe(n){LK=n}(Lm);const SSe=!0;function Dn(n,e=null){if(null===n)return qe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),se(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Fh(n,Dn(e));if(n instanceof Array||!SSe){let t=qe.EMPTY_NODE;return ki(n,(i,r)=>{if(ms(n,i)&&"."!==i.substring(0,1)){const o=Dn(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Dn(e))}{const t=[];let i=!1;if(ki(n,(s,a)=>{if("."!==s.substring(0,1)){const c=Dn(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new st(s,c)))}}),0===t.length)return qe.EMPTY_NODE;const o=Dw(t,wSe,s=>s.name,eN);if(i){const s=Dw(t,on.getCompare());return new qe(o,Dn(e),new ma({".priority":s},{".priority":on}))}return new qe(o,Dn(e),ma.Default)}}!function CSe(n){FK=n}(Dn);class iN extends Iw{constructor(e){super(),this.indexPath_=e,se(!it(e)&&".priority"!==nt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?Xl(e.name,t.name):o}makePost(e,t){const i=Dn(e),r=qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new st(t,r)}maxPost(){const e=qe.EMPTY_NODE.updateChild(this.indexPath_,Lm);return new st(ga,e)}toString(){return Rm(this.indexPath_,0).join("/")}}const rN=new class ASe extends Iw{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Xl(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return st.MIN}maxPost(){return st.MAX}makePost(e,t){const i=Dn(e);return new st(t,i)}toString(){return".value"}};function Bm(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class sN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=on}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wc}hasEnd(){return this.endSet_}getIndexEndValue(){return se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===on}copy(){const e=new sN;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BK(n){const e={};if(n.isDefault())return e;let t;if(n.index_===on?t="$priority":n.index_===rN?t="$value":n.index_===ks?t="$key":(se(n.index_ instanceof iN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Vi(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Vi(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Vi(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Vi(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Vi(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function UK(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==on&&(e.i=n.index_.toString()),e}class Aw extends EK{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Am("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Aw.getListenId_(e,i),a={};this.listens_[s]=a;const c=BK(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,i),Ld(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(h,null)}})}unlisten(e,t){const i=Aw.getListenId_(e,t);delete this.listens_[i]}get(e){const t=BK(e._queryParams),i=e._path.toString(),r=new Fd;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vd(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Up(a.responseText)}catch{lr("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else 401!==a.status&&404!==a.status&&lr("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class VSe{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function kw(){return{value:null,children:new Map}}function Bh(n,e,t){if(it(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=nt(e);n.children.has(i)||n.children.set(i,kw()),Bh(n.children.get(i),e=qt(e),t)}}function uN(n,e,t){null!==n.value?t(e,n.value):function BSe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{uN(r,new Ot(e.toString()+"/"+i),t)})}class USe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ki(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class HSe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new USe(e);const i=1e4+2e4*Math.random();Om(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ki(e,(r,o)=>{o>0&&ms(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Om(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Os=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Os||{});function fN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Ow{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Os.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(it(this.path)){if(null!=this.affectedTree.value)return se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ot(e));return new Ow(It(),t,this.revert)}}return se(nt(this.path)===e,"operationForChild called for unrelated child."),new Ow(qt(this.path),this.affectedTree,this.revert)}}class eu{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Os.OVERWRITE}operationForChild(e){return it(this.path)?new eu(this.source,It(),this.snap.getImmediateChild(e)):new eu(this.source,qt(this.path),this.snap)}}class Uh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Os.MERGE}operationForChild(e){if(it(this.path)){const t=this.children.subtree(new Ot(e));return t.isEmpty()?null:t.value?new eu(this.source,It(),t.value):new Uh(this.source,It(),t)}return se(nt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Uh(this.source,qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ec{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(it(e))return this.isFullyInitialized()&&!this.filtered_;const t=nt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function jm(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,c)=>function WSe(n,e,t){if(null==e.childName||null==t.childName)throw Nd("Should only compare child_ events.");const i=new st(e.childName,e.snapshotNode),r=new st(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,c)),s.forEach(a=>{const c=function qSe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function Pw(n,e){return{eventCache:n,serverCache:e}}function Hm(n,e,t,i){return Pw(new Ec(e,t,i),n.serverCache)}function jK(n,e,t,i){return Pw(n.eventCache,new Ec(e,t,i))}function Rw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function tu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pN;class sn{constructor(e,t=(()=>(pN||(pN=new Br(kDe)),pN))()){this.value=e,this.children=t}static fromObject(e){let t=new sn(null);return ki(e,(i,r)=>{t=t.set(new Ot(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:It(),value:this.value};if(it(e))return null;{const i=nt(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(qt(e),t);return null!=o?{path:Cn(new Ot(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(it(e))return this;{const t=nt(e),i=this.children.get(t);return null!==i?i.subtree(qt(e)):new sn(null)}}set(e,t){if(it(e))return new sn(t,this.children);{const i=nt(e),o=(this.children.get(i)||new sn(null)).set(qt(e),t),s=this.children.insert(i,o);return new sn(this.value,s)}}remove(e){if(it(e))return this.children.isEmpty()?new sn(null):new sn(null,this.children);{const t=nt(e),i=this.children.get(t);if(i){const r=i.remove(qt(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new sn(null):new sn(this.value,o)}return this}}get(e){if(it(e))return this.value;{const t=nt(e),i=this.children.get(t);return i?i.get(qt(e)):null}}setTree(e,t){if(it(e))return t;{const i=nt(e),o=(this.children.get(i)||new sn(null)).setTree(qt(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new sn(this.value,s)}}fold(e){return this.fold_(It(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Cn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,It(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(it(e))return null;{const o=nt(e),s=this.children.get(o);return s?s.findOnPath_(qt(e),Cn(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,It(),t)}foreachOnPath_(e,t,i){if(it(e))return this;{this.value&&i(t,this.value);const r=nt(e),o=this.children.get(r);return o?o.foreachOnPath_(qt(e),Cn(t,r),i):new sn(null)}}foreach(e){this.foreach_(It(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Cn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class $o{constructor(e){this.writeTree_=e}static empty(){return new $o(new sn(null))}}function $m(n,e,t){if(it(e))return new $o(new sn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=Cr(r,e);return o=o.updateChild(s,t),new $o(n.writeTree_.set(r,o))}{const r=new sn(t),o=n.writeTree_.setTree(e,r);return new $o(o)}}}function gN(n,e,t){let i=n;return ki(t,(r,o)=>{i=$m(i,Cn(e,r),o)}),i}function HK(n,e){if(it(e))return $o.empty();{const t=n.writeTree_.setTree(e,new sn(null));return new $o(t)}}function mN(n,e){return null!=nu(n,e)}function nu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Cr(t.path,e)):null}function $K(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(on,(i,r)=>{e.push(new st(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new st(i,r.value))}),e}function Ic(n,e){if(it(e))return n;{const t=nu(n,e);return new $o(null!=t?new sn(t):n.writeTree_.subtree(e))}}function _N(n){return n.writeTree_.isEmpty()}function zh(n,e){return GK(It(),n.writeTree_,e)}function GK(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(se(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=GK(Cn(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Cn(n,".priority"),i)),t}}function Nw(n,e){return YK(e,n)}function JSe(n,e){if(n.snap)return bo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&bo(Cn(n.path,t),e))return!0;return!1}function tAe(n){return n.visible}function qK(n,e,t){let i=$o.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)bo(t,s)?(a=Cr(t,s),i=$m(i,a,o.snap)):bo(s,t)&&(a=Cr(s,t),i=$m(i,It(),o.snap.getChild(a)));else{if(!o.children)throw Nd("WriteRecord should have .snap or .children");if(bo(t,s))a=Cr(t,s),i=gN(i,a,o.children);else if(bo(s,t))if(a=Cr(s,t),it(a))i=gN(i,It(),o.children);else{const c=Ld(o.children,nt(a));if(c){const l=c.getChild(qt(a));i=$m(i,It(),l)}}}}}return i}function WK(n,e,t,i,r){if(i||r){const o=Ic(n.visibleWrites,e);return!r&&_N(o)?t:r||null!=t||mN(o,It())?zh(qK(n.allWrites,function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(bo(l.path,e)||bo(e,l.path))},e),t||qe.EMPTY_NODE):null}{const o=nu(n.visibleWrites,e);if(null!=o)return o;{const s=Ic(n.visibleWrites,e);return _N(s)?t:null!=t||mN(s,It())?zh(s,t||qe.EMPTY_NODE):null}}}function Fw(n,e,t,i){return WK(n.writeTree,n.treePath,e,t,i)}function bN(n,e){return function nAe(n,e,t){let i=qe.EMPTY_NODE;const r=nu(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(on,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=Ic(n.visibleWrites,e);return t.forEachChild(on,(s,a)=>{const c=zh(Ic(o,new Ot(s)),a);i=i.updateImmediateChild(s,c)}),$K(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return $K(Ic(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function KK(n,e,t,i){return function iAe(n,e,t,i,r){se(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Cn(e,t);if(mN(n.visibleWrites,o))return null;{const s=Ic(n.visibleWrites,o);return _N(s)?r.getChild(t):zh(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Lw(n,e){return function oAe(n,e){return nu(n.visibleWrites,e)}(n.writeTree,Cn(n.treePath,e))}function yN(n,e,t){return function rAe(n,e,t,i){const r=Cn(e,t),o=nu(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?zh(Ic(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function QK(n,e){return YK(Cn(n.treePath,e),n.writeTree)}function YK(n,e){return{treePath:n,writeTree:e}}class lAe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;se("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),se(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,Bm(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function Vm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function Vh(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Nd("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Bm(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const XK=new class uAe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class vN{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Ec(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yN(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tu(this.viewCache_),o=function cAe(n,e,t,i,r,o){return function sAe(n,e,t,i,r,o,s){let a;const c=Ic(n.visibleWrites,e),l=nu(c,It());if(null!=l)a=l;else{if(null==t)return[];a=zh(c,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function ZK(n,e,t,i,r,o){const s=e.eventCache;if(null!=Lw(i,t))return e;{let a,c;if(it(t))if(se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=tu(e),d=bN(i,l instanceof qe?l:qe.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const l=Fw(i,tu(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=nt(t);if(".priority"===l){se(1===Cc(t),"Can't have a priority with additional path components");const u=s.getNode();c=e.serverCache.getNode();const d=KK(i,t,u,c);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=qt(t);let d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const h=KK(i,t,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=yN(i,l,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),l,d,u,r,o):s.getNode()}}return Hm(e,a,s.isFullyInitialized()||it(t),n.filter.filtersNodes())}}function Vw(n,e,t,i,r,o,s,a){const c=e.serverCache;let l;const u=s?n.filter:n.filter.getIndexedFilter();if(it(t))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(t,i);l=u.updateFullNode(c.getNode(),f,null)}else{const f=nt(t);if(!c.isCompleteForPath(t)&&Cc(t)>1)return e;const y=qt(t),I=c.getNode().getImmediateChild(f).updateChild(y,i);l=".priority"===f?u.updatePriority(c.getNode(),I):u.updateChild(c.getNode(),f,I,y,XK,null)}const d=jK(e,l,c.isFullyInitialized()||it(t),u.filtersNodes());return ZK(n,d,t,r,new vN(r,d,o),a)}function wN(n,e,t,i,r,o,s){const a=e.eventCache;let c,l;const u=new vN(r,e,o);if(it(t))l=n.filter.updateFullNode(e.eventCache.getNode(),i,s),c=Hm(e,l,!0,n.filter.filtersNodes());else{const d=nt(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),i),c=Hm(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=qt(t),f=a.getNode().getImmediateChild(d);let y;if(it(h))y=i;else{const C=u.getCompleteChild(d);y=null!=C?".priority"===XR(h)&&C.getChild(DK(h)).isEmpty()?C:C.updateChild(h,i):qe.EMPTY_NODE}c=f.equals(y)?e:Hm(e,n.filter.updateChild(a.getNode(),d,y,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function JK(n,e){return n.eventCache.isCompleteForChild(e)}function eQ(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function xN(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=it(t)?i:new sn(null).setTree(t,i);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const y=eQ(0,e.serverCache.getNode().getImmediateChild(d),h);c=Vw(n,c,new Ot(d),y,r,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const C=eQ(0,e.serverCache.getNode().getImmediateChild(d),h);c=Vw(n,c,new Ot(d),C,r,o,s,a)}}),c}function xAe(n,e){const t=tu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!it(e)&&!t.getImmediateChild(nt(e)).isEmpty())?t.getChild(e):null}function iQ(n,e,t,i){e.type===Os.MERGE&&null!==e.source.queryId&&(se(tu(n.viewCache_),"We should always have a full cache before handling merges"),se(Rw(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function fAe(n,e,t,i,r){const o=new lAe;let s,a;if(t.type===Os.OVERWRITE){const l=t;l.source.fromUser?s=wN(n,e,l.path,l.snap,i,r,o):(se(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!it(l.path),s=Vw(n,e,l.path,l.snap,i,r,a,o))}else if(t.type===Os.MERGE){const l=t;l.source.fromUser?s=function gAe(n,e,t,i,r,o,s){let a=e;return i.foreach((c,l)=>{const u=Cn(t,c);JK(e,nt(u))&&(a=wN(n,a,u,l,r,o,s))}),i.foreach((c,l)=>{const u=Cn(t,c);JK(e,nt(u))||(a=wN(n,a,u,l,r,o,s))}),a}(n,e,l.path,l.children,i,r,o):(se(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=xN(n,e,l.path,l.children,i,r,a,o))}else if(t.type===Os.ACK_USER_WRITE){const l=t;s=l.revert?function bAe(n,e,t,i,r,o){let s;if(null!=Lw(i,t))return e;{const a=new vN(i,e,r),c=e.eventCache.getNode();let l;if(it(t)||".priority"===nt(t)){let u;if(e.serverCache.isFullyInitialized())u=Fw(i,tu(e));else{const d=e.serverCache.getNode();se(d instanceof qe,"serverChildren would be complete if leaf node"),u=bN(i,d)}l=n.filter.updateFullNode(c,u,o)}else{const u=nt(t);let d=yN(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?n.filter.updateChild(c,u,d,qt(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,qe.EMPTY_NODE,qt(t),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Fw(i,tu(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=Lw(i,It()),Hm(e,l,s,n.filter.filtersNodes())}}(n,e,l.path,i,r,o):function mAe(n,e,t,i,r,o,s){if(null!=Lw(r,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(it(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Vw(n,e,t,c.getNode().getChild(t),r,o,a,s);if(it(t)){let l=new sn(null);return c.getNode().forEachChild(ks,(u,d)=>{l=l.set(new Ot(u),d)}),xN(n,e,t,l,r,o,a,s)}return e}{let l=new sn(null);return i.foreach((u,d)=>{const h=Cn(t,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),xN(n,e,t,l,r,o,a,s)}}(n,e,l.path,l.affectedTree,i,r,o)}else{if(t.type!==Os.LISTEN_COMPLETE)throw Nd("Unknown operation type: "+t.type);s=function _Ae(n,e,t,i,r){const o=e.serverCache;return ZK(n,jK(e,o.getNode(),o.isFullyInitialized()||it(t),o.isFiltered()),t,i,XK,r)}(n,e,t.path,i,o)}const c=o.getChanges();return function pAe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Rw(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function VK(n){return{type:"value",snapshotNode:n}}(Rw(e)))}}(e,s,c),{viewCache:s,changes:c}}(n.processor_,r,e,t,i);return function hAe(n,e){se(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),se(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),se(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function rQ(n,e,t,i){return function GSe(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function kSe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),jm(n,r,"child_removed",e,i,t),jm(n,r,"child_added",e,i,t),jm(n,r,"child_moved",o,i,t),jm(n,r,"child_changed",e,i,t),jm(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let Bw,zw;function CN(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return se(null!=o,"SyncTree gave us an op for an invalid query."),iQ(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(iQ(s,e,t,i));return o}}function Tc(n,e){let t=null;for(const i of n.views.values())t=t||xAe(i,e);return t}class uQ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_=function aAe(){return{visibleWrites:$o.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EN(n,e,t,i,r){return function QSe(n,e,t,i,r){se(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=$m(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?jh(n,new eu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Dc(n,e,t=!1){const i=function XSe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function ZSe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);se(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&JSe(a,i.path)?r=!1:bo(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function eAe(n){n.visibleWrites=qK(n.allWrites,tAe,It()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=HK(n.visibleWrites,i.path):ki(i.children,c=>{n.visibleWrites=HK(n.visibleWrites,Cn(i.path,c))}),!0))}(n.pendingWriteTree_,e)){let o=new sn(null);return null!=i.snap?o=o.set(It(),!0):ki(i.children,s=>{o=o.set(new Ot(s),!0)}),jh(n,new Ow(i.path,o,t))}return[]}function Gm(n,e,t){return jh(n,new eu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Hw(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const l=Tc(a,Cr(s,e));if(l)return l});return WK(r,e,o,t,!0)}function jh(n,e){return hQ(e,n.syncPointTree_,null,Nw(n.pendingWriteTree_,It()))}function hQ(n,e,t,i){if(it(n.path))return fQ(n,e,t,i);{const r=e.get(It());null==t&&null!=r&&(t=Tc(r,It()));let o=[];const s=nt(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){const l=t?t.getImmediateChild(s):null,u=QK(i,s);o=o.concat(hQ(a,c,l,u))}return r&&(o=o.concat(CN(r,n,i,t))),o}}function fQ(n,e,t,i){const r=e.get(It());null==t&&null!=r&&(t=Tc(r,It()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=t?t.getImmediateChild(s):null,l=QK(i,s),u=n.operationForChild(s);u&&(o=o.concat(fQ(u,a,c,l)))}),r&&(o=o.concat(CN(r,n,i,t))),o}function TN(n,e){return n.tagToQueryMap.get(e)}function MN(n){const e=n.indexOf("$");return se(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ot(n.substr(0,e))}}function DN(n,e,t){const i=n.syncPointTree_.get(e);return se(i,"Missing sync point for query tag that we're tracking"),CN(i,t,Nw(n.pendingWriteTree_,e),null)}class SN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new SN(t)}node(){return this.node_}}class AN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Cn(this.path_,e);return new AN(this.syncTree_,t)}node(){return Hw(this.syncTree_,this.path_)}}const HAe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},gQ=function(n,e,t){return n&&"object"==typeof n?(se(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?$Ae(n[".sv"],e,t):"object"==typeof n[".sv"]?GAe(n[".sv"],e):void se(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},$Ae=function(n,e,t){if("timestamp"===n)return t.timestamp;se(!1,"Unexpected server value: "+n)},GAe=function(n,e,t){n.hasOwnProperty("increment")||se(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&se(!1,"Unexpected increment value: "+i);const r=e.node();if(se(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},mQ=function(n,e,t,i){return ON(e,new AN(t,n),i)},kN=function(n,e,t){return ON(n,new SN(e),t)};function ON(n,e,t){const i=n.getPriority().val(),r=gQ(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=gQ(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new Fh(a,Dn(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Fh(r))),s.forEachChild(on,(a,c)=>{const l=ON(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class PN{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Gw(n,e){let t=e instanceof Ot?e:new Ot(e),i=n,r=nt(t);for(;null!==r;){const o=Ld(i.node.children,r)||{children:{},childCount:0};i=new PN(r,i,o),t=qt(t),r=nt(t)}return i}function iu(n){return n.node.value}function RN(n,e){n.node.value=e,NN(n)}function _Q(n){return n.node.childCount>0}function qw(n,e){ki(n.node.children,(t,i)=>{e(new PN(t,n,i))})}function bQ(n,e,t,i){t&&!i&&e(n),qw(n,r=>{bQ(r,e,!0,i)}),t&&i&&e(n)}function Km(n){return new Ot(null===n.parent?n.name:Km(n.parent)+"/"+n.name)}function NN(n){null!==n.parent&&function KAe(n,e,t){const i=function qAe(n){return void 0===iu(n)&&!_Q(n)}(t),r=ms(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,NN(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,NN(n))}(n.parent,n.name,n)}const QAe=/[\[\].#$\/\u0000-\u001F\u007F]/,YAe=/[\[\].#$\u0000-\u001F\u007F]/,FN=10485760,Ww=function(n){return"string"==typeof n&&0!==n.length&&!QAe.test(n)},Ym=function(n,e,t){const i=t instanceof Ot?new fSe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Zl(i));if("function"==typeof e)throw new Error(n+"contains a function "+Zl(i)+" with contents = "+e.toString());if(ww(e))throw new Error(n+"contains "+e.toString()+" "+Zl(i));if("string"==typeof e&&e.length>FN/3&&dv(e)>FN)throw new Error(n+"contains a string greater than "+FN+" utf8 bytes "+Zl(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(ki(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Ww(s)))throw new Error(n+" contains an invalid key ("+s+") "+Zl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function pSe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=dv(e),SK(n)})(i,s),Ym(n,a,i),function gSe(n){const e=n.parts_.pop();n.byteLength_-=dv(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Zl(i)+" in addition to actual children.")}},wQ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ww(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!YAe.test(n)}(n)}(t))throw new Error(function Hp(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eke{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eo(n,e,t){(function Kw(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!ZR(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function CQ(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(tke(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>bo(i,e)||bo(e,i))}function tke(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Yl&&Ai("event: "+t.toString()),Rh(i)}}}const nke=25;class ike{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eke,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kw(),this.transactionQueueTree_=new PN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IQ(n){const t=n.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Zm(n){return HAe({timestamp:IQ(n)})}function TQ(n,e,t,i,r){n.dataUpdateCount++;const o=new Ot(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const c=lv(t,l=>Dn(l));s=function LAe(n,e,t,i){const r=TN(n,i);if(r){const o=MN(r),s=o.path,a=o.queryId,c=Cr(s,e),l=sn.fromObject(t);return DN(n,s,new Uh(fN(a),c,l))}return[]}(n.serverSyncTree_,o,c,r)}else{const c=Dn(t);s=function dQ(n,e,t,i){const r=TN(n,i);if(null!=r){const o=MN(r),s=o.path,a=o.queryId,c=Cr(s,e);return DN(n,s,new eu(fN(a),c,t))}return[]}(n.serverSyncTree_,o,c,r)}else if(i){const c=lv(t,l=>Dn(l));s=function RAe(n,e,t){const i=sn.fromObject(t);return jh(n,new Uh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,c)}else{const c=Dn(t);s=Gm(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=$h(n,o)),eo(n.eventQueue_,a,s)}function MQ(n,e){BN(n,"connected",e),!1===e&&function cke(n){Hh(n,"onDisconnectEvents");const e=Zm(n),t=kw();uN(n.onDisconnect_,It(),(r,o)=>{const s=mQ(r,o,n.serverSyncTree_,e);Bh(t,r,s)});let i=[];uN(t,It(),(r,o)=>{i=i.concat(Gm(n.serverSyncTree_,r,o));const s=function HN(n,e){const t=Km(AQ(n,e)),i=Gw(n.transactionQueueTree_,e);return function WAe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{$N(n,r)}),$N(n,i),bQ(i,r=>{$N(n,r)}),t}(n,r);$h(n,s)}),n.onDisconnect_=kw(),eo(n.eventQueue_,It(),i)}(n)}function BN(n,e,t){const i=new Ot("/.info/"+e),r=Dn(t);n.infoData_.updateSnapshot(i,r);const o=Gm(n.infoSyncTree_,i,r);eo(n.eventQueue_,i,o)}function Qw(n){return n.nextWriteId_++}function Hh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ai(t,...e)}function jN(n,e,t){return Hw(n.serverSyncTree_,e,t)||qe.EMPTY_NODE}function Yw(n,e=n.transactionQueueTree_){if(e||Xw(n,e),iu(e)){const t=kQ(n,e);se(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function gke(n,e,t){const i=t.map(l=>l.currentWriteId),r=jN(n,e,i);let o=r;const s=r.hash();for(let l=0;l<t.length;l++){const u=t[l];se(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Cr(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{Hh(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Dc(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Xw(n,Gw(n.transactionQueueTree_,e)),Yw(n,n.transactionQueueTree_),eo(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Rh(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{lr("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}$h(n,e)}},s)}(n,Km(e),t)}else _Q(e)&&qw(e,t=>{Yw(n,t)})}function $h(n,e){const t=AQ(n,e),i=Km(t);return function mke(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Cr(t,c.path);let d,u=!1;if(se(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,r=r.concat(Dc(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=nke)u=!0,d="maxretry",r=r.concat(Dc(n.serverSyncTree_,c.currentWriteId,!0));else{const h=jN(n,c.path,s);c.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Ym("transaction failed: Data returned ",f,c.path);let y=Dn(f);"object"==typeof f&&null!=f&&ms(f,".priority")||(y=y.updatePriority(h.getPriority()));const I=c.currentWriteId,k=Zm(n),D=kN(y,h,k);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=D,c.currentWriteId=Qw(n),s.splice(s.indexOf(I),1),r=r.concat(EN(n.serverSyncTree_,c.path,D,c.currentWriteId,c.applyLocally)),r=r.concat(Dc(n.serverSyncTree_,I,!0))}else u=!0,d="nodata",r=r.concat(Dc(n.serverSyncTree_,c.currentWriteId,!0))}eo(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Xw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Rh(i[a]);Yw(n,n.transactionQueueTree_)}(n,kQ(n,t),i),i}function AQ(n,e){let t,i=n.transactionQueueTree_;for(t=nt(e);null!==t&&void 0===iu(i);)i=Gw(i,t),t=nt(e=qt(e));return i}function kQ(n,e){const t=[];return OQ(n,e,t),t.sort((i,r)=>i.order-r.order),t}function OQ(n,e,t){const i=iu(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);qw(e,r=>{OQ(n,r,t)})}function Xw(n,e){const t=iu(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,RN(e,t.length>0?t:void 0)}qw(e,i=>{Xw(n,i)})}function $N(n,e){const t=iu(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(se(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(se(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Dc(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?RN(e,void 0):t.length=o+1,eo(n.eventQueue_,Km(e),r);for(let s=0;s<i.length;s++)Rh(i[s])}}const GN=function(n,e){const t=yke(n),i=t.namespace;return"firebase.com"===t.domain&&As(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&As("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&lr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new GR(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ot(t.pathString)}},yke=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function _ke(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function bke(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):lr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),t=e.substring(y+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};class to{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return it(this._path)?null:XR(this._path)}get ref(){return new Go(this._repo,this._path)}get _queryIdentifier(){const e=UK(this._queryParams),t=HR(e);return"{}"===t?"default":t}get _queryObject(){return UK(this._queryParams)}isEqual(e){if(!((e=Gt(e))instanceof to))return!1;const t=this._repo===e._repo,i=ZR(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function dSe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Go extends to{constructor(e,t){super(e,t,new sN,!1)}get parent(){const e=DK(this._path);return null===e?null:new Go(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function IAe(n){se(!Bw,"__referenceConstructor has already been defined"),Bw=n})(Go),function AAe(n){se(!zw,"__referenceConstructor has already been defined"),zw=n}(Go);const WN={};class Bke{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function rke(n,e,t){if(n.stats_=KR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Aw(n.repoInfo_,(i,r,o,s)=>{TQ(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>MQ(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vi(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Jl(n.repoInfo_,e,(i,r,o,s)=>{TQ(n,i,r,o,s)},i=>{MQ(n,i)},i=>{!function oke(n,e){ki(e,(t,i)=>{BN(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function HDe(n,e){const t=n.toString();return WR[t]||(WR[t]=e()),WR[t]}(n.repoInfo_,()=>new HSe(n.stats_,n.server_)),n.infoData_=new VSe,n.infoSyncTree_=new uQ({startListening:(i,r,o,s)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=Gm(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),BN(n,"connected",!1),n.serverSyncTree_=new uQ({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{const l=s(a,c);eo(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Go(this._repo,It())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Fke(n,e){const t=WN[e];(!t||t[n.key]!==n)&&As(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function SQ(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&As("Cannot call "+e+" on a deleted database.")}}function Uke(n=$p(),e){const t=Ka(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=qT("database");i&&function zke(n,e,t,i={}){(n=Gt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&As("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&As('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Pm(Pm.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:u9(i.mockUserToken,n.app.options.projectId);o=new Pm(s)}!function Rke(n,e,t,i){n.repoInfo_=new GR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}Jl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Jl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function jke(n){(function TDe(n){UR=n})(Qa),Bi(new vi("database",(e,{instanceIdentifier:t})=>function Nke(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||As("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ai("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=GN(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=GN(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const u=r&&c?new Pm(Pm.OWNER):new UDe(n.name,n.options,e);wQ("Invalid Firebase Database URL",s),it(s.path)||As("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Lke(n,e,t,i){let r=WN[e.name];r||(r={},WN[e.name]=r);let o=r[n.toURLString()];return o&&As("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ike(n,!1,t,i),r[n.toURLString()]=o,o}(a,n,u,new BDe(n.name,t));return new Bke(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),jt($W,"0.14.4",n),jt($W,"0.14.4","esm2017")}();class KN{constructor(e){return e}}const zQ="database",QN=new X("angularfire2.database-instances");function Wke(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new KN(i)}}const Kke={provide:class Gke{constructor(){return Yp(zQ)}},deps:[[new Jt,QN]]},Qke={provide:KN,useFactory:function qke(n,e){const t=Qp(zQ,n,e);return t&&new KN(t)},deps:[[new Jt,QN],Xa]};let Yke=(()=>{class n{constructor(){jt("angularfire",zd.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Je({type:n}),n.\u0275inj=Ze({providers:[Qke,Kke]}),n})();function Xke(n,...e){return{ngModule:Yke,providers:[{provide:QN,useFactory:Wke(n),multi:!0,deps:[Me,Ht,Xp,Zp,[new Jt,qv],[new Jt,tg],...e]}]}}const Zke=xi(Uke,!0),XN="functions";class iOe{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return m(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return m(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return m(function*(){if(t.appCheck){const i=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var t=this;return m(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const ZN="us-central1";class oOe{constructor(e,t,i,r,o=ZN,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new iOe(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=ZN}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const GQ="@firebase/functions";function gOe(n=$p(),e=ZN){const i=Ka(Gt(n),XN).getImmediate({identifier:e}),r=qT("functions");return r&&function mOe(n,e,t){!function sOe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(Gt(n),e,t)}(i,...r),i}!function pOe(n,e){Bi(new vi(XN,(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("messaging-internal"),c=i.getProvider("app-check-internal");return new oOe(o,s,a,c,r,n)},"PUBLIC").setMultipleInstances(!0)),jt(GQ,"0.10.0",e),jt(GQ,"0.10.0","esm2017")}(fetch.bind(self));class t2{constructor(e){return e}}const WQ="functions",n2=new X("angularfire2.functions-instances");function yOe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new t2(i)}}const vOe={provide:class _Oe{constructor(){return Yp(WQ)}},deps:[[new Jt,n2]]},wOe={provide:t2,useFactory:function bOe(n,e){const t=Qp(WQ,n,e);return t&&new t2(t)},deps:[[new Jt,n2],Xa]};let xOe=(()=>{class n{constructor(){jt("angularfire",zd.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Je({type:n}),n.\u0275inj=Ze({providers:[wOe,vOe]}),n})();function COe(n,...e){return{ngModule:xOe,providers:[{provide:n2,useFactory:yOe(n),multi:!0,deps:[Me,Ht,Xp,Zp,[new Jt,qv],[new Jt,tg],...e]}]}}const EOe=xi(gOe,!0);function IOe(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td",5),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",8),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().Unidades(o.name))}),p(),g(11,"button",9),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoProject(o.name))}),p(),g(12,"button",10),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().editProyecto(o.name))}),p()()()}if(2&n){const t=e.$implicit;L(2),Be(t.name),L(2),Be(t.owner),L(2),Be(t.integrantes),L(2),Be(t.cliente)}}let TOe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.MyQuery()}getData(){const t=Vo();ws(t,r=>{r&&r.email&&(this.email=r.email)});const i=_e(this.firestore,"projects");de(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=we(this.firestore,"projects",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"projects",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}infoProject(t){this.router.navigate(["user/project-info/"+t])}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Unidades(t){this.router.navigate(["user/unidad-produccion/"+t])}Muestras(t){this.router.navigate(["user/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return m(function*(){const i=Vo();let r;r="",console.log(i),ws(i,function(){var o=m(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Lt(_e(t.firestore,"projects"),Vt("owner","==",r));de(a).then(c=>{t.data=[...c.docs.map(l=>({...l.data(),id:l.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-projects"]],decls:23,vars:1,consts:[[1,"center"],[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"integrantes"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"projects works!"),p(),g(2,"div",0)(3,"h1",1),v(4,"Proyectos"),p(),g(5,"div",2)(6,"div",3),Q("click",function(){return r.Scan()}),v(7,"SCAN"),p()(),g(8,"div",4)(9,"table")(10,"tr")(11,"th"),v(12," Nombre "),p(),g(13,"th"),v(14," Due\xf1o "),p(),g(15,"th",5),v(16," Integrantes"),p(),g(17,"th"),v(18," Clientes "),p(),W(19,"th"),p(),Hn(20,IOe,13,4,"tr",6),p(),g(21,"button",7),Q("click",function(){return r.newProject()}),v(22," Agregar "),p()()()),2&i&&(L(20),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".center[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%]{position:absolute;margin:10px;left:15%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:45%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:40%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;text-shadow:2px 2px 5px black;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}@media only screen and (min-width: 1536px){.center[_ngcontent-%COMP%]{display:block;width:1200px;position:absolute;left:50%;top:50%;transform:translate(-50%,-60%)}.scanbutton[_ngcontent-%COMP%]{position:relative;width:153px;height:36px;left:49%;top:22%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:relative;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:relative;margin:0;width:400px;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:500px;top:0%}.list[_ngcontent-%COMP%]{position:relative;width:1000px;margin:10px;left:200px;top:100px}}"]})}}return n})();function MOe(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoMuestra(o.codigo))}),g(11,"div",6),v(12,"Informaci\xf3n"),p()(),g(13,"button",7),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().editMuestra(o.codigo))}),g(14,"div",8),v(15,"Editar"),p()(),g(16,"button",9),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().Barcode(o.codigo))}),g(17,"div",10),v(18,"Imprimir"),p()()()()}if(2&n){const t=e.$implicit;L(2),Be(t.codigo),L(2),Be(t.fecha),L(2),Be(t.cultivo),L(2),Be(t.coordenadas)}}let DOe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.up=t.up,console.log(t)}),this.MyQuery()}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"muestras",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"muestras",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["user/muestras-new/"+t])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}backPage(){this.location.back()}MyQuery(){var t=this;return m(function*(){let i=t.up;const r=Lt(_e(t.firestore,"muestras"),Vt("unidad","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras works!"),p(),g(2,"h1",0),v(3,"Muestras"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Codigo "),p(),g(9,"th"),v(10," Fecha "),p(),g(11,"th"),v(12," Cultivo"),p(),g(13,"th"),v(14," Coordenadas "),p(),W(15,"th"),p(),Hn(16,MOe,19,4,"tr",2),p(),g(17,"button",3),Q("click",function(){return r.newMuestra(r.up)}),v(18," Agregar "),p(),g(19,"button",4),Q("click",function(){return r.backPage()}),p()()),2&i&&(L(16),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:30%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:45%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:35%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;width:30px;height:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})(),SOe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var r=t;this.res=r,vw("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}toPrint(t){window.open("#/print/"+this.res+"/"+t,"_blank")}sleep(t){return m(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"barcode works!"),p(),D_(),W(2,"svg",0),pC(),g(3,"form",1,2),Q("ngSubmit",function(){Ae(o);const a=ln(4);return ke(r.handleRegister(a.value))}),g(5,"div",3)(6,"div",4)(7,"span",5),v(8,"Cantidad: "),p(),g(9,"input",6),ot("ngModelChange",function(a){return ut(r.num,a)||(r.num=a),a}),p()(),g(10,"button",7),v(11,"Imprimir"),p()()(),g(12,"button",8),Q("click",function(){return r.backPage()}),p()}2&i&&(L(9),rt("ngModel",r.num))},dependencies:[Pn,Li,sT,yr,On,fT,hT,ir,wn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();const AOe=["div"];let kOe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.renderer=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}handleRegister(t){this.addData(t)}addData(t){var i=this;return m(function*(){i.randomCode();let s=t.integrantes.split(/[\s,]+/);const a=we(i.firestore,"projects",t.name);Wi(a,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(c=>{alert(c.message)})})()}getData(){const t=_e(this.firestore,"projects");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Xe),E(Oo))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-project-new"]],viewQuery:function(i,r){if(1&i&&kn(AOe,5),2&i){let o;bn(o=yn())&&(r.div=o.first)}},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"project-new works!"),p(),g(2,"h1",0),v(3,"Nuevo Proyecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Name:"),p(),W(11,"input",7),p(),g(12,"div",5)(13,"span",6),v(14,"Owner:"),p(),W(15,"input",8),p(),g(16,"div",5)(17,"span",6),v(18,"Integrantes:"),p(),W(19,"input",9),p(),g(20,"div",5)(21,"span",6),v(22,"Cliente:"),p(),W(23,"input",10),p(),g(24,"button",11),v(25,"Crear Proyecto"),p()()()()}},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1000px;height:400px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();const OOe=["geo"];let POe=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t),this.Home()}addData(t){const i=we(this.firestore,"muestras",t.codigo);console.log(t),Wi(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,unidad:this.pid,lote:t.lote}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)})}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Home(){this.router.navigate(["user/unidad-produccion-all"])}showPosition(t){n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras-new"]],viewQuery:function(i,r){if(1&i&&kn(OOe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:65,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field"],[1,"boton"],[1,"blank"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"muestras-new works!"),p(),g(2,"h1",0),v(3,"Nueva Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),W(11,"input",7),p(),g(12,"div",5)(13,"span",6),v(14,"Cliente:"),p(),W(15,"input",8),p(),g(16,"div",5)(17,"span",6),v(18,"Fecha:"),p(),W(19,"input",9),p(),g(20,"div",5)(21,"span",6),v(22,"Cultivo:"),p(),W(23,"input",10),p(),g(24,"div",5)(25,"span",6),v(26,"Tipo:"),p(),W(27,"input",11),g(28,"datalist",12),W(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),v(34,"Fitopat\xf3geno:"),p(),W(35,"input",16),g(36,"datalist",17),W(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),v(42,"Lote:"),p(),W(43,"input",21),p(),g(44,"div",5)(45,"span",6),v(46,"Repetici\xf3n:"),p(),W(47,"input",22),p(),g(48,"div",5)(49,"span",6),v(50,"Coordenadas:"),p(),g(51,"input",23),ot("ngModelChange",function(a){return ut(r.res,a)||(r.res=a),a}),p(),g(52,"div",24),Q("click",function(){return r.getLocation()}),W(53,"img",25),p()(),g(54,"div",5)(55,"span",6),v(56,"S\xedntomas:"),p(),W(57,"input",26),p(),g(58,"div",5)(59,"span",6),v(60,"Comentarios:"),p(),W(61,"input",27),p(),g(62,"button",28),v(63,"Crear Muestra"),p()()(),W(64,"div",29),p()}2&i&&(L(51),rt("ngModel",r.res))},dependencies:[Pn,xp,Cp,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:65%;flex-shrink:0;position:absolute;left:50%;top:25%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;position:relative;left:0}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:143px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:68%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();class yo extends vt{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:i,_value:r,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(i&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,e&&super.next(t),super.complete())}}const ROe=["video"],NOe=["canvas"],FOe=["resultsPanel"],r2="assets/wasm/index.js",t_="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",KQ={audio:!1,video:!0},o2={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},s2={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},_a={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:KQ,canvasStyles:[o2,s2]};var nx=()=>"zbarWasm"in window;const Tt=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},a2=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(i=>{})}},QQ=(n,e,t,i)=>{let r,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=l/u;t.innerHTML="",c>d?(r=l/s,o=l/c/a):(o=u/a,r=u*c/s);for(let h=0;h<n.length;h++){const f=n[h];let y=document.createElement("canvas"),C=y.getContext("2d",{willReadFrequently:!0}),I={},k=[],D=[],B=0,Y=0,oe=2===i.length&&i[1]?.font?.replace(/[^0-9]/g,"");oe&&/[0-9]/g.test(oe)&&(B=parseFloat(oe),Y=(r||1)*B,Number.isNaN(Y)&&(Y=B));const he=f.points;for(let Bt=0;Bt<he.length;Bt++){const fu=he?.[Bt]?.x??0,pu=he?.[Bt]?.y??0;I[`x${Bt+1}`]=fu,I[`y${Bt+1}`]=pu,k.push(fu),D.push(pu)}let $e=Math.max(...k),pt=Math.min(...k),si=Math.max(...D),Qi=Math.min(...D);y.setAttribute("class","qrcode-polygon"),c>d?(y.style.top=Qi*o+.5*(u-l/c)+"px",y.style.left=pt*r+"px",y.width=($e-pt)*r,y.height=(si-Qi)*r):(y.style.top=Qi*o+"px",y.style.left=pt*r+.5*(l-u*c)+"px",y.width=($e-pt)*o,y.height=(si-Qi)*o);for(const Bt in i[0])C[Bt]=i[0][Bt];const Jh=[];for(let Bt=0;Bt<k.length;Bt++)Jh.push((I[`x${Bt+1}`]-pt)*o),Jh.push((I[`y${Bt+1}`]-Qi)*r);const ro=Jh.slice(0);for(C.beginPath(),C.moveTo(ro.shift(),ro.shift());ro.length;)C.lineTo(ro.shift(),ro.shift());if(C.closePath(),C.fill(),C.stroke(),B){const Bt=document.createElement("div");Bt.setAttribute("class","qrcode-tooltip-temp"),Bt.innerText=f.value,Bt.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",Bt.style.borderRadius=`clamp(1px, ${r*B-10}px, 3px)`,Bt.style.paddingBlock=`clamp(1px, ${r*B-10}px, 3px)`,Bt.style.paddingInline=`clamp(2.5px, ${r*B-6}px, 10px)`;const fu=`<svg xmlns="http://www.w3.org/2000/svg" width="${Y}" height="${Y}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,pu=(new DOMParser).parseFromString(fu,"application/xml"),ge=Bt.ownerDocument.importNode(pu.documentElement,!0);ge.style.marginLeft=`clamp(1px, ${r*B-10}px, 3px)`,Bt.appendChild(ge),ge.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value)),Bt.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value));const be=document.createElement("div");be.setAttribute("class","qrcode-tooltip"),be.appendChild(Bt),o=u/a,r=u*c/s,be.style.fontSize=r*B+"px",be.style.top=Qi*o+"px",be.style.left=pt*r+.5*(l-u*c)+"px",be.style.width=($e-pt)*o+"px",be.style.height=(si-Qi)*o+"px";const Ee=document.createElement("span");Ee.innerText=f.value,Ee.style.top=Qi*o+-20*o+"px",Ee.style.left=pt*r+.5*(l-u*c)+"px";const bt=i[1]?.font?.split(" ")?.[1];Ee.style.fontFamily=bt,Ee.style.fontSize=r*B+"px",Ee.style.color=i?.[1]?.fillStyle,t?.appendChild(be),t?.appendChild(Ee)}t?.appendChild(y)}},YQ=(n,e)=>new Promise((t,i)=>n.toBlob(r=>t(r),e)),XQ=(n=[],e,t,i,r=new yo)=>(ZQ(n,t,i).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??_a.decode,i=2===e?.canvasStyles?.length?e?.canvasStyles:[o2,s2],r=e?.isBeep??_a.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:n.name,file:n,url:URL.createObjectURL(n)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=m(function*(){const u=document.createElement("canvas");u.width=l.naturalWidth||l.width,u.height=l.naturalHeight||l.height;const d=u.getContext("2d");d.drawImage(l,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(nx()){const f=yield zbarWasm.scanImageData(h);if(f?.length){f.forEach(k=>k.value=k.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let i=e.getContext("2d",{willReadFrequently:!0});for(let r=0;r<n.length;r++){const o=n[r];let s={},a=[],c=[],l=0,d=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(l=parseFloat(d));const h=o.points;for(let D=0;D<h.length;D++){const B=h?.[D]?.x??0,Y=h?.[D]?.y??0;s[`x${D+1}`]=B,s[`y${D+1}`]=Y,a.push(B),c.push(Y)}let f=Math.min(...a),y=Math.min(...c);const C=()=>{for(const Y in t[0])i[Y]=t[0][Y];const D=[];for(let Y=0;Y<a.length;Y++)D.push(s[`x${Y+1}`]),D.push(s[`y${Y+1}`]);const B=D.slice(0);for(i.beginPath(),i.moveTo(B.shift(),B.shift());B.length;)i.lineTo(B.shift(),B.shift());i.closePath(),i.fill(),i.stroke()};let I=document.createElement("canvas");const k=()=>{const D=t[1]?.font?.split(" ")?.[1];I.height=e.height,I.width=e.width;let B=I.getContext("2d",{willReadFrequently:!0});B.font=l+"px "+D;for(const Y in t[1])B[Y]=t[1][Y];HOe(B,o.value,f,y-5)};C(),k(),i.drawImage(I,0,0)}})(f,u,i);const y=yield YQ(u),C=URL.createObjectURL(y);o(Object.assign({},c,{data:f,url:C,canvas:u,file:(k=y,D=c.name,new File([k],D,{lastModified:(new Date).getTime(),type:k.type}))})),a2(r)}else o(Object.assign({},c,{data:f,canvas:u}))}var k,D}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(n)})})(s,e))).then(s=>{Tt(r,s)}).catch(s=>Tt(r,null,s))}),r),HOe=(n,e,t,i)=>{let r=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,i),n.strokeText(o[s],t,i),i+=r},ZQ=function(){var n=m(function*(e=[],t=.5,i="image/jpeg"){if(!e.length||1===t)return e;const r=function(){var s=m(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const d=yield new Promise(h=>l.toBlob(h,i,t));return new File([d],a.name,{type:d.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield m(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield r(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),JQ=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},c2=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},eY=(n=300)=>{n&&GOe()&&window?.navigator?.vibrate(n)},GOe=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let tY=(()=>{class n{loadFiles(t=[],i,r){const o=new yo;return ZQ(t,i,r).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>Tt(o,a)).catch(a=>Tt(o,null,a))}),o}loadFilesToScan(t=[],i,r,o){return XQ(t,i,r,o)}readAsDataURL(t){return new Promise((i,r)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};i(s)},o.onerror=s=>r(s),o.readAsDataURL(t)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WOe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i,this.event=new We,this.src=_a.src,this.fps=_a.fps,this.vibrate=_a.vibrate,this.decode=_a.decode,this.isBeep=_a.isBeep,this.config=_a,this.constraints=_a.constraints,this.canvasStyles=[o2,s2],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new hr([]),this.devices=new hr([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new yo,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),((n=new yo,e)=>{let t=0;const i=(r=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),nx()?setTimeout(()=>Tt(n,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${t_}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${r2}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",r?t_:r2),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Tt(n,!1,t_)},t+=1}else{const l=document.createElement("script");l.setAttribute("src",r?t_:r2),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Tt(n,!1,t_)},t+=1}}};return i(),n})(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const i=new yo;return this.isStart?Tt(i,!1):this.safariWebRTC(i,t),i}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new yo;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(i=>{i.stop(),Tt(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),JQ(this.resultsPanel.nativeElement)}catch(i){Tt(t,!1,i)}return t}play(){const t=new yo;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),Tt(t,!0)):Tt(t,!1),t}pause(){const t=new yo;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),Tt(t,!0)):Tt(t,!1),t}playDevice(t,i=new yo){const r=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),Tt(i,!1);break;case t&&(!this.isStart||!r||r.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),Tt(i,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),Tt(i,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:Tt(i,!1),this.STATUS.loadingOFF()}return i}loadImage(t){const i=new yo;this.STATUS.startOFF(),this.STATUS.loadingON();const r=new Image;return r.setAttribute("crossOrigin","anonymous"),r.onload=()=>{nx()&&this.drawImage(r,o=>{Tt(i,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},r.src=t,i}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,i=0){var r=this;const o=new yo;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===i&&void 0===i&&Number.isNaN(i))Tt(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[i];new window.ImageCapture(a).getPhotoCapabilities().then(m(function*(){yield a.applyConstraints(t),c2(r.video.nativeElement,r.canvas.nativeElement),Tt(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":Tt(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":Tt(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":Tt(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":Tt(o,!1,"Permission denied in browser");break;case"TypeError":Tt(o,!1,"Empty constraints object");break;default:Tt(o,!1,l)}})}}else Tt(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,i,r){var o=this;const s=new yo;return m(function*(){const c=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield YQ(o.canvas.nativeElement),t);XQ([c],o.config,i,r,s).subscribe(l=>{l.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{QQ(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),c2(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const i in t){const r=JSON.parse(JSON.stringify({...e[n],[i]:t[i]}));e[n]=e[n].hasOwnProperty(i)?e[n]:r}return e[n]}return t})("constraints",this.config,KQ)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,i){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(r=>{r.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,i)}).catch(r=>{Tt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,i){navigator.mediaDevices.enumerateDevices().then(r=>{let o=r.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(Tt(t,o),i?i(o):this.playDevice(o[0].deviceId)):(Tt(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(r=>{Tt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,i=(()=>{})){var r=this;return m(function*(){const o=r.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",r.video.nativeElement.style.visibility="hidden",r.renderer.setStyle(r.elementRef.nativeElement,"width",o.width+"px"),r.renderer.setStyle(r.elementRef.nativeElement,"maxWidth","100%"),r.renderer.setStyle(r.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",r.canvas.nativeElement.style.visibility="hidden"),c2(r.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(u=>u.value=u.decode(r.decode?.toLocaleLowerCase())),QQ(c,Object.freeze(r.canvas.nativeElement),r.resultsPanel.nativeElement,r.canvasStyles);const l=()=>{r.eventEmit(c),r.dataForResize=c};t instanceof HTMLImageElement&&(i(!0),l(),eY(r.vibrate),a2(r.isBeep)),t instanceof HTMLVideoElement&&(l(),eY(r.vibrate),a2(r.isBeep))}else i(!1),JQ(r.resultsPanel.nativeElement),r.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,nx()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static{this.\u0275fac=function(i){return new(i||n)(E(Oo),E(cn))}}static{this.\u0275cmp=Ce({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(i,r){if(1&i&&(kn(ROe,5),kn(NOe,5),kn(FOe,5)),2&i){let o;bn(o=yn())&&(r.video=o.first),bn(o=yn())&&(r.canvas=o.first),bn(o=yn())&&(r.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(i,r){1&i&&W(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}}return n})(),ix=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[tY]})}}return n})();const XOe=["action"];function ZOe(n,e){1&n&&(g(0,"p"),v(1,"\u231b Loading..."),p())}let JOe=(()=>{class n{constructor(t,i,r,o,s){this.qrcode=t,this.router=i,this.route=r,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,i){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,i){"start"===i?t[i](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(i,o),alert):t[i]().subscribe(o=>console.log(i,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(i=>{this.qrCodeResult=i})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(i=>{console.log(i),this.qrCodeResult2=i})}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}MyQuery(){var t=this;return m(function*(){let i=t.item;console.log(i);const r=Lt(_e(t.firestore,"muestras"),Vt("codigo","==",i));de(r).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+i]))})})()}static{this.\u0275fac=function(i){return new(i||n)(E(tY),E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-scan"]],viewQuery:function(i,r){if(1&i&&kn(XOe,5),2&i){let o;bn(o=yn())&&(r.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(i,r){if(1&i){const o=ht();g(0,"div",0)(1,"ngx-scanner-qrcode",1,2),Q("event",function(a){Ae(o);const c=ln(2);return ke(r.onEvent(a,c))}),p(),Hn(3,ZOe,2,0,"p",3),g(4,"button",4),Q("click",function(){Ae(o);const a=ln(2);return ke(r.handle(a,a.isStart?"stop":"start"))}),W(5,"img",5),p()()}if(2&i){const o=ln(2);L(),qn("config",r.config),L(2),qn("ngIf",o.isLoading),L(),uo("btn-info",!o.isStart)("btn-warning",o.isStart),qn("disabled",o.isLoading),L(),qn("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",dE)}},dependencies:[EI,WOe],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:55%;width:55%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:85%;position:absolute;left:15%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:28%;width:100%;position:absolute;left:0%}}@media only screen and (min-width: 1536px){.screen[_ngcontent-%COMP%]{display:block;height:40%;width:40%;margin-left:auto;margin-right:auto}}"]})}}return n})();const ePe=["geo"];let tPe=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.datePipe=a,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return m(function*(){console.log(t);const r=we(i.firestore,"muestras",t.codigo);t.fecha=i.datePipe.transform(t.fecha,"dd/MM/yyyy"),Ki(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,lote:t.lote}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.x;const r=Lt(_e(t.firestore,"muestras"),Vt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Muestra?")){const o=we(this.firestore,"muestras",this.x);pn(o).then(()=>{alert("Data Deleted"),this.Home()}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi),E(MI))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(i,r){if(1&i&&kn(ePe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:67,vars:11,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"muestras-edit works!"),p(),g(2,"h1",0),v(3,"Editar Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.codigo,a)||(r.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Cliente:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Fecha:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.item.fecha,a)||(r.item.fecha=a),a}),p()(),g(20,"div",5)(21,"span",6),v(22,"Cultivo:"),p(),g(23,"input",10),ot("ngModelChange",function(a){return ut(r.item.cultivo,a)||(r.item.cultivo=a),a}),p()(),g(24,"div",5)(25,"span",6),v(26,"Tipo:"),p(),g(27,"input",11),ot("ngModelChange",function(a){return ut(r.item.tipo,a)||(r.item.tipo=a),a}),p(),g(28,"datalist",12),W(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),v(34,"Fitopat\xf3geno:"),p(),g(35,"input",16),ot("ngModelChange",function(a){return ut(r.item.fitopatogeno,a)||(r.item.fitopatogeno=a),a}),p(),g(36,"datalist",17),W(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),v(42,"Lote:"),p(),g(43,"input",21),ot("ngModelChange",function(a){return ut(r.item.lote,a)||(r.item.lote=a),a}),p()(),g(44,"div",5)(45,"span",6),v(46,"Repetici\xf3n:"),p(),g(47,"input",22),ot("ngModelChange",function(a){return ut(r.item.repeticion,a)||(r.item.repeticion=a),a}),p()(),g(48,"div",5)(49,"span",6),v(50,"Coordenadas:"),p(),g(51,"input",23),ot("ngModelChange",function(a){return ut(r.res,a)||(r.res=a),a}),p(),g(52,"div",24),Q("click",function(){return r.getLocation()}),W(53,"img",25),p()(),g(54,"div",5)(55,"span",6),v(56,"S\xedntomas:"),p(),g(57,"input",26),ot("ngModelChange",function(a){return ut(r.item.sintomas,a)||(r.item.sintomas=a),a}),p()(),g(58,"div",5)(59,"span",6),v(60,"Comentarios:"),p(),g(61,"input",27),ot("ngModelChange",function(a){return ut(r.item.comentarios,a)||(r.item.comentarios=a),a}),p()(),g(62,"button",28),v(63,"Editar Muestra"),p(),g(64,"button",29),Q("click",function(){return r.deleteData(r.item.id)}),v(65," Eliminar "),p()(),W(66,"div",30),p()()}2&i&&(L(11),rt("ngModel",r.item.codigo),L(4),rt("ngModel",r.item.cliente),L(4),rt("ngModel",r.item.fecha),L(4),rt("ngModel",r.item.cultivo),L(4),rt("ngModel",r.item.tipo),L(8),rt("ngModel",r.item.fitopatogeno),L(8),rt("ngModel",r.item.lote),L(4),rt("ngModel",r.item.repeticion),L(4),rt("ngModel",r.res),L(6),rt("ngModel",r.item.sintomas),L(4),rt("ngModel",r.item.comentarios))},dependencies:[Pn,xp,Cp,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;padding-top:2px;width:65%;height:65%;flex-shrink:0;position:absolute;left:50%;top:24%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;padding-top:7px;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:39%;top:16%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:75%;flex-shrink:0;position:absolute;left:2.5%;top:35%;transform:none;padding-bottom:20px}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}}return n})();const nPe=["geo"];let iPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=we(this.firestore,"muestras",t.codigo);Wi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.text;const r=Lt(_e(t.firestore,"muestras"),Vt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const i=we(this.firestore,"users",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&kn(nPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"muestras-info works!"),p(),g(2,"h1",0),v(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Cliente:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Fecha:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Cultivo:"),p(),g(26,"span",7),v(27),p()(),g(28,"div",5)(29,"span",6),v(30,"Tipo:"),p(),g(31,"span",7),v(32),p()(),g(33,"div",5)(34,"span",6),v(35,"Fitopat\xf3geno:"),p(),g(36,"span",7),v(37),p()(),g(38,"div",5)(39,"span",6),v(40,"Lote:"),p(),g(41,"span",7),v(42),p()(),g(43,"div",5)(44,"span",6),v(45,"Repetici\xf3n:"),p(),g(46,"span",7),v(47),p()(),g(48,"div",5)(49,"span",6),v(50,"S\xedntomas:"),p(),g(51,"span",7),v(52),p()(),g(53,"div",5)(54,"span",6),v(55,"Comentarios:"),p(),g(56,"span",7),v(57),p()()()()(),g(58,"button",8),Q("click",function(){return r.editMuestra()}),v(59,"Editar Muestra"),p()}2&i&&(L(12),De(" ",r.item.codigo,""),L(5),De(" ",r.item.cliente,""),L(5),De(" ",r.item.fecha,""),L(5),De(" ",r.item.cultivo,""),L(5),De(" ",r.item.tipo,""),L(5),De(" ",r.item.fitopatogeno,""),L(5),De(" ",r.item.lote,""),L(5),De(" ",r.item.repeticion,""),L(5),De(" ",r.item.sintomas,""),L(5),De(" ",r.item.comentarios,""))},dependencies:[Pn,On,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:57%;flex-shrink:0;position:absolute;left:50%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:37%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}}return n})();const rPe=["geo"];let oPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=we(this.firestore,"projects",this.pid);Wi(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"projects");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.text;const r=Lt(_e(t.firestore,"projects"),Vt("name","==",i));(yield de(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=we(this.firestore,"projects",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-project-edit"]],viewQuery:function(i,r){if(1&i&&kn(rPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"project-edit works!"),p(),g(2,"h1",0),v(3,"Editar Projecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.name,a)||(r.item.name=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Owner:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.owner,a)||(r.item.owner=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Integrantes:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.item.integrantes,a)||(r.item.integrantes=a),a}),p()(),g(20,"div",5)(21,"span",6),v(22,"Cliente:"),p(),g(23,"input",10),ot("ngModelChange",function(a){return ut(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(24,"button",11),v(25,"Editar Projecto"),p(),g(26,"button",12),Q("click",function(){return r.deleteData(r.pid)}),v(27," Delete "),p()()()()}2&i&&(L(11),rt("ngModel",r.item.name),L(4),rt("ngModel",r.item.owner),L(4),rt("ngModel",r.item.integrantes),L(4),rt("ngModel",r.item.cliente))},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:280px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();function sPe(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoMuestra(o.codigo))}),g(11,"div",4),v(12,"Informaci\xf3n"),p()(),g(13,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().editMuestra(o.codigo))}),g(14,"div",6),v(15,"Editar"),p()(),g(16,"button",7),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().Barcode(o.codigo))}),g(17,"div",8),v(18,"Imprimir"),p()()()()}if(2&n){const t=e.$implicit;L(2),Be(t.codigo),L(2),Be(t.fecha),L(2),Be(t.cultivo),L(2),Be(t.coordenadas)}}let aPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"muestras",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"muestras",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return m(function*(){let i=t.item;t.pid=i,console.log(i);const r=Lt(_e(t.firestore,"muestras"),Vt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(g(0,"h1",0),v(1,"Muestras"),p(),g(2,"div",1)(3,"table")(4,"tr")(5,"th"),v(6," Codigo "),p(),g(7,"th"),v(8," Fecha "),p(),g(9,"th"),v(10," Cultivo"),p(),g(11,"th"),v(12," Coordenadas "),p(),W(13,"th"),p(),Hn(14,sPe,19,4,"tr",2),p()()),2&i&&(L(14),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-40%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:48%;text-overflow:ellipsis;transform:none}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const cPe=["geo"];let lPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=we(this.firestore,"projects",this.pid);Wi(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"projects");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.text;const r=Lt(_e(t.firestore,"projects"),Vt("name","==",i));(yield de(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=we(this.firestore,"projects",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}editProyecto(){this.router.navigate(["user/project-edit/"+this.text])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-project-info"]],viewQuery:function(i,r){if(1&i&&kn(cPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"project-info works!"),p(),g(2,"h1",0),v(3,"Datos del Projecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Owner:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Integrantes:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Cliente:"),p(),g(26,"span",7),v(27),p()()()()(),g(28,"button",8),Q("click",function(){return r.editProyecto()}),v(29,"Editar Proyecto"),p()}2&i&&(L(12),De(" ",r.item.name,""),L(5),De(" ",r.item.owner,""),L(5),De(" ",r.item.integrantes,""),L(5),De(" ",r.item.cliente,""))},dependencies:[Pn,On,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:60%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:260px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();function uPe(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",8),Q("click",function(){const o=Ae(t).$implicit,s=kt();return ke(s.Muestras(s.pid,o.codigo))}),p(),g(11,"button",9),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoUnidad(o.codigo))}),p(),g(12,"button",10),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().editUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;L(2),Be(t.codigo),L(2),Be(t.cliente),L(2),Be(t.altitud),L(2),Be(t.coordenadas)}}let dPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=_e(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"unidad-produccion",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"unidad-produccion",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return m(function*(){let i=t.pid;console.log(i);const r=Lt(_e(t.firestore,"unidad-produccion"),Vt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-unidad-produccion"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"unidad-produccion works!"),p(),g(2,"h1",0),v(3,"Unidades "),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return r.Scan()}),v(6,"SCAN"),p()(),g(7,"div",3)(8,"div",4),v(9,"Proyecto"),p(),g(10,"table")(11,"tr")(12,"th"),v(13," Codigo "),p(),g(14,"th"),v(15," Cliente "),p(),g(16,"th"),v(17," Altitud"),p(),g(18,"th"),v(19," Coordenadas "),p(),W(20,"th"),p(),Hn(21,uPe,13,4,"tr",5),p(),g(22,"button",6),Q("click",function(){return r.newUnidad(r.pid)}),v(23," Agregar "),p(),g(24,"button",7),Q("click",function(){return r.backPage()}),p()()),2&i&&(L(21),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const hPe=["geo"];let fPe=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We,this.email=""}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){console.log(t),this.addData(t),this.Home()}addData(t){const i=we(this.firestore,"unidad-produccion",t.codigo),r=Vo();ws(r,o=>{o&&o.email&&(this.email=o.email)}),Wi(i,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(i,r){if(1&i&&kn(hPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:53,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"unidad-produccion-new works!"),p(),g(2,"h1",0),v(3,"Nueva Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),W(11,"input",7),p(),g(12,"div",5)(13,"span",6),v(14,"Cliente:"),p(),W(15,"input",8),p(),g(16,"div",5)(17,"span",6),v(18,"Coordenadas:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.res,a)||(r.res=a),a}),p(),g(20,"div",10),Q("click",function(){return r.getLocation()}),W(21,"img",11),p()(),g(22,"div",5)(23,"span",6),v(24,"Localidad:"),p(),W(25,"input",12),p(),g(26,"div",5)(27,"span",6),v(28,"Municipio:"),p(),W(29,"input",13),p(),g(30,"div",5)(31,"span",6),v(32,"Estado:"),p(),W(33,"input",14),p(),g(34,"div",5)(35,"span",6),v(36,"Altitud:"),p(),W(37,"input",15),p(),g(38,"div",5)(39,"span",6),v(40,"Temperaturas M\xe1ximas:"),p(),W(41,"input",16),p(),g(42,"div",5)(43,"span",6),v(44,"Temperaturas M\xednimas:"),p(),W(45,"input",17),p(),g(46,"div",5)(47,"span",6),v(48,"Precipitaci\xf3n:"),p(),W(49,"input",18),p(),g(50,"button",19),v(51,"Crear Unidad"),p(),g(52,"button",20),Q("click",function(){return r.backPage()}),p()()()()}2&i&&(L(19),rt("ngModel",r.res))},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:70%;height:20px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:19%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:88%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:#d9d9d9;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:60%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:98%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:#d9d9d9;border:none;width:35px;height:35px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1100px;height:550px;flex-shrink:0;position:absolute;left:60%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}}return n})();const pPe=["geo"];let gPe=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return m(function*(){console.log(t);const r=we(i.firestore,"unidad-produccion",t.codigo);Ki(r,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=_e(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.x;const r=Lt(_e(t.firestore,"unidad-produccion"),Vt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas})})()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Unidad de Producci\xf3n?")){const o=we(this.firestore,"unidad-produccion",this.x);pn(o).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion-all"])}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(i,r){if(1&i&&kn(pPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:55,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field",3,"ngModel","ngModelChange"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field",3,"ngModel","ngModelChange"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field",3,"ngModel","ngModelChange"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field",3,"ngModel","ngModelChange"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"unidad-produccion-edit works!"),p(),g(2,"h1",0),v(3,"Editar Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.codigo,a)||(r.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Cliente:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Coordenadas:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.res,a)||(r.res=a),a}),p(),g(20,"div",10),Q("click",function(){return r.getLocation()}),W(21,"img",11),p()(),g(22,"div",5)(23,"span",6),v(24,"Localidad:"),p(),g(25,"input",12),ot("ngModelChange",function(a){return ut(r.item.localidad,a)||(r.item.localidad=a),a}),p()(),g(26,"div",5)(27,"span",6),v(28,"Municipio:"),p(),g(29,"input",13),ot("ngModelChange",function(a){return ut(r.item.municipio,a)||(r.item.municipio=a),a}),p()(),g(30,"div",5)(31,"span",6),v(32,"Estado:"),p(),g(33,"input",14),ot("ngModelChange",function(a){return ut(r.item.estado,a)||(r.item.estado=a),a}),p()(),g(34,"div",5)(35,"span",6),v(36,"Altitud:"),p(),g(37,"input",15),ot("ngModelChange",function(a){return ut(r.item.altitud,a)||(r.item.altitud=a),a}),p()(),g(38,"div",5)(39,"span",6),v(40,"Temperaturas M\xe1ximas:"),p(),g(41,"input",16),ot("ngModelChange",function(a){return ut(r.item.tempmax,a)||(r.item.tempmax=a),a}),p()(),g(42,"div",5)(43,"span",6),v(44,"Temperaturas M\xednimas:"),p(),g(45,"input",17),ot("ngModelChange",function(a){return ut(r.item.tempmin,a)||(r.item.tempmin=a),a}),p()(),g(46,"div",5)(47,"span",6),v(48,"Precipitaci\xf3n:"),p(),g(49,"input",18),ot("ngModelChange",function(a){return ut(r.item.precipitacion,a)||(r.item.precipitacion=a),a}),p()(),g(50,"button",19),v(51,"Editar Unidad"),p(),g(52,"button",20),Q("click",function(){return r.deleteData(r.item.id)}),v(53," Eliminar "),p()(),W(54,"div",21),p()()}2&i&&(L(11),rt("ngModel",r.item.codigo),L(4),rt("ngModel",r.item.cliente),L(4),rt("ngModel",r.res),L(6),rt("ngModel",r.item.localidad),L(4),rt("ngModel",r.item.municipio),L(4),rt("ngModel",r.item.estado),L(4),rt("ngModel",r.item.altitud),L(4),rt("ngModel",r.item.tempmax),L(4),rt("ngModel",r.item.tempmin),L(4),rt("ngModel",r.item.precipitacion))},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:30%;top:25%;transform:translate(0)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:-moz-fit-content;height:fit-content;font-family:Arial;font-size:16px;letter-spacing:0;margin-top:5px;margin-bottom:10px}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:75%;flex-shrink:0;position:absolute;left:2.5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:30%;top:25%;transform:translate(0)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px,15px)}.botonrojo[_ngcontent-%COMP%]{position:absolute;transform:translateY(15px)}}"]})}}return n})();const mPe=["geo"];let _Pe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=we(this.firestore,"unidad-produccion",t.codigo);Wi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.text;const r=Lt(_e(t.firestore,"unidad-produccion"),Vt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=we(this.firestore,"users",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&kn(mPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:61,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),v(3,"Datos de la Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Nombre:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Cliente:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Coordenadas:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Localidad:"),p(),g(26,"span",7),v(27),p()(),g(28,"div",5)(29,"span",6),v(30,"Municipio:"),p(),g(31,"span",7),v(32),p()(),g(33,"div",5)(34,"span",6),v(35,"Estado:"),p(),g(36,"span",7),v(37),p()(),g(38,"div",5)(39,"span",6),v(40,"Altitud:"),p(),g(41,"span",7),v(42),p()(),g(43,"div",5)(44,"span",6),v(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),v(47),p()(),g(48,"div",5)(49,"span",6),v(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),v(52),p()(),g(53,"div",5)(54,"span",6),v(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),v(57),p()()()()(),g(58,"button",8),Q("click",function(){return r.editMuestra()}),v(59,"Editar Unidad"),p(),g(60,"button",9),Q("click",function(){return r.backPage()}),p()}2&i&&(L(12),De(" ",r.item.codigo,""),L(5),De(" ",r.item.cliente,""),L(5),De(" ",r.item.coordenadas,""),L(5),De(" ",r.item.localidad,""),L(5),De(" ",r.item.municipio,""),L(5),De(" ",r.item.cliente,""),L(5),De(" ",r.item.altitud,""),L(5),De(" ",r.item.tempmax,""),L(5),De(" ",r.item.tempmin,""),L(5),De(" ",r.item.precipitacion,""))},dependencies:[Pn,On,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:85%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:85%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:52%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}}return n})();function bPe(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",4),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoClients(o.email))}),p(),g(11,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().editClients(o.email))}),p()()()}if(2&n){const t=e.$implicit;L(2),Be(t.email),L(2),Be(t.nombre),L(2),Be(t.telefono),L(2),Be(t.direccion)}}let yPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=_e(this.firestore,"clientes");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"muestras",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"muestras",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoClients(t){this.router.navigate(["user/clients-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return m(function*(){let i=t.item;t.pid=i,console.log(i);const r=Lt(_e(t.firestore,"muestras"),Vt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"clients works!"),p(),g(2,"h1",0),v(3,"Clientes"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Email "),p(),g(9,"th"),v(10," Nombre "),p(),g(11,"th"),v(12," Telefono"),p(),g(13,"th"),v(14," Direccion "),p(),W(15,"th"),p(),Hn(16,bPe,12,4,"tr",2),p(),g(17,"button",3),Q("click",function(){return r.newClients()}),v(18," Agregar "),p()()),2&i&&(L(16),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:32%;left:45%;transform:translate(-25%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;width:94%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{transform:none;position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{transform:none;color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const vPe=["geo"];let wPe=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=we(this.firestore,"clientes",t.email);Wi(i,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-clients-new"]],viewQuery:function(i,r){if(1&i&&kn(vPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"clients-new works!"),p(),g(2,"h1",0),v(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Email:"),p(),W(11,"input",7),p(),g(12,"div",5)(13,"span",6),v(14,"Nombre:"),p(),W(15,"input",8),p(),g(16,"div",5)(17,"span",6),v(18,"Telefono:"),p(),W(19,"input",9),p(),g(20,"div",5)(21,"span",6),v(22,"Direccion:"),p(),W(23,"input",10),p(),g(24,"button",11),v(25,"Crear Cliente"),p()()()()}},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:30%;flex-shrink:0;position:absolute;left:50%;top:25%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;position:relative;left:0}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:143px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:30%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();function xPe(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",4),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().Muestras(o.project,o.codigo))}),g(11,"div",5),v(12,"Listar Muestras"),p()(),g(13,"button",6),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoUnidad(o.codigo))}),g(14,"div",7),v(15,"Informaci\xf3n"),p()(),g(16,"button",8),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().editUnidad(o.codigo))}),g(17,"div",9),v(18,"Editar"),p()()()()}if(2&n){const t=e.$implicit;L(2),Be(t.codigo),L(2),Be(t.cliente),L(2),Be(t.altitud),L(2),Be(t.coordenadas)}}let CPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.elem=s,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)})}getData(){const t=_e(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"unidad-produccion",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"unidad-produccion",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+i])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new"])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return m(function*(){let i=t.pid;console.log(i);const r=Lt(_e(t.firestore,"unidad-produccion"),Vt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(cn))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-unidad-produccion-all"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),v(3,"Unidades de Producci\xf3n "),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Nombre "),p(),g(9,"th"),v(10," Cliente "),p(),g(11,"th"),v(12," Altitud"),p(),g(13,"th"),v(14," Coordenadas "),p(),W(15,"th"),p(),Hn(16,xPe,19,4,"tr",2),p(),g(17,"button",3),Q("click",function(){return r.newUnidad(r.pid)}),v(18," Agregar "),p()()),2&i&&(L(16),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:50%;top:30%;transform:translate(-30%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:50%;top:30%;transform:translate(0);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:650px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:20%;transform:translate(-35%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;top:50%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;transform:none;left:35%;top:40%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;transform:none;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:200px;height:100px;font-family:Verdana;font-size:28px;letter-spacing:0;transform:none;position:absolute;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.muestras-tip[_ngcontent-%COMP%]{margin:5px;position:relative;top:-28px;left:-45px;font-size:10px}.detalles-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-48px}.edit-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-33px}}"]})}}return n})();const EPe=["geo"];let IPe=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return m(function*(){console.log(t);const r=we(i.firestore,"clientes",t.email);Ki(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=_e(this.firestore,"clientes");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.x;const r=Lt(_e(t.firestore,"clientes"),Vt("email","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=we(this.firestore,"clientes",this.x);pn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-clients-edit"]],viewQuery:function(i,r){if(1&i&&kn(EPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"clients-edit works!"),p(),g(2,"h1",0),v(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Email:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.email,a)||(r.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Nombre:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.nombre,a)||(r.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Telefono:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.item.telefono,a)||(r.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),v(22,"Direccion:"),p(),g(23,"input",10),ot("ngModelChange",function(a){return ut(r.item.direccion,a)||(r.item.direccion=a),a}),p()(),g(24,"button",11),v(25,"Editar Cliente"),p()()()()}2&i&&(L(11),rt("ngModel",r.item.email),L(4),rt("ngModel",r.item.nombre),L(4),rt("ngModel",r.item.telefono),L(4),rt("ngModel",r.item.direccion))},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;flex-shrink:0;transform:none;position:absolute;top:40%;left:50%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;flex-shrink:0;margin-left:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const TPe=["geo"];let MPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=we(this.firestore,"clientes",t.codigo);Wi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"clientes");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.text;const r=Lt(_e(t.firestore,"clientes"),Vt("email","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editClients(){this.router.navigate(["user/clientes-edit/"+this.text])}deleteData(t){const i=we(this.firestore,"clientes",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-clients-info"]],viewQuery:function(i,r){if(1&i&&kn(TPe,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"clients-info works!"),p(),g(2,"h1",0),v(3,"Informacion del Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Email:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Nombre:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Telefono:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Direccion:"),p(),g(26,"span",7),v(27),p()()()()(),g(28,"button",8),Q("click",function(){return r.editClients()}),v(29,"Editar Cliente"),p()}2&i&&(L(12),De(" ",r.item.email,""),L(5),De(" ",r.item.nombre,""),L(5),De(" ",r.item.telefono,""),L(5),De(" ",r.item.direccion,""))},dependencies:[Pn,On,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;top:45%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;height:35%;flex-shrink:0;margin-left:5px;position:absolute;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:35%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})(),DPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),console.log(i.id),this.generateBarcode(t)})}generateBarcode(t){var i=t;console.log(t),console.log(i),this.res=i,vw("#barcode",i,{format:"CODE128"})}toPrint(){window.open("/print/"+this.res,"_blank")}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-barcode-cantidad"]],standalone:!0,features:[ho],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"barcode-cantidad works!"),p(),D_(),W(2,"svg",0),pC(),g(3,"button",1),Q("click",function(){return r.toPrint()}),v(4,"Print"),p())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}}return n})(),SPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.codigo),this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var r=t;this.res=r,vw("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}addData(t){let i=we(this.firestore,"muestras",t.codigo);Wi(i,{codigo:t.codigo}),t.id&&(i=we(this.firestore,"projects",t.id),Wi(i,{name:t.id})),t.ud&&(i=we(this.firestore,"unidad-produccion",t.ud),Wi(i,{codigo:t.ud}))}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return m(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["user/barcode/"+t])}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe),E(pi))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-barcode-new"]],decls:25,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["name","ud","ngModel","","placeholder","ID Unidad","id","ud","type","ud",1,"input-field"],[1,"Opcional"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"barcode-new works!"),p(),g(2,"h1",0),v(3,"Generar Codigo"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"div",6)(10,"span",7),v(11,"Unidad de Producci\xf3n: "),p(),W(12,"input",8),g(13,"span",9),v(14," (opcional) "),p()()(),g(15,"div",10)(16,"div",6)(17,"span",7),v(18," Codigo: "),p(),W(19,"input",11),g(20,"span",12),v(21," * (obligatorio) "),p()()(),g(22,"button",13),v(23,"Generar"),p(),g(24,"button",14),Q("click",function(){return r.backPage()}),p()()()()}},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:50%;top:20%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:625px;height:225px;flex-shrink:0;position:absolute;top:50%;left:56%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:60%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:60%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;left:0%;top:0%;transform:none}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:30px;font-family:Verdana;font-size:28px;text-align:center;letter-spacing:0;transform:none;position:absolute;left:0%;top:30%}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;transform:none;position:absolute;left:10%;top:40%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:100%;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;height:20px;width:80%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:57%;top:73%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}.red[_ngcontent-%COMP%]{display:block;font-family:Arial;text-align:left;font-size:16px;color:red}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;transform:none;position:absolute;left:10%;top:75%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();function APe(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoMuestra(o.codigo))}),g(11,"div",4),v(12,"Informaci\xf3n"),p()(),g(13,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().editMuestra(o.codigo))}),g(14,"div",6),v(15,"Editar"),p()(),g(16,"button",7),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().Barcode(o.codigo))}),g(17,"div",8),v(18,"Imprimir"),p()()()()}if(2&n){const t=e.$implicit;L(2),Be(t.codigo),L(2),Be(t.fecha),L(2),Be(t.cultivo),L(2),Be(t.estadoDiag)}}const kPe=[{path:"user",component:jW,children:[{path:"projects",component:TOe},{path:"project-new",component:kOe},{path:"project-edit/:id",component:oPe},{path:"project-info/:id",component:lPe},{path:"barcode/:id",component:SOe},{path:"barcode-cantidad/:id",component:DPe},{path:"barcode-new",component:SPe},{path:"muestras/:up",component:DOe},{path:"muestras-new/:id",component:POe},{path:"muestras-edit/:id",component:tPe},{path:"muestras-info/:id",component:iPe},{path:"muestras-all",component:aPe},{path:"unidad-produccion/:id",component:dPe},{path:"unidad-produccion-new",component:fPe},{path:"unidad-produccion-edit/:id",component:gPe},{path:"unidad-produccion-info/:id",component:_Pe},{path:"unidad-produccion-all",component:CPe},{path:"clients",component:yPe},{path:"clients-new",component:wPe},{path:"clients-edit/:id",component:IPe},{path:"clients-info/:id",component:MPe},{path:"resultados",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"muestras",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"muestras",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return m(function*(){let i=t.item;t.pid=i,console.log(i);const r=Lt(_e(t.firestore,"muestras"),Vt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-resultados"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(g(0,"h1",0),v(1,"Resultados"),p(),g(2,"div",1)(3,"table")(4,"tr")(5,"th"),v(6," Codigo "),p(),g(7,"th"),v(8," Fecha "),p(),g(9,"th"),v(10," Cultivo "),p(),g(11,"th"),v(12," Estado "),p(),W(13,"th"),p(),Hn(14,APe,19,4,"tr",2),p()()),2&i&&(L(14),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-40%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:48%;text-overflow:ellipsis;transform:none}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})()},{path:"scan",component:JOe}]}];let OPe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[Rr.forChild(kPe),Rr]})}}return n})();function u2(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function sY(n){return Rn((e,t)=>n<=t)}function ZPe(n,e){return n===e}let JPe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[JPe]})}}return n})();function rx(n){return Array.isArray(n)?n:[n]}function oi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wh(n){return n instanceof cn?n.nativeElement:n}const aY=new Set;let ou,nRe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rRe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function iRe(n,e){if(!aY.has(n))try{ou||(ou=document.createElement("style"),e&&(ou.nonce=e),ou.setAttribute("type","text/css"),document.head.appendChild(ou)),ou.sheet&&(ou.sheet.insertRule(`@media ${n} {body{ }}`,0),aY.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(H(Si),H(yC,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function rRe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let cY=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new vt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return lY(rx(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=By(lY(rx(t)).map(s=>this._registerQuery(s).observable));return o=vd(o.pipe(Kn(1)),o.pipe(sY(1),function oY(n,e=Kp){return En((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);a()}t.subscribe(mn(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Fe(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Qt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(_T(i),Fe(({matches:s})=>({query:t,matches:s})),Hy(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(H(nRe),H(Me))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lY(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Kh_Medium="(min-width: 960px) and (max-width: 1279.98px)",Kh_Large="(min-width: 1280px) and (max-width: 1919.98px)";let d2=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function lRe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function cRe(n){try{return n.frameElement}catch{return null}}(function _Re(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===fY(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=fY(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function gRe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function mRe(n){return!function dRe(n){return function fRe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function uRe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function hRe(n){return function pRe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||hY(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||n)(H(Si))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hY(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function fY(n){if(!hY(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class pY{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Kn(1)).subscribe(e)}}let gY=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new pY(t,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||n)(H(d2),H(Me),H(dt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mY(n){return 0===n.buttons||0===n.detail}function _Y(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const bRe=new X("cdk-input-modality-detector-options"),yRe={ignoreKeys:[18,17,224,91,16]},Qh=Mm({passive:!0,capture:!0});let vRe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new hr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=vc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mY(s)?"keyboard":"mouse"),this._mostRecentTarget=vc(s))},this._onTouchstart=s=>{_Y(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=vc(s))},this._options={...yRe,...o},this.modalityDetected=this._modality.pipe(sY(1)),this.modalityChanged=this.modalityDetected.pipe(function XPe(n,e=Ca){return n=n??ZPe,En((t,i)=>{let r,o=!0;t.subscribe(mn(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Qh),r.addEventListener("mousedown",this._onMousedown,Qh),r.addEventListener("touchstart",this._onTouchstart,Qh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qh),document.removeEventListener("mousedown",this._onMousedown,Qh),document.removeEventListener("touchstart",this._onTouchstart,Qh))}static{this.\u0275fac=function(i){return new(i||n)(H(Si),H(Me),H(dt),H(bRe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ox=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(ox||{});const xRe=new X("cdk-focus-monitor-default-options"),sx=Mm({passive:!0,capture:!0});let h2=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new vt,this._rootNodeFocusAndBlurListener=a=>{for(let l=vc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||ox.IMMEDIATE}monitor(t,i=!1){const r=Wh(t);if(!this._platform.isBrowser||1!==r.nodeType)return xe();const o=function mDe(n){if(function gDe(){if(null==FR){const n=typeof document<"u"?document.head:null;FR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return FR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new vt,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Wh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Wh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===ox.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===ox.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=vc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,sx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,sx)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hy(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,sx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,sx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(H(Me),H(Si),H(vRe),H(dt,8),H(xRe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var su=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(su||{});const yY="cdk-high-contrast-black-on-white",vY="cdk-high-contrast-white-on-black",f2="cdk-high-contrast-active";let wY=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=J(cY).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return su.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return su.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return su.BLACK_ON_WHITE}return su.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(f2,yY,vY),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===su.BLACK_ON_WHITE?t.add(f2,yY):i===su.WHITE_ON_BLACK&&t.add(f2,vY)}}static{this.\u0275fac=function(i){return new(i||n)(H(Si),H(dt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CRe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(H(wY))}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[eRe]})}}return n})();const ERe=["addListener","removeListener"],IRe=["addEventListener","removeEventListener"],TRe=["on","off"];function n_(n,e,t,i){if(yt(t)&&(i=t,t=void 0),i)return n_(n,e,t).pipe(qI(i));const[r,o]=function SRe(n){return yt(n.addEventListener)&&yt(n.removeEventListener)}(n)?IRe.map(s=>a=>n[s](e,a,t)):function MRe(n){return yt(n.addListener)&&yt(n.removeListener)}(n)?ERe.map(xY(n,e)):function DRe(n){return yt(n.on)&&yt(n.off)}(n)?TRe.map(xY(n,e)):[];if(!r&&$I(n))return yi(s=>n_(s,e,t))(Fi(n));if(!r)throw new TypeError("Invalid event target");return new Qt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function xY(n,e){return t=>i=>n[t](e,i)}const i_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=i_;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new ai(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=i_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=i_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class kRe extends xv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ARe extends wv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=i_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(i_.cancelAnimationFrame(t),e._scheduled=void 0)}});let p2,PRe=1;const ax={};function CY(n){return n in ax&&(delete ax[n],!0)}const RRe={setImmediate(n){const e=PRe++;return ax[e]=!0,p2||(p2=Promise.resolve()),p2.then(()=>CY(e)&&n()),e},clearImmediate(n){CY(n)}},{setImmediate:NRe,clearImmediate:FRe}=RRe,cx={setImmediate(...n){const{delegate:e}=cx;return(e?.setImmediate||NRe)(...n)},clearImmediate(n){const{delegate:e}=cx;return(e?.clearImmediate||FRe)(n)},delegate:void 0};new class VRe extends xv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class LRe extends wv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=cx.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(cx.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function g2(n=0,e,t=_0e){let i=-1;return null!=e&&(ej(e)?t=e:i=e),new Qt(r=>{let o=function zRe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function EY(n,e=Kp){return function URe(n){return En((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(mn(t,l=>{i=!0,r=l,o||Fi(n(l)).subscribe(o=mn(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>g2(n,e))}const jRe=new X("cdk-dir-doc",{providedIn:"root",factory:function HRe(){return J(dt)}}),$Re=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let m2=(()=>{class n{constructor(t){this.value="ltr",this.change=new We,t&&(this.value=function GRe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?$Re.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(H(jRe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),r_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})(),WRe=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new vt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Qt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(EY(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Rn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Wh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>n_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(H(Me),H(Si),H(dt,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IY=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new vt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(EY(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(H(Si),H(Me),H(dt,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})(),TY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[r_,_2,r_,_2]})}}return n})();class b2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class y2 extends b2{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class MY extends b2{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class QRe extends b2{constructor(e){super(),this.element=e instanceof cn?e.nativeElement:e}}class v2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof y2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof MY?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof QRe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class YRe extends v2{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Ht.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let w2=(()=>{class n extends v2{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new We,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(E(qu),E(co),E(dt))}}static{this.\u0275dir=me({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ct.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[wt]})}}return n})(),XRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})();function lx(...n){const e=_p(n),t=function lfe(n,e){return"number"==typeof GI(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Fi(i[0]):yd(t)(gi(i,e)):us}const DY=pDe();class ZRe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=oi(-this._previousScrollPosition.left),e.style.top=oi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),DY&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DY&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class JRe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Rn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class SY{enable(){}disable(){}attach(){}}function x2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function AY(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class eNe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();x2(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tNe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new SY,this.close=s=>new JRe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new ZRe(this._viewportRuler,this._document),this.reposition=s=>new eNe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(H(WRe),H(IY),H(Me),H(dt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class kY{constructor(e){if(this.scrollStrategy=new SY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class nNe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let OY=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(H(dt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iNe=(()=>{class n extends OY{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(H(dt),H(Me,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rNe=(()=>{class n extends OY{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=vc(o)},this._clickListener=o=>{const s=vc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(H(dt),H(Si),H(Me,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),C2=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||VR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),VR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(H(dt),H(Si))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class ux{constructor(e,t,i,r,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new vt,this._attachments=new vt,this._detachments=new vt,this._locationChanges=ai.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new vt,this._outsidePointerEvents=new vt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=oi(this._config.width),e.height=oi(this._config.height),e.minWidth=oi(this._config.minWidth),e.minHeight=oi(this._config.minHeight),e.maxWidth=oi(this._config.maxWidth),e.maxHeight=oi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=rx(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Hy(lx(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const PY="cdk-overlay-connected-position-bounding-box",oNe=/([A-Za-z%]+)$/;class sNe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new vt,this._resizeSubscription=ai.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(PY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&au(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=NY(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let h=0-a,f=a+o.height-i.height,y=this._subtractOverflows(o.width,0-s,s+o.width-i.width),C=this._subtractOverflows(o.height,h,f),I=y*C;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=RY(this._overlayRef.getConfig().minHeight),a=RY(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=NY(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function aNe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new nNe(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),y=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-y/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),y=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-y/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=oi(i.height),r.top=oi(i.top),r.bottom=oi(i.bottom),r.width=oi(i.width),r.left=oi(i.left),r.right=oi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=oi(o)),s&&(r.maxWidth=oi(s))}this._lastBoundingBoxSize=i,au(this._boundingBox.style,r)}_resetBoundingBoxStyles(){au(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){au(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();au(i,this._getExactOverlayY(t,e,u)),au(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=oi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=oi(s.maxWidth):o&&(i.maxWidth="")),au(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=oi(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=oi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AY(e,i),isOriginOutsideView:x2(e,i),isOverlayClipped:AY(t,i),isOverlayOutsideView:x2(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&rx(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof cn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function au(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function RY(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(oNe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function NY(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const FY="cdk-global-overlay-wrapper";class cNe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(FY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",y="",C="";c?C="flex-start":"center"===u?(C="center",h?y=d:f=d):h?"left"===u||"end"===u?(C="flex-end",f=d):("right"===u||"start"===u)&&(C="flex-start",y=d):"left"===u||"start"===u?(C="flex-start",f=d):("right"===u||"end"===u)&&(C="flex-end",y=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":y,t.justifyContent=C,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(FY),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let lNe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new cNe}flexibleConnectedTo(t){return new sNe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(H(IY),H(dt),H(Si),H(C2))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uNe=0,ba=(()=>{class n{constructor(t,i,r,o,s,a,c,l,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new kY(t);return s.direction=s.direction||this._directionality.value,new ux(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+uNe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ss)),new YRe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(H(tNe),H(C2),H(qu),H(lNe),H(iNe),H(Ht),H(Me),H(dt),H(m2),H(pi),H(rNe),H(Hc,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const dNe=new X("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=J(ba);return()=>n.scrollStrategies.reposition()}}),fNe={provide:dNe,deps:[ba],useFactory:function hNe(n){return()=>n.scrollStrategies.reposition()}};let pNe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[ba,fNe],imports:[r_,XRe,TY,TY]})}}return n})();var Ne=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ne||{});const ya="*";function LY(n,e){return{type:Ne.Trigger,name:n,definitions:e,options:{}}}function dx(n,e=null){return{type:Ne.Animate,styles:e,timings:n}}function VY(n,e=null){return{type:Ne.Group,steps:n,options:e}}function Yh(n){return{type:Ne.Style,styles:n,offset:null}}function hx(n,e,t){return{type:Ne.State,name:n,styles:e,options:t}}function fx(n,e,t=null){return{type:Ne.Transition,expr:n,animation:e,options:t}}function BY(n=null){return{type:Ne.AnimateChild,options:n}}function UY(n,e,t=null){return{type:Ne.Query,selector:n,animation:e,options:t}}class o_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class zY{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let $Y=(()=>{class n{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return n})(),GY=(()=>{class n{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return n})();const wNe=new X("mat-sanity-checks",{providedIn:"root",factory:function vNe(){return!0}});let vo=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!VR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(i){return new(i||n)(H(wY),H(wNe,8),H(dt))}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[r_,r_]})}}return n})();const qY=new X("MAT_DATE_LOCALE",{providedIn:"root",factory:function CNe(){return J(as)}});class WY{constructor(){this._localeChanges=new vt,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const ENe=new X("mat-date-formats"),INe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function I2(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let TNe=(()=>{class n extends WY{constructor(t){super(),this.useUtcForDisplay=!1,this._matDateLocale=J(qY,{optional:!0}),void 0!==t&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return I2(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return I2(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return I2(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(INe.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}static{this.\u0275fac=function(i){return new(i||n)(H(qY,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const MNe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function DNe(n=MNe){return[{provide:WY,useClass:TNe},{provide:ENe,useValue:n}]}var wo=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(wo||{});class SNe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=wo.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const KY=Mm({passive:!0,capture:!0});class ANe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=vc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,KY)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,KY)))}}const QY={enterDuration:225,exitDuration:150},YY=Mm({passive:!0,capture:!0}),XY=["mousedown","touchstart"],ZY=["mouseup","mouseleave","touchend","touchcancel"];class px{static{this._eventManager=new ANe}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...QY,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function ONe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,y="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,C=new SNe(this,u,i,y);u.style.transform="scale3d(1, 1, 1)",C.state=wo.FADING_IN,i.persistent||(this._mostRecentTransientRipple=C);let I=null;return!y&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(C),D=()=>this._destroyRipple(C);u.addEventListener("transitionend",k),u.addEventListener("transitioncancel",D),I={onTransitionEnd:k,onTransitionCancel:D}}),this._activeRipples.set(C,I),(y||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(e){if(e.state===wo.FADING_OUT||e.state===wo.HIDDEN)return;const t=e.element,i={...QY,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=wo.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Wh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,XY.forEach(i=>{px._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ZY.forEach(t=>{this._triggerElement.addEventListener(t,this,YY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===wo.FADING_IN?this._startFadeOutTransition(e):e.state===wo.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=wo.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=wo.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=mY(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!_Y(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===wo.VISIBLE||e.config.terminateOnPointerUp&&e.state===wo.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(XY.forEach(t=>px._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&ZY.forEach(t=>e.removeEventListener(t,this,YY)))}}const JY=new X("mat-ripple-global-options");let PNe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new px(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(i){return new(i||n)(E(cn),E(Me),E(Si),E(JY,8),E(Hc,8))}}static{this.\u0275dir=me({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&uo("mat-ripple-unbounded",r.unbounded)},inputs:{color:[ct.None,"matRippleColor","color"],unbounded:[ct.None,"matRippleUnbounded","unbounded"],centered:[ct.None,"matRippleCentered","centered"],radius:[ct.None,"matRippleRadius","radius"],animation:[ct.None,"matRippleAnimation","animation"],disabled:[ct.None,"matRippleDisabled","disabled"],trigger:[ct.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),RNe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[vo,vo]})}}return n})();const eX={capture:!0},tX=["focus","click","mouseenter","touchstart"],T2="mat-ripple-loader-uninitialized",M2="mat-ripple-loader-class-name",nX="mat-ripple-loader-centered",gx="mat-ripple-loader-disabled";let NNe=(()=>{class n{constructor(){this._document=J(dt,{optional:!0}),this._animationMode=J(Hc,{optional:!0}),this._globalRippleOptions=J(JY,{optional:!0}),this._platform=J(Si),this._ngZone=J(Me),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${T2}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of tX)this._document?.addEventListener(t,this._onInteraction,eX)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of tX)this._document?.removeEventListener(i,this._onInteraction,eX)}configureRipple(t,i){t.setAttribute(T2,""),(i.className||!t.hasAttribute(M2))&&t.setAttribute(M2,i.className||""),i.centered&&t.setAttribute(nX,""),i.disabled&&t.setAttribute(gx,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(gx,""):t.removeAttribute(gx)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(M2)),t.append(r);const o=new PNe(new cn(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(nX),o.disabled=t.hasAttribute(gx),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(T2),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const FNe=new X("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=J(ba);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),VNe={provide:FNe,deps:[ba],useFactory:function LNe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let UNe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[VNe],imports:[CRe,Ua,pNe,vo,vo,_2]})}}return n})(),zNe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[DNe(),MI],imports:[Ua,OPe,Ep,ix,UNe]})}}return n})(),jNe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras"]],standalone:!0,features:[ho],decls:2,vars:0,template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras works!"),p())}})}}return n})();function HNe(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td",4),v(2),p(),g(3,"td",4),v(4),p(),g(5,"td")(6,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().updateData(o.id))}),v(7," Actualizar "),p(),g(8,"button",6),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().deleteData(o.id))}),v(9," Eliminar "),p()()()}if(2&n){const t=e.$implicit;L(2),Be(t.email),L(2),Be(t.role)}}const $Ne=[{path:"admin",component:zW,children:[{path:"users",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}NewUser(){this.router.navigate(["/admin/user-new"])}getData(){const t=_e(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"users",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){if(1==confirm("Seguro que desea eliminar este usuario?")){const r=we(this.firestore,"users",t);pn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(o=>{alert(o.message)})}}handleSignOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}handleLogin(t){var i=this;return m(function*(){let r=t;const o=Lt(_e(i.firestore,"users"),Vt("email","==",r));(yield de(o)).forEach(a=>{a.data(),Ok(i.auth,r,t.pass).then(function(){var u=m(function*(d){});return function(d){return u.apply(this,arguments)}}())})})()}deleteMyUser(t){var i=this;return m(function*(){let r,o=i.auth.currentUser?.email;console.log(i.auth.currentUser),r=" ",null==o&&(r=o),i.current=o;const s=Lt(_e(i.firestore,"users"),Vt("email","==",o));(yield de(s)).forEach(c=>{let u=c.data().password;i.key=u,i.handleLogin(t),console.log(i.auth.currentUser),Ok(i.auth,r,u),console.log(i.auth.currentUser)})})()}getUserData(){var t=this;return m(function*(){let i=t.auth.currentUser?.email;t.current=i;const r=Lt(_e(t.firestore,"users"),Vt("email","==",t.current));(yield de(r)).forEach(s=>{let c=s.data().password;t.key=c})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-users"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"NewUser",3,"click"],["contenteditable","true"],[3,"click"],[1,"red",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"users works!"),p(),g(2,"h1",0),v(3,"Usuarios"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Email "),p(),g(9,"th"),v(10," Role "),p(),W(11,"th"),p(),Hn(12,HNe,10,2,"tr",2),p(),g(13,"button",3),Q("click",function(){return r.NewUser()}),v(14," Crear Usuario "),p()()),2&i&&(L(12),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:50%;top:18em;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.red[_ngcontent-%COMP%]{background-color:#c23e3e}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:50%;top:3em;transform:translate(-50%)}.NewUser[_ngcontent-%COMP%]{width:140px;position:absolute;right:0}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:15%;top:28%}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}}return n})()},{path:"user-new",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}Users(){this.router.navigate(["/admin/users"])}handleRegister(t){aH(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert("Email no valido")}),this.addData(t),this.Users()}addData(t){const i=we(this.firestore,"users",t.email);t.password==t.confirmpassword?"Investigador"==t.role||"Cliente"==t.role?Wi(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=_e(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Le),E(Xe),E(Se))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-user-new"]],decls:31,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"user-new works!"),p(),W(2,"div",0),g(3,"span",1),v(4,"Registrar"),p(),W(5,"div",2),g(6,"form",3,4),Q("ngSubmit",function(){Ae(o);const a=ln(7);return ke(r.handleRegister(a.value))}),g(8,"div",5)(9,"div",6)(10,"span",7),v(11,"Email:"),p(),W(12,"input",8),p(),g(13,"div",6)(14,"span",9),v(15,"Roles:"),p(),W(16,"input",10),g(17,"datalist",11),W(18,"option",12)(19,"option",13),p()(),g(20,"div",6)(21,"span",14),v(22,"Clave:"),p(),W(23,"input",15),p(),g(24,"div",6)(25,"span",16),v(26,"Confirmar Clave:"),p(),W(27,"input",17),p(),g(28,"button",18),v(29,"Sign Up"),p()()(),g(30,"button",19),Q("click",function(){return r.Salir()}),p()}},dependencies:[Pn,xp,Cp,Li,yr,On,ir,wn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-40%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-40%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})()},{path:"muestras",component:jNe}]}];let GNe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[Rr.forChild($Ne),Rr]})}}return n})(),qNe=(()=>{class n{Hello(){console.log("hello")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[GNe,BR,Ua,Ep,ix,Rr]})}}return n})();const Xh=new Qt(ef),KNe={connector:()=>new vt};function rX(n,e=KNe){const{connector:t}=e;return En((i,r)=>{const o=t();Fi(n(function WNe(n){return new Qt(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function oX(n,e){return e?t=>vd(e.pipe(Kn(1),function XNe(){return En((n,e)=>{n.subscribe(mn(e,ef))})}()),t.pipe(oX(n))):yi((t,i)=>Fi(n(t,i)).pipe(Kn(1),r6(t)))}const a_="Service workers are disabled or not supported by this browser";class mx{constructor(e){if(this.serviceWorker=e,e){const i=n_(e,"controllerchange").pipe(Fe(()=>e.controller)),o=vd(Ip(()=>xe(e.controller)),i);this.worker=o.pipe(Rn(u=>!!u)),this.registration=this.worker.pipe(Pr(()=>e.getRegistration()));const l=n_(e,"message").pipe(Fe(u=>u.data)).pipe(Rn(u=>u&&u.type)).pipe(function YNe(n){return n?e=>rX(n)(e):e=>function QNe(n,e){const t=yt(n)?n:()=>n;return yt(e)?rX(e,{connector:t}):i=>new mT(i,t)}(new vt)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function JNe(n){return Ip(()=>wd(new Error(n)))}(a_)}postMessage(e,t){return this.worker.pipe(Kn(1),Nn(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Rn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Kn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Rn(t=>t.nonce===e),Kn(1),Fe(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let sX=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new vt,!t.isEnabled)return this.messages=Xh,this.notificationClicks=Xh,void(this.subscription=Xh);this.messages=this.sw.eventsOfType("PUSH").pipe(Fe(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Fe(r=>r.data)),this.pushManager=this.sw.registration.pipe(Fe(r=>r.pushManager));const i=this.pushManager.pipe(Pr(r=>r.getSubscription()));this.subscription=lx(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(a_));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Pr(s=>s.subscribe(i)),Kn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Kn(1),Pr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(a_))}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(i){return new(i||n)(H(mx))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),aX=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Xh,void(this.unrecoverable=Xh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(a_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(a_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(i){return new(i||n)(H(mx))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const cX=new X("");function e2e(n,e,t,i){return()=>{if(!Cy(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=xe(null);break;case"registerWithDelay":r=lX(+a[0]||0);break;case"registerWhenStable":r=a[0]?lx(uX(n),lX(+a[0])):uX(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Me).runOutsideAngular(()=>r.pipe(Kn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function lX(n){return xe(null).pipe(function ZNe(n,e=Kp){const t=g2(n,e);return oX(()=>t)}(n))}function uX(n){return n.get(ss).isStable.pipe(Rn(t=>t))}function t2e(n,e){return new mx(Cy(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class D2{}function n2e(n,e={}){return function W_(n){return{\u0275providers:n}}([sX,aX,{provide:cX,useValue:n},{provide:D2,useValue:e},{provide:mx,useFactory:t2e,deps:[D2,so]},{provide:lp,useFactory:e2e,deps:[Ht,cX,D2,so],multi:!0}])}let i2e=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[n2e(t,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[sX,aX]})}}return n})();function r2e(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td")(8,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().Muestras(o.name))}),p()()()}if(2&n){const t=e.$implicit;L(2),Be(t.name),L(2),Be(t.owner),L(2),Be(t.integrantes)}}let o2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=Vo();ws(t,r=>{r&&(console.log(r.email),r.email&&(this.email=r.email))});const i=_e(this.firestore,"projects");de(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=we(this.firestore,"projects",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"projects",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return m(function*(){const i=Vo();let r;r="",console.log(i),ws(i,function(){var o=m(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Lt(_e(t.firestore,"projects"),Vt("cliente","==",r));de(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"projects works!"),p(),g(2,"h1",0),v(3,"Proyectos"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Nombre "),p(),g(9,"th"),v(10," Due\xf1o "),p(),g(11,"th"),v(12," Integrantes"),p(),W(13,"th"),p(),Hn(14,r2e,9,3,"tr",2),p()()),2&i&&(L(14),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}}return n})();function s2e(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;L(2),Be(t.codigo),L(2),Be(t.fecha),L(2),Be(t.cultivo),L(2),Be(t.coordenadas)}}let a2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.up=t.up}),this.getData(),this.MyQuery()}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"muestras",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"muestras",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return m(function*(){let i=t.up;const r=Lt(_e(t.firestore,"muestras"),Vt("unidad","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras works!"),p(),g(2,"h1",0),v(3,"Muestras"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Codigo "),p(),g(9,"th"),v(10," Fecha "),p(),g(11,"th"),v(12," Cultivo"),p(),g(13,"th"),v(14," Coordenadas "),p(),W(15,"th"),p(),Hn(16,s2e,11,4,"tr",2),p()()),2&i&&(L(16),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function c2e(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td"),v(8),p(),g(9,"td")(10,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;L(2),Be(t.codigo),L(2),Be(t.fecha),L(2),Be(t.cultivo),L(2),Be(t.coordenadas)}}let l2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id}),this.getData(),this.MyQuery()}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"muestras",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"muestras",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return m(function*(){const i=Vo();let r,o=[];r="",console.log(i),ws(i,function(){var s=m(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=Lt(_e(t.firestore,"projects"),Vt("cliente","==",r));de(d).then(y=>{t.dataTem=[...y.docs.map(C=>({...C.data(),id:C.id}))]}),(yield de(d)).forEach(y=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let y=0;y<f;y++)console.log(t.dataTem[y].name),o.push(t.dataTem[y].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=Lt(_e(t.firestore,"muestras"),Vt("project","in",o));de(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield de(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"muestras-all works!"),p(),g(2,"h1",0),v(3,"Muestras"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Codigo "),p(),g(9,"th"),v(10," Fecha "),p(),g(11,"th"),v(12," Cultivo"),p(),g(13,"th"),v(14," Coordenadas "),p(),W(15,"th"),p(),Hn(16,c2e,11,4,"tr",2),p()()),2&i&&(L(16),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function u2e(n,e){if(1&n){const t=ht();g(0,"tr")(1,"td"),v(2),p(),g(3,"td"),v(4),p(),g(5,"td"),v(6),p(),g(7,"td")(8,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().Muestras(o.project,o.codigo))}),g(9,"div",4),v(10,"Listar Muestras"),p()(),g(11,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(kt().infoUnidad(o.codigo))}),g(12,"div",6),v(13,"Informaci\xf3n"),p()()()()}if(2&n){const t=e.$implicit;L(2),Be(t.codigo),L(2),Be(t.altitud),L(2),Be(t.coordenadas)}}let d2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=_e(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=we(this.firestore,"unidad-produccion",t);Ki(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=we(this.firestore,"unidad-produccion",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ni(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}Muestras(t,i){this.router.navigate(["client/muestras/"+i])}MyQuery(){var t=this;return m(function*(){const i=Vo();let r,o=[];r="",ws(i,function(){var s=m(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const c=Lt(_e(t.firestore,"unidad-produccion"),Vt("cliente","==",r));de(c).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield de(c)).forEach(d=>{}),console.log(t.dataTem.length),console.log(t.data),console.log(t.dataTem[0].name);let u=t.dataTem.length;console.log(u);for(let d=0;d<u;d++)console.log(t.dataTem[d].name),o.push(t.dataTem[d].name);console.log(o)}});return function(a){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-unidad-produccion-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"]],template:function(i,r){1&i&&(g(0,"p"),v(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),v(3,"Unidades"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),v(8," Codigo "),p(),g(9,"th"),v(10," Altitud"),p(),g(11,"th"),v(12," Coordenadas "),p(),W(13,"th"),p(),Hn(14,u2e,14,3,"tr",2),p()()),2&i&&(L(14),qn("ngForOf",r.data))},dependencies:[Qr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:22%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const h2e=["geo"];let f2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=we(this.firestore,"unidad-produccion",t.codigo);Wi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.text;const r=Lt(_e(t.firestore,"unidad-produccion"),Vt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=we(this.firestore,"users",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&kn(h2e,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),v(3,"Datos de la Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Cliente:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Coordenadas:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Localidad:"),p(),g(26,"span",7),v(27),p()(),g(28,"div",5)(29,"span",6),v(30,"Municipio:"),p(),g(31,"span",7),v(32),p()(),g(33,"div",5)(34,"span",6),v(35,"Estado:"),p(),g(36,"span",7),v(37),p()(),g(38,"div",5)(39,"span",6),v(40,"Altitud:"),p(),g(41,"span",7),v(42),p()(),g(43,"div",5)(44,"span",6),v(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),v(47),p()(),g(48,"div",5)(49,"span",6),v(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),v(52),p()(),g(53,"div",5)(54,"span",6),v(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),v(57),p()()()()()}2&i&&(L(12),De(" ",r.item.codigo,""),L(5),De(" ",r.item.cliente,""),L(5),De(" ",r.item.coordenadas,""),L(5),De(" ",r.item.localidad,""),L(5),De(" ",r.item.municipio,""),L(5),De(" ",r.item.estado,""),L(5),De(" ",r.item.altitud,""),L(5),De(" ",r.item.tempmax,""),L(5),De(" ",r.item.tempmin,""),L(5),De(" ",r.item.precipitacion,""))},dependencies:[Pn,On,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:45%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}}return n})();const p2e=["geo"];let g2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return m(function*(){const r=we(i.firestore,"clientes",t.codigo);Wi(r,t).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Vo();ws(t,r=>{r&&r.email&&(this.email=r.email)});const i=_e(this.firestore,"clientes");de(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){const i=Vo();let r;r="",console.log(i),ws(i,function(){var o=m(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Lt(_e(t.firestore,"clientes"),Vt("email","==",r));de(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(t){const r=we(this.firestore,"clientes",this.x);pn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-perfil"]],viewQuery:function(i,r){if(1&i&&kn(p2e,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"perfil works!"),p(),g(2,"p"),v(3,"clients-info works!"),p(),g(4,"h1",0),v(5,"Informacion del Cliente"),p(),W(6,"div",1),g(7,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(8);return ke(r.handleRegister(a.value))}),g(9,"div",4)(10,"div",5)(11,"span",6),v(12,"Email:"),p(),g(13,"span",7),v(14),p()(),g(15,"div",5)(16,"span",6),v(17,"Nombre:"),p(),g(18,"span",7),v(19),p()(),g(20,"div",5)(21,"span",6),v(22,"Telefono:"),p(),g(23,"span",7),v(24),p()(),g(25,"div",5)(26,"span",6),v(27,"Direccion:"),p(),g(28,"span",7),v(29),p()(),g(30,"button",8),Q("click",function(){return r.editClients()}),v(31,"Editar Cliente"),p()()()}2&i&&(L(14),De(" ",r.item.email,""),L(5),De(" ",r.item.nombre,""),L(5),De(" ",r.item.telefono,""),L(5),De(" ",r.item.direccion,""))},dependencies:[Pn,On,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:500px;height:250px;position:absolute;top:38%;left:53%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:54%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-35%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:45px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:81%;top:105%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;top:45%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;height:35%;flex-shrink:0;margin-left:5px;position:absolute;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:35%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const m2e=["geo"];let _2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new We,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return m(function*(){console.log(t);const r=we(i.firestore,"clientes",t.email);Ki(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=_e(this.firestore,"clientes");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){const i=Vo();let r;r="",console.log(i),ws(i,function(){var o=m(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Lt(_e(t.firestore,"clientes"),Vt("email","==",r));de(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const r=we(this.firestore,"clientes",this.x);pn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(i,r){if(1&i&&kn(m2e,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"perfil-edit works!"),p(),g(2,"h1",0),v(3," Editar Perfil"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Email:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.email,a)||(r.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),v(14,"Nombre:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.nombre,a)||(r.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),v(18,"Telefono:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.item.telefono,a)||(r.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),v(22,"Direccion:"),p(),g(23,"input",10),ot("ngModelChange",function(a){return ut(r.item.direccion,a)||(r.item.direccion=a),a}),p()(),g(24,"button",11),v(25,"Editar Cliente"),p()()()()}2&i&&(L(11),rt("ngModel",r.item.email),L(4),rt("ngModel",r.item.nombre),L(4),rt("ngModel",r.item.telefono),L(4),rt("ngModel",r.item.direccion))},dependencies:[Pn,Li,yr,On,ir,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:520px;height:250px;position:absolute;top:38%;left:60%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:60%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;flex-shrink:0;transform:none;position:absolute;top:40%;left:50%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;flex-shrink:0;margin-left:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%)}}"]})}}return n})();const b2e=["geo"],y2e=[{path:"client",component:HW,children:[{path:"projects",component:o2e},{path:"muestras-all",component:l2e},{path:"muestras/:id",component:a2e},{path:"unidad-produccion-all",component:d2e},{path:"muestras-info/:id",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=we(this.firestore,"muestras",t.codigo);Wi(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return m(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return m(function*(){let i=t.text;const r=Lt(_e(t.firestore,"muestras"),Vt("codigo","==",i));(yield de(r)).forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}deleteData(t){const i=we(this.firestore,"users",t);pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(tt),E(Le),E(Xe))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&kn(b2e,5),2&i){let o;bn(o=yn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:53,vars:9,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=ht();g(0,"p"),v(1,"muestras-info works!"),p(),g(2,"h1",0),v(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=ln(6);return ke(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),v(10,"Codigo:"),p(),g(11,"span",7),v(12),p()(),g(13,"div",5)(14,"span",6),v(15,"Cliente:"),p(),g(16,"span",7),v(17),p()(),g(18,"div",5)(19,"span",6),v(20,"Fecha:"),p(),g(21,"span",7),v(22),p()(),g(23,"div",5)(24,"span",6),v(25,"Cultivo:"),p(),g(26,"span",7),v(27),p()(),g(28,"div",5)(29,"span",6),v(30,"Tipo:"),p(),g(31,"span",7),v(32),p()(),g(33,"div",5)(34,"span",6),v(35,"Fitopat\xf3geno:"),p(),g(36,"span",7),v(37),p()(),g(38,"div",5)(39,"span",6),v(40,"Coordenadas:"),p(),g(41,"span",7),v(42),p()(),g(43,"div",5)(44,"span",6),v(45,"S\xedntomas:"),p(),g(46,"span",7),v(47),p()(),g(48,"div",5)(49,"span",6),v(50,"Comentarios:"),p(),g(51,"span",7),v(52),p()()()()()}2&i&&(L(12),De(" ",r.item.codigo,""),L(5),De(" ",r.item.cliente,""),L(5),De(" ",r.item.fecha,""),L(5),De(" ",r.item.cultivo,""),L(5),De(" ",r.item.tipo,""),L(5),De(" ",r.item.fitopatogeno,""),L(5),De(" ",r.item.coordenadas,""),L(5),De(" ",r.item.sintomas,""),L(5),De(" ",r.item.comentarios,""))},dependencies:[Pn,On,wn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:57%;flex-shrink:0;position:absolute;left:50%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:40%;flex-shrink:0;position:absolute;left:5%;top:40%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:85%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}}return n})()},{path:"unidad-produccion-info/:id",component:f2e},{path:"perfil",component:g2e},{path:"perfil-edit",component:_2e}]}];let v2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[Rr.forChild(y2e),Rr]})}}return n})(),w2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[v2e,BR,Ua,Ep,ix,Rr]})}}return n})();function x2e(n,e){}class _x{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let dX=(()=>{class n extends v2{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=J(Si),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=J(Wu),this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=LR(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=LR();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=LR()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(E(cn),E(gY),E(dt,8),E(_x),E(d2),E(Me),E(ux),E(h2))}}static{this.\u0275cmp=Ce({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&kn(w2,7),2&i){let o;bn(o=yn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Ar("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[wt,ho],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Hn(0,x2e,0,0,"ng-template",0)},dependencies:[w2],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class S2{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new vt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!u2(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const hX=new X("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=J(ba);return()=>n.scrollStrategies.block()}}),C2e=new X("DialogData"),E2e=new X("DefaultDialogConfig");let T2e=0,M2e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new vt,this._afterOpenedAtThisLevel=new vt,this._ariaHiddenElements=new Map,this.afterAllClosed=Ip(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_T(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new _x,...i}).id=i.id||"cdk-dialog-"+T2e++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new S2(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){A2(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){A2(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),A2(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new kY({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:_x,useValue:r},{provide:S2,useValue:i},{provide:ux,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=dX;const c=new y2(a,r.viewContainerRef,Ht.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof ts){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new MY(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new y2(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:C2e,useValue:t.data},{provide:S2,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(m2,null,{optional:!0}))&&a.push({provide:m2,useValue:{value:t.direction,change:xe()}}),Ht.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(H(ba),H(Ht),H(E2e,8),H(n,12),H(C2),H(hX))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function A2(n,e){let t=n.length;for(;t--;)e(n[t])}function D2e(n,e){}const S2e={bottomSheetState:LY("state",[hx("void, hidden",Yh({transform:"translateY(100%)"})),hx("visible",Yh({transform:"translateY(0%)"})),fx("visible => void, visible => hidden",VY([dx(`${GY.COMPLEX} ${$Y.ACCELERATION_CURVE}`),UY("@*",BY(),{optional:!0})])),fx("void => visible",VY([dx(`${GY.EXITING} ${$Y.DECELERATION_CURVE}`),UY("@*",BY(),{optional:!0})]))])};let A2e=(()=>{class n extends dX{constructor(t,i,r,o,s,a,c,l,u){super(t,i,r,o,s,a,c,u),this._animationState="void",this._animationStateChanged=new We,this._breakpointSubscription=l.observe([Kh_Medium,Kh_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",l.isMatched(Kh_Medium)),this._toggleClass("mat-bottom-sheet-container-large",l.isMatched(Kh_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",l.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,i){this._elementRef.nativeElement.classList.toggle(t,i)}static{this.\u0275fac=function(i){return new(i||n)(E(cn),E(gY),E(dt,8),E(_x),E(d2),E(Me),E(ux),E(cY),E(h2))}}static{this.\u0275cmp=Ce({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,r){1&i&&V1("@state.start",function(s){return r._onAnimationStart(s)})("@state.done",function(s){return r._onAnimationDone(s)}),2&i&&(Ar("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),N1("@state",r._animationState))},standalone:!0,features:[wt,ho],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Hn(0,D2e,0,0,"ng-template",0)},dependencies:[w2],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[S2e.bottomSheetState]}})}}return n})();const fX=new X("MatBottomSheetData");class k2e{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class k2{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,t,i){this._ref=e,this._afterOpened=new vt,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(Rn(r=>"done"===r.phaseName&&"visible"===r.toState),Kn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Rn(r=>"done"===r.phaseName&&"hidden"===r.toState),Kn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),lx(this.backdropClick(),this.keydownEvents().pipe(Rn(r=>27===r.keyCode))).subscribe(r=>{!this.disableClose&&("keydown"!==r.type||!u2(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Rn(t=>"start"===t.phaseName),Kn(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const O2e=new X("mat-bottom-sheet-default-options");let P2e=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,i,r,o){this._overlay=t,this._parentBottomSheet=r,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(M2e)}open(t,i){const r={...this._defaultOptions||new k2e,...i};let o;return this._dialog.open(t,{...r,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:A2e,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,c)=>(o=new k2(s,r,c),[{provide:k2,useValue:o},{provide:fX,useValue:r.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(H(ba),H(Ht),H(n,12),H(O2e,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const R2e=["*",[["mat-toolbar-row"]]],N2e=["*","mat-toolbar-row"];let F2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=me({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),L2e=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(E(cn),E(Si),E(dt))}}static{this.\u0275cmp=Ce({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&z1(o,F2e,5),2&i){let s;bn(s=yn())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(Wb(r.color?"mat-"+r.color:""),uo("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[ho],ngContentSelectors:N2e,decls:2,vars:0,template:function(i,r){1&i&&(il(R2e),Or(0),Or(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),V2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[vo,vo]})}}return n})();const B2e=["mat-button",""],U2e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],z2e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],H2e=["mat-icon-button",""],$2e=["*"],G2e=new X("MAT_BUTTON_CONFIG"),q2e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let pX=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=J(h2),this._rippleLoader=J(NNe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=J(G2e,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:u}of q2e)a.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){TE()}}static{this.\u0275dir=me({type:n,inputs:{color:"color",disableRipple:[ct.HasDecoratorInputTransform,"disableRipple","disableRipple",cs],disabled:[ct.HasDecoratorInputTransform,"disabled","disabled",cs],ariaDisabled:[ct.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",cs],disabledInteractive:[ct.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",cs]},features:[h1]})}}return n})(),W2e=(()=>{class n extends pX{constructor(t,i,r,o){super(t,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(E(cn),E(Si),E(Me),E(Hc,8))}}static{this.\u0275cmp=Ce({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Ar("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Wb(r.color?"mat-"+r.color:""),uo("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[wt,ho],attrs:B2e,ngContentSelectors:z2e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(il(U2e),W(0,"span",0),Or(1),g(2,"span",1),Or(3,1),p(),Or(4,2),W(5,"span",2)(6,"span",3)),2&i&&uo("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),Q2e=(()=>{class n extends pX{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(E(cn),E(Si),E(Me),E(Hc,8))}}static{this.\u0275cmp=Ce({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Ar("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Wb(r.color?"mat-"+r.color:""),uo("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[wt,ho],attrs:H2e,ngContentSelectors:$2e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(il(),W(0,"span",0),Or(1),W(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),Y2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[vo,RNe,vo]})}}return n})();function X2e(n,e){if(1&n){const t=ht();g(0,"mat-toolbar",1)(1,"button",2),Q("click",function(){return Ae(t),ke(kt().installPwa())}),v(2," Agregar a Inicio "),p(),g(3,"button",3),Q("click",function(){return Ae(t),ke(kt().close())}),v(4," Cerrar "),p()()}}let Z2e=(()=>{class n{constructor(t,i){this.data=t,this.bottomSheetRef=i}installPwa(){this.data.promptEvent.prompt(),this.close()}close(){this.bottomSheetRef.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(E(fX),E(k2))}}static{this.\u0275cmp=Ce({type:n,selectors:[["app-prompt"]],decls:1,vars:1,consts:[["color","primary","class","android-prompt",4,"ngIf"],["color","primary",1,"android-prompt"],["mat-button","",1,"install",3,"click"],["mat-icon-button","",1,"close",3,"click"]],template:function(i,r){1&i&&Hn(0,X2e,5,0,"mat-toolbar",0),2&i&&qn("ngIf","android"===r.data.mobileType)},dependencies:[L2e,W2e,Q2e,EI],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-background-color: white!important;--mat-bottom-sheet-container-text-color: rgba(0, 0, 0, .87) !important;padding:3vh 2px!important;min-width:95vw!important;min-height:15vh!important;margin:0 auto;box-sizing:border-box!important;display:block!important}.android-prompt[_ngcontent-%COMP%]{position:inherit;padding:1vh 2px!important;display:flex;justify-content:space-between;align-items:center}.android-prompt[_ngcontent-%COMP%]   .install[_ngcontent-%COMP%]{background-color:#4c8bf5;color:#fff;border-radius:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px}.android-prompt[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background-color:#fff;color:#4c8bf5;border-radius:5px;border:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px;min-width:75px}.ios-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.ios-prompt[_ngcontent-%COMP%]   .close-ios-inv[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;padding:10px 25px 0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-7px}.ios-prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}"]})}}return n})(),J2e=(()=>{class n{constructor(t,i){this.bottomSheet=t,this.platform=i}initPwaPrompt(){this.platform.ANDROID&&(console.log("android"),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.openPromptComponent("android")}))}openPromptComponent(t){g2(2e3).pipe(Kn(1)).subscribe(()=>this.bottomSheet.open(Z2e,{data:{mobileType:t,promptEvent:this.promptEvent}}))}static{this.\u0275fac=function(i){return new(i||n)(H(P2e),H(Si))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[vo,vo]})}}return n})(),UFe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[vo,Ua,vo]})}}return n})();function BX(n){return new z(3e3,!1)}function Rc(n){switch(n.length){case 0:return new o_;case 1:return n[0];default:return new zY(n)}}function UX(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let y=f,C=h;if("offset"!==f)switch(y=n.normalizePropertyName(y,r),C){case"!":C=t.get(f);break;case ya:C=i.get(f);break;default:C=n.normalizeStyleValue(f,y,C,r)}d.set(y,C)}),u||o.push(d),a=d,s=l}),r.length)throw function lLe(n){return new z(3502,!1)}();return o}function j2(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&H2(t,"start",n)));break;case"done":n.onDone(()=>i(t&&H2(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&H2(t,"destroy",n)))}}function H2(n,e,t){const o=$2(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function $2(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function no(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function zX(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const wLe=typeof document>"u"?null:document.documentElement;function G2(n){const e=n.parentNode||n.host||null;return e===wLe?null:e}let uu=null,jX=!1;function HX(n,e){for(;e;){if(e===n)return!0;e=G2(e)}return!1}function $X(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let q2=(()=>{class n{validateStyleProperty(t){return function CLe(n){uu||(uu=function ELe(){return typeof document<"u"?document.body:null}()||{},jX=!!uu.style&&"WebkitAppearance"in uu.style);let e=!0;return uu.style&&!function xLe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in uu.style,!e&&jX&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in uu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return HX(t,i)}getParentElement(t){return G2(t)}query(t,i,r){return $X(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new o_(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class W2{static{this.NOOP=new q2}}class K2{}const TLe=1e3,Q2="ng-enter",Cx="ng-leave",Ex="ng-trigger",Ix=".ng-trigger",qX="ng-animating",Y2=".ng-animating";function wa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:X2(parseFloat(e[1]),e[2])}function X2(n,e){return"s"===e?n*TLe:n}function Tx(n,e,t){return n.hasOwnProperty("duration")?n:function DLe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(BX()),{duration:0,delay:0,easing:""};r=X2(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=X2(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function zFe(){return new z(3100,!1)}()),a=!0),o<0&&(e.push(function jFe(){return new z(3101,!1)}()),a=!0),a&&e.splice(c,0,BX())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Ns(n,e,t){e.forEach((i,r)=>{const o=J2(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function du(n,e){e.forEach((t,i)=>{const r=J2(i);n.style[r]=""})}function d_(n){return Array.isArray(n)?1==n.length?n[0]:function gNe(n,e=null){return{type:Ne.Sequence,steps:n,options:e}}(n):n}const Z2=new RegExp("{{\\s*(.+?)\\s*}}","g");function KX(n){let e=[];if("string"==typeof n){let t;for(;t=Z2.exec(n);)e.push(t[1]);Z2.lastIndex=0}return e}function h_(n,e,t){const i=`${n}`,r=i.replace(Z2,(o,s)=>{let a=e[s];return null==a&&(t.push(function $Fe(n){return new z(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const kLe=/-+([a-z0-9])/g;function J2(n){return n.replace(kLe,(...e)=>e[1].toUpperCase())}function io(n,e,t){switch(e.type){case Ne.Trigger:return n.visitTrigger(e,t);case Ne.State:return n.visitState(e,t);case Ne.Transition:return n.visitTransition(e,t);case Ne.Sequence:return n.visitSequence(e,t);case Ne.Group:return n.visitGroup(e,t);case Ne.Animate:return n.visitAnimate(e,t);case Ne.Keyframes:return n.visitKeyframes(e,t);case Ne.Style:return n.visitStyle(e,t);case Ne.Reference:return n.visitReference(e,t);case Ne.AnimateChild:return n.visitAnimateChild(e,t);case Ne.AnimateRef:return n.visitAnimateRef(e,t);case Ne.Query:return n.visitQuery(e,t);case Ne.Stagger:return n.visitStagger(e,t);default:throw function GFe(n){return new z(3004,!1)}()}}function eF(n,e){return window.getComputedStyle(n)[e]}const RLe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class QX extends K2{normalizePropertyName(e,t){return J2(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(RLe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function qFe(n,e){return new z(3005,!1)}())}return s+o}}const Mx="*";const Dx=new Set(["true","1"]),Sx=new Set(["false","0"]);function YX(n,e){const t=Dx.has(n)||Sx.has(n),i=Dx.has(e)||Sx.has(e);return(r,o)=>{let s=n==Mx||n==r,a=e==Mx||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Dx.has(n):Sx.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Dx.has(e):Sx.has(e)),s&&a}}const VLe=new RegExp("s*:selfs*,?","g");function tF(n,e,t,i){return new BLe(n).build(e,t,i)}class BLe{constructor(e){this._driver=e}build(e,t,i){const r=new jLe(t);return this._resetContextStyleTimingState(r),io(this,d_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function WFe(){return new z(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ne.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==Ne.Transition){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function KFe(){return new z(3007,!1)}())}),{type:Ne.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{KX(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function QFe(n,e){return new z(3008,!1)}(0,o.values()))}return{type:Ne.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=io(this,d_(e.animation),t),r=function NLe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function FLe(n,e,t){if(":"==n[0]){const c=function LLe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function oLe(n){return new z(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function rLe(n){return new z(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(YX(r,s)),"<"==o[0]&&(r!=Mx||s!=Mx)&&e.push(YX(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Ne.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:hu(e.options)}}visitSequence(e,t){return{type:Ne.Sequence,steps:e.steps.map(i=>io(this,i,t)),options:hu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=io(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Ne.Group,steps:o,options:hu(e.options)}}visitAnimate(e,t){const i=function $Le(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return nF(Tx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=nF(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Tx(t,e);return nF(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Yh({});if(o.type==Ne.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=Yh(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:Ne.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===ya?i.push(a):t.errors.push(new z(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:Ne.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function XFe(n,e,t,i,r){return new z(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:r}),t.options&&function ALe(n,e,t){const i=e.params||{},r=KX(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function HFe(n){return new z(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Ne.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ZFe(){return new z(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(k=>{const D=this._makeStyleAst(k,t);let B=null!=D.offset?D.offset:function HLe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(D.styles),Y=0;return null!=B&&(o++,Y=D.offset=B),c=c||Y<0||Y>1,a=a||Y<l,l=Y,s.push(Y),D});c&&t.errors.push(function JFe(){return new z(3012,!1)}()),a&&t.errors.push(function eLe(){return new z(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function tLe(){return new z(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,y=t.currentTime,C=t.currentAnimateTimings,I=C.duration;return u.forEach((k,D)=>{const B=h>0?D==f?1:h*D:s[D],Y=B*I;t.currentTime=y+C.delay+Y,C.duration=Y,this._validateStyleAst(k,t),k.offset=B,i.styles.push(k)}),i}visitReference(e,t){return{type:Ne.Reference,animation:io(this,d_(e.animation),t),options:hu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ne.AnimateChild,options:hu(e.options)}}visitAnimateRef(e,t){return{type:Ne.AnimateRef,animation:this.visitReference(e.animation,t),options:hu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function ULe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(VLe,"")),n=n.replace(/@\*/g,Ix).replace(/@\w+/g,t=>Ix+"-"+t.slice(1)).replace(/:animating/g,Y2),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,no(t.collectedStyles,t.currentQuerySelector,new Map);const a=io(this,d_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Ne.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:hu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function nLe(){return new z(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Tx(e.timings,t.errors,!0);return{type:Ne.Stagger,animation:io(this,d_(e.animation),t),timings:i,options:null}}}class jLe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hu(n){return n?(n={...n}).params&&(n.params=function zLe(n){return n?{...n}:null}(n.params)):n={},n}function nF(n,e,t){return{duration:n,delay:e,easing:t}}function iF(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Ax{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const WLe=new RegExp(":enter","g"),QLe=new RegExp(":leave","g");function rF(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new YLe).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class YLe{buildKeyframes(e,t,i,r,o,s,a,c,l,u=[]){l=l||new Ax;const d=new oF(e,t,l,r,o,u,[]);d.options=c;const h=c.delay?wa(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),io(this,i,d);const f=d.timelines.filter(y=>y.containsAnimation());if(f.length&&a.size){let y;for(let C=f.length-1;C>=0;C--){const I=f[C];if(I.element===t){y=I;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return f.length?f.map(y=>y.buildKeyframes()):[iF(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:wa(h_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?wa(i.duration):null,a=null!=i.delay?wa(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),io(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Ne.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kx);const s=wa(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>io(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?wa(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),io(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Tx(t.params?h_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==Ne.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?wa(r.delay):0;o&&(t.previousNode.type===Ne.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kx);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),io(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;io(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const kx={};class oF{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Ox(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=wa(i.duration)),null!=i.delay&&(r.delay=wa(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=h_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new oF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=kx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new XLe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(WLe,"."+this._enterClassName)).replace(QLe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function iLe(n){return new z(3014,!1)}()),a}}class Ox{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ox(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ya),this._currentKeyframe.set(t,ya);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function ZLe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,ya)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=h_(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ya),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{"!"===u?e.add(d):u===ya&&t.add(d)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return iF(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class XLe extends Ox{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",JX(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]);const f=h.get("offset");h.set("offset",JX((t+f*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return iF(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function JX(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function eZ(n,e,t,i,r,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const sF={};class tZ{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function JLe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||sF,y=this.buildStyles(i,a&&a.params||sF,d),C=c&&c.params||sF,I=this.buildStyles(r,C,d),k=new Set,D=new Map,B=new Map,Y="void"===r,oe={params:nZ(C,h),delay:this.ast.options?.delay},he=u?[]:rF(e,t,this.ast.animation,o,s,y,I,oe,l,d);let $e=0;return he.forEach(pt=>{$e=Math.max(pt.duration+pt.delay,$e)}),d.length?eZ(t,this._triggerName,i,r,Y,y,I,[],[],D,B,$e,d):(he.forEach(pt=>{const si=pt.element,Qi=no(D,si,new Set);pt.preStyleProps.forEach(ro=>Qi.add(ro));const Jh=no(B,si,new Set);pt.postStyleProps.forEach(ro=>Jh.add(ro)),si!==t&&k.add(si)}),eZ(t,this._triggerName,i,r,Y,y,I,he,[...k.values()],D,B,$e))}}function nZ(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class e3e{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=nZ(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=h_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class n3e{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new e3e(r.style,r.options&&r.options.params||{},i))}),iZ(this.states,"true","1"),iZ(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new tZ(e,r,this.states))}),this.fallbackTransition=function i3e(n,e,t){return new tZ(n,{type:Ne.Transition,animation:{type:Ne.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function iZ(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const r3e=new Ax;class o3e{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=tF(this._driver,t,i,[]);if(i.length)throw function uLe(n){return new z(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=UX(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=rF(this._driver,t,o,Q2,Cx,new Map,new Map,i,r3e,r),s.forEach(u=>{const d=no(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function dLe(){return new z(3300,!1)}()),s=[]),r.length)throw function hLe(n){return new z(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ya))})});const l=Rc(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function fLe(n){return new z(3301,!1)}();return t}listen(e,t,i,r){const o=$2(t,"","","");return j2(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const rZ="ng-animate-queued",aF="ng-animate-disabled",u3e=[],oZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},d3e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qo="__ng_removed";class cF{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function g3e(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const f_="void",lF=new cF(f_);class h3e{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function pLe(n,e){return new z(3302,!1)}();if(null==i||0==i.length)throw function gLe(n){return new z(3303,!1)}();if(!function m3e(n){return"start"==n||"done"==n}(i))throw function mLe(n,e){return new z(3400,!1)}();const o=no(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=no(this._engine.statesByElement,e,new Map);return a.has(t)||(xo(e,Ex),xo(e,Ex+"-"+t),a.set(t,lF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function _Le(n){return new z(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new uF(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(xo(e,Ex),xo(e,Ex+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new cF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=lF),l.value!==f_&&c.value===l.value){if(!function y3e(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const C=[],I=o.matchStyles(c.value,c.params,C),k=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{du(e,I),Ns(e,k)})}return}const h=no(this._engine.playersByElement,e,[]);h.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!f){if(!r)return;f=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(xo(e,rZ),s.onStart(()=>{Zh(e,rZ)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const I=this._engine.playersByElement.get(e);if(I){let k=I.indexOf(s);k>=0&&I.splice(k,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Ix,!0);i.forEach(r=>{if(r[qo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,f_,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Rc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||lF,u=new cF(f_),d=new uF(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[qo];(!o||o===oZ)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){xo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=$2(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,j2(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class f3e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new h3e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Px(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Px(t))return;const o=t[qo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xo(e,aF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Zh(e,aF))}removeNode(e,t,i){if(Px(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[qo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Px(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Ix,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Y2,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[qo];if(t&&t.setForRemoval){if(e[qo]=oZ,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(aF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Rc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function bLe(n){return new z(3402,!1)}()}_flushAnimations(e,t){const i=new Ax,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(ge=>{u.add(ge);const be=this.driver.query(ge,".ng-animate-queued",!0);for(let Ee=0;Ee<be.length;Ee++)u.add(be[Ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=cZ(h,this.collectedEnterElements),y=new Map;let C=0;f.forEach((ge,be)=>{const Ee=Q2+C++;y.set(be,Ee),ge.forEach(bt=>xo(bt,Ee))});const I=[],k=new Set,D=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){const be=this.collectedLeaveElements[ge],Ee=be[qo];Ee&&Ee.setForRemoval&&(I.push(be),k.add(be),Ee.hasAnimation?this.driver.query(be,".ng-star-inserted",!0).forEach(bt=>k.add(bt)):D.add(be))}const B=new Map,Y=cZ(h,Array.from(k));Y.forEach((ge,be)=>{const Ee=Cx+C++;B.set(be,Ee),ge.forEach(bt=>xo(bt,Ee))}),e.push(()=>{f.forEach((ge,be)=>{const Ee=y.get(be);ge.forEach(bt=>Zh(bt,Ee))}),Y.forEach((ge,be)=>{const Ee=B.get(be);ge.forEach(bt=>Zh(bt,Ee))}),I.forEach(ge=>{this.processLeaveNode(ge)})});const oe=[],he=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(t).forEach(Ee=>{const bt=Ee.player,Oi=Ee.element;if(oe.push(bt),this.collectedEnterElements.length){const ur=Oi[qo];if(ur&&ur.setForMove){if(ur.previousTriggersValues&&ur.previousTriggersValues.has(Ee.triggerName)){const gu=ur.previousTriggersValues.get(Ee.triggerName),Co=this.statesByElement.get(Ee.element);if(Co&&Co.has(Ee.triggerName)){const Nx=Co.get(Ee.triggerName);Nx.value=gu,Co.set(Ee.triggerName,Nx)}}return void bt.destroy()}}const Fs=!d||!this.driver.containsElement(d,Oi),oo=B.get(Oi),Nc=y.get(Oi),Sn=this._buildInstruction(Ee,i,Nc,oo,Fs);if(Sn.errors&&Sn.errors.length)return void he.push(Sn);if(Fs)return bt.onStart(()=>du(Oi,Sn.fromStyles)),bt.onDestroy(()=>Ns(Oi,Sn.toStyles)),void r.push(bt);if(Ee.isFallbackTransition)return bt.onStart(()=>du(Oi,Sn.fromStyles)),bt.onDestroy(()=>Ns(Oi,Sn.toStyles)),void r.push(bt);const _Z=[];Sn.timelines.forEach(ur=>{ur.stretchStartingKeyframe=!0,this.disabledNodes.has(ur.element)||_Z.push(ur)}),Sn.timelines=_Z,i.append(Oi,Sn.timelines),s.push({instruction:Sn,player:bt,element:Oi}),Sn.queriedElements.forEach(ur=>no(a,ur,[]).push(bt)),Sn.preStyleProps.forEach((ur,gu)=>{if(ur.size){let Co=c.get(gu);Co||c.set(gu,Co=new Set),ur.forEach((Nx,fF)=>Co.add(fF))}}),Sn.postStyleProps.forEach((ur,gu)=>{let Co=l.get(gu);Co||l.set(gu,Co=new Set),ur.forEach((Nx,fF)=>Co.add(fF))})});if(he.length){const ge=[];he.forEach(be=>{ge.push(function yLe(n,e){return new z(3505,!1)}())}),oe.forEach(be=>be.destroy()),this.reportError(ge)}const $e=new Map,pt=new Map;s.forEach(ge=>{const be=ge.element;i.has(be)&&(pt.set(be,be),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,$e))}),r.forEach(ge=>{const be=ge.element;this._getPreviousPlayers(be,!1,ge.namespaceId,ge.triggerName,null).forEach(bt=>{no($e,be,[]).push(bt),bt.destroy()})});const si=I.filter(ge=>uZ(ge,c,l)),Qi=new Map;aZ(Qi,this.driver,D,l,ya).forEach(ge=>{uZ(ge,c,l)&&si.push(ge)});const ro=new Map;f.forEach((ge,be)=>{aZ(ro,this.driver,new Set(ge),c,"!")}),si.forEach(ge=>{const be=Qi.get(ge),Ee=ro.get(ge);Qi.set(ge,new Map([...be?.entries()??[],...Ee?.entries()??[]]))});const Bt=[],fu=[],pu={};s.forEach(ge=>{const{element:be,player:Ee,instruction:bt}=ge;if(i.has(be)){if(u.has(be))return Ee.onDestroy(()=>Ns(be,bt.toStyles)),Ee.disabled=!0,Ee.overrideTotalTime(bt.totalTime),void r.push(Ee);let Oi=pu;if(pt.size>1){let oo=be;const Nc=[];for(;oo=oo.parentNode;){const Sn=pt.get(oo);if(Sn){Oi=Sn;break}Nc.push(oo)}Nc.forEach(Sn=>pt.set(Sn,Oi))}const Fs=this._buildAnimation(Ee.namespaceId,bt,$e,o,ro,Qi);if(Ee.setRealPlayer(Fs),Oi===pu)Bt.push(Ee);else{const oo=this.playersByElement.get(Oi);oo&&oo.length&&(Ee.parentPlayer=Rc(oo)),r.push(Ee)}}else du(be,bt.fromStyles),Ee.onDestroy(()=>Ns(be,bt.toStyles)),fu.push(Ee),u.has(be)&&r.push(Ee)}),fu.forEach(ge=>{const be=o.get(ge.element);if(be&&be.length){const Ee=Rc(be);ge.setRealPlayer(Ee)}}),r.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<I.length;ge++){const be=I[ge],Ee=be[qo];if(Zh(be,Cx),Ee&&Ee.hasAnimation)continue;let bt=[];if(a.size){let Fs=a.get(be);Fs&&Fs.length&&bt.push(...Fs);let oo=this.driver.query(be,Y2,!0);for(let Nc=0;Nc<oo.length;Nc++){let Sn=a.get(oo[Nc]);Sn&&Sn.length&&bt.push(...Sn)}}const Oi=bt.filter(Fs=>!Fs.destroyed);Oi.length?_3e(this,be,Oi):this.processLeaveNode(be)}return I.length=0,Bt.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();const be=this.players.indexOf(ge);this.players.splice(be,1)}),ge.play()}),Bt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==f_;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=no(i,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(f=>{const y=f.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),f.destroy(),d.push(f)})}du(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(y=>{const C=y.element;u.add(C);const I=C[qo];if(I&&I.removedBeforeQueried)return new o_(y.duration,y.delay);const k=C!==c,D=function b3e(n){const e=[];return lZ(n,e),e}((i.get(C)||u3e).map($e=>$e.getRealPlayer())).filter($e=>!!$e.element&&$e.element===C),B=o.get(C),Y=s.get(C),oe=UX(this._normalizer,y.keyframes,B,Y),he=this._buildPlayer(y,oe,D);if(y.subTimeline&&r&&d.add(C),k){const $e=new uF(e,a,C);$e.setRealPlayer(he),l.push($e)}return he});l.forEach(y=>{no(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function p3e(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>xo(y,qX));const f=Rc(h);return f.onDestroy(()=>{u.forEach(y=>Zh(y,qX)),Ns(c,t.toStyles)}),d.forEach(y=>{no(r,y,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new o_(e.duration,e.delay)}}class uF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new o_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>j2(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){no(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Px(n){return n&&1===n.nodeType}function sZ(n,e){const t=n.style.display;return n.style.display=e??"none",t}function aZ(n,e,t,i,r){const o=[];t.forEach(c=>o.push(sZ(c)));const s=[];i.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,r);u.set(d,h),(!h||0==h.length)&&(l[qo]=d3e,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>sZ(c,o[a++])),s}function cZ(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function xo(n,e){n.classList?.add(e)}function Zh(n,e){n.classList?.remove(e)}function _3e(n,e,t){Rc(t).onDone(()=>n.processLeaveNode(e))}function lZ(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof zY?lZ(i.players,e):e.push(i)}}function uZ(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class p_{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new f3e(e.body,t,i,r),this._timelineEngine=new o3e(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],u=tF(this._driver,o,c,[]);if(c.length)throw function cLe(n,e){return new z(3404,!1)}();a=function t3e(n,e,t){return new n3e(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=zX(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=zX(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class g_{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=g_.initialStylesByElement.get(e);r||g_.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ns(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ns(this._element,this._initialStyles),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g_.initialStylesByElement.delete(this._element),this._startStyles&&(du(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(du(this._element,this._endStyles),this._endStyles=null),Ns(this._element,this._initialStyles),this._state=3)}}function dF(n){let e=null;return n.forEach((t,i)=>{(function w3e(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class dZ{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:eF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class hZ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return HX(e,t)}getParentElement(e){return G2(e)}query(e,t,i){return $X(e,t,i)}computeStyle(e,t,i){return eF(e,t)}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof dZ);(function OLe(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((y,C)=>l.set(C,y))});let d=function SLe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));d=function PLe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,eF(n,a)))}}return e}(e,d,l);const h=function v3e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=dF(e[0]),e.length>1&&(i=dF(e[e.length-1]))):e instanceof Map&&(t=dF(e)),t||i?new g_(n,t,i):null}(e,d);return new dZ(e,d,c,h)}}const fZ="@.disabled";class pZ{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==fZ?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class x3e extends pZ{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fZ?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function C3e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function E3e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class I3e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let u=l.get(r);return u||(u=new pZ("",r,this.engine,()=>l.delete(r)),l.set(r,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new x3e(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let T3e=(()=>{class n extends p_{constructor(t,i,r){super(t,i,r,J(GE,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(H(dt),H(W2),H(K2))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const gZ=[{provide:K2,useFactory:function M3e(){return new QX}},{provide:p_,useClass:T3e},{provide:qE,useFactory:function D3e(n,e,t){return new I3e(n,e,t)},deps:[FI,p_,Me]}],hF=[{provide:W2,useFactory:()=>new hZ},{provide:Hc,useValue:"BrowserAnimations"},...gZ],mZ=[{provide:W2,useClass:q2},{provide:Hc,useValue:"NoopAnimations"},...gZ];let S3e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?mZ:hF}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:hF,imports:[Nz]})}}return n})();const A3e=n=>()=>n.initPwaPrompt();let k3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Je({type:n,bootstrap:[EDe]})}static{this.\u0275inj=Ze({providers:[{provide:Ba,useClass:XU},{provide:lp,useFactory:A3e,deps:[J2e],multi:!0}],imports:[V2e,VX,UFe,VX,Y2e,S3e,Ua,Rr,Nz,BR,Ep,yDe,D0e(()=>S0e(IDe_firebase)),hEe(()=>Vo()),Xke(()=>Zke()),cDe(()=>{const t=uDe();return lDe(t),t}),COe(()=>EOe()),zNe,qNe,w2e,ix,i2e.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}}return n})();bhe().bootstrapModule(k3e).catch(n=>console.error(n))},1874:(Te,S,N)=>{var m=ce(N(3209)),R=ce(N(3931)),K=ce(N(9246)),U=ce(N(8084)),_=ce(N(2042)),x=ce(N(1951)),T=ce(N(650)),A=N(1498),ee=ce(N(5482));function ce(Qe){return Qe&&Qe.__esModule?Qe:{default:Qe}}var fe=function(){},Wt=function(Kt,An,an){var gn=new fe;if(typeof Kt>"u")throw Error("No element to render on was provided.");return gn._renderProperties=(0,_.default)(Kt),gn._encodings=[],gn._options=ee.default,gn._errorHandler=new T.default(gn),typeof An<"u"&&((an=an||{}).format||(an.format=Fc()),gn.options(an)[an.format](An,an).render()),gn};for(var dr in Wt.getModule=function(Qe){return m.default[Qe]},m.default)m.default.hasOwnProperty(dr)&&Eo(m.default,dr);function Eo(Qe,Kt){fe.prototype[Kt]=fe.prototype[Kt.toUpperCase()]=fe.prototype[Kt.toLowerCase()]=function(An,an){var gn=this;return gn._errorHandler.wrapBarcodeCall(function(){an.text=typeof an.text>"u"?void 0:""+an.text;var Er=(0,R.default)(gn._options,an);Er=(0,x.default)(Er);var pF=xa(An,Qe[Kt],Er);return gn._encodings.push(pF),gn})}}function xa(Qe,Kt,An){var an=new Kt(Qe=""+Qe,An);if(!an.valid())throw new A.InvalidInputException(an.constructor.name,Qe);var gn=an.encode();gn=(0,K.default)(gn);for(var Er=0;Er<gn.length;Er++)gn[Er].options=(0,R.default)(An,gn[Er].options);return gn}function Fc(){return m.default.CODE128?"CODE128":Object.keys(m.default)[0]}function Ls(Qe,Kt,An){Kt=(0,K.default)(Kt);for(var an=0;an<Kt.length;an++)Kt[an].options=(0,R.default)(An,Kt[an].options),(0,U.default)(Kt[an].options);(0,U.default)(An),new(0,Qe.renderer)(Qe.element,Kt,An).render(),Qe.afterRender&&Qe.afterRender()}fe.prototype.options=function(Qe){return this._options=(0,R.default)(this._options,Qe),this},fe.prototype.blank=function(Qe){var Kt=new Array(Qe+1).join("0");return this._encodings.push({data:Kt}),this},fe.prototype.init=function(){var Qe;if(this._renderProperties)for(var Kt in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var An=(0,R.default)(this._options,(Qe=this._renderProperties[Kt]).options);"auto"==An.format&&(An.format=Fc()),this._errorHandler.wrapBarcodeCall(function(){var Er=xa(An.value,m.default[An.format.toUpperCase()],An);Ls(Qe,Er,An)})}},fe.prototype.render=function(){if(!this._renderProperties)throw new A.NoElementException;if(Array.isArray(this._renderProperties))for(var Qe=0;Qe<this._renderProperties.length;Qe++)Ls(this._renderProperties[Qe],this._encodings,this._options);else Ls(this._renderProperties,this._encodings,this._options);return this},fe.prototype._defaults=ee.default,typeof window<"u"&&(window.JsBarcode=Wt),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Qe,Kt){var An=[];return jQuery(this).each(function(){An.push(this)}),Wt(An,Qe,Kt)}),Te.exports=Wt},2933:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function m(j,R){(function N(m,j){if(!(m instanceof j))throw new TypeError("Cannot call a class as a function")})(this,m),this.data=j,this.text=R.text||j,this.options=R}},3166:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function _(b,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,x,w){return x&&_(b.prototype,x),w&&_(b,w),b}}(),j=function G(_){return _&&_.__esModule?_:{default:_}}(N(2933)),R=N(9973),M=function(_){function b(x,w){!function K(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var T=function P(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?_:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x.substring(1),w));return T.bytes=x.split("").map(function(A){return A.charCodeAt(0)}),T}return function U(_,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(b,_),$(b,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var w=this.bytes,T=w.shift()-105,A=R.SET_BY_CODE[T];if(void 0===A)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&w.unshift(R.FNC1);var O=b.next(w,1,A);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:b.getBar(T)+O.result+b.getBar((O.checksum+T)%R.MODULO)+b.getBar(R.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var w=this.options.ean128||!1;return"string"==typeof w&&(w="true"===w.toLowerCase()),w}}],[{key:"getBar",value:function(w){return R.BARS[w]?R.BARS[w].toString():""}},{key:"correctIndex",value:function(w,T){if(T===R.SET_A){var A=w.shift();return A<32?A+64:A-32}return T===R.SET_B?w.shift()-32:10*(w.shift()-48)+w.shift()-48}},{key:"next",value:function(w,T,A){if(!w.length)return{result:"",checksum:0};var O=void 0,ee=void 0;if(w[0]>=200){ee=w.shift()-105;var ce=R.SWAP[ee];void 0!==ce?O=b.next(w,T+1,ce):((A===R.SET_A||A===R.SET_B)&&ee===R.SHIFT&&(w[0]=A===R.SET_A?w[0]>95?w[0]-96:w[0]:w[0]<32?w[0]+96:w[0]),O=b.next(w,T+1,A))}else ee=b.correctIndex(w,A),O=b.next(w,T+1,A);return{result:b.getBar(ee)+O.result,checksum:ee*T+O.checksum}}}]),b}(j.default);S.default=M},4675:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function _(b,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,x,w){return x&&_(b.prototype,x),w&&_(b,w),b}}(),j=function G(_){return _&&_.__esModule?_:{default:_}}(N(3166)),R=N(9973),M=function(_){function b(x,w){return function K(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function P(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?_:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,R.A_START_CHAR+x,w))}return function U(_,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(b,_),$(b,[{key:"valid",value:function(){return new RegExp("^"+R.A_CHARS+"+$").test(this.data)}}]),b}(j.default);S.default=M},4502:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function _(b,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,x,w){return x&&_(b.prototype,x),w&&_(b,w),b}}(),j=function G(_){return _&&_.__esModule?_:{default:_}}(N(3166)),R=N(9973),M=function(_){function b(x,w){return function K(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function P(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?_:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,R.B_START_CHAR+x,w))}return function U(_,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(b,_),$(b,[{key:"valid",value:function(){return new RegExp("^"+R.B_CHARS+"+$").test(this.data)}}]),b}(j.default);S.default=M},2693:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function _(b,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,x,w){return x&&_(b.prototype,x),w&&_(b,w),b}}(),j=function G(_){return _&&_.__esModule?_:{default:_}}(N(3166)),R=N(9973),M=function(_){function b(x,w){return function K(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function P(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?_:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,R.C_START_CHAR+x,w))}return function U(_,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(b,_),$(b,[{key:"valid",value:function(){return new RegExp("^"+R.C_CHARS+"+$").test(this.data)}}]),b}(j.default);S.default=M},714:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var m=G(N(3166)),R=G(N(5113));function G(_){return _&&_.__esModule?_:{default:_}}function P(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?_:b}var M=function(_){function b(x,w){if(function K(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),/^[\x00-\x7F\xC8-\xD3]+$/.test(x))var T=P(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,(0,R.default)(x),w));else T=P(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,w));return P(T)}return function U(_,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(b,_),b}(m.default);S.default=M},5113:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=N(9973),m=function(U){return U.match(new RegExp("^"+$.A_CHARS+"*"))[0].length},j=function(U){return U.match(new RegExp("^"+$.B_CHARS+"*"))[0].length},R=function(U){return U.match(new RegExp("^"+$.C_CHARS+"*"))[0]};function G(P,U){var M=U?$.A_CHARS:$.B_CHARS,_=P.match(new RegExp("^("+M+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(_)return _[1]+"\xcc"+K(P.substring(_[1].length));var b=P.match(new RegExp("^"+M+"+"))[0];return b.length===P.length?P:b+String.fromCharCode(U?205:206)+G(P.substring(b.length),!U)}function K(P){var U=R(P),M=U.length;if(M===P.length)return P;P=P.substring(M);var _=m(P)>=j(P);return U+String.fromCharCode(_?206:205)+G(P,_)}S.default=function(P){var U=void 0;if(R(P).length>=2)U=$.C_START_CHAR+K(P);else{var _=m(P)>j(P);U=(_?$.A_START_CHAR:$.B_START_CHAR)+G(P,_)}return U.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(b,x){return"\xcb"+x})}},9973:(Te,S)=>{var N;function $(dr,Eo,xa){return Eo in dr?Object.defineProperty(dr,Eo,{value:xa,enumerable:!0,configurable:!0,writable:!0}):dr[Eo]=xa,dr}Object.defineProperty(S,"__esModule",{value:!0});var m=S.SET_A=0,j=S.SET_B=1,R=S.SET_C=2,K=(S.SHIFT=98,S.START_A=103),P=S.START_B=104,U=S.START_C=105;S.MODULO=103,S.STOP=106,S.FNC1=207,S.SET_BY_CODE=($(N={},K,m),$(N,P,j),$(N,U,R),N),S.SWAP={101:m,100:j,99:R},S.A_START_CHAR="\xd0",S.B_START_CHAR="\xd1",S.C_START_CHAR="\xd2",S.A_CHARS="[\0-_\xc8-\xcf]",S.B_CHARS="[ -\x7f\xc8-\xcf]",S.C_CHARS="(\xcf*[0-9]{2}\xcf*)",S.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},9152:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE128C=S.CODE128B=S.CODE128A=S.CODE128=void 0;var m=M(N(714)),R=M(N(4675)),K=M(N(4502)),U=M(N(2693));function M(_){return _&&_.__esModule?_:{default:_}}S.CODE128=m.default,S.CODE128A=R.default,S.CODE128B=K.default,S.CODE128C=U.default},3803:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE39=void 0;var $=function(){function O(ee,ce){for(var fe=0;fe<ce.length;fe++){var Wt=ce[fe];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(ee,Wt.key,Wt)}}return function(ee,ce,fe){return ce&&O(ee.prototype,ce),fe&&O(ee,fe),ee}}(),U=function(O){function ee(ce,fe){return function G(O,ee){if(!(O instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,ee),ce=ce.toUpperCase(),fe.mod43&&(ce+=function w(O){return M[O]}(function A(O){for(var ee=0,ce=0;ce<O.length;ce++)ee+=T(O[ce]);return ee%=43}(ce))),function K(O,ee){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||"object"!=typeof ee&&"function"!=typeof ee?O:ee}(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,ce,fe))}return function P(O,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);O.prototype=Object.create(ee&&ee.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(O,ee):O.__proto__=ee)}(ee,O),$(ee,[{key:"encode",value:function(){for(var fe=b("*"),Wt=0;Wt<this.data.length;Wt++)fe+=b(this.data[Wt])+"0";return{data:fe+=b("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),ee}(function R(O){return O&&O.__esModule?O:{default:O}}(N(2933)).default),M=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],_=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function b(O){return function x(O){return _[O].toString(2)}(T(O))}function T(O){return M.indexOf(O)}S.CODE39=U},7331:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function x(w,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,T,A){return T&&x(w.prototype,T),A&&x(w,A),w}}(),m=N(2846),R=P(N(2143));function P(x){return x&&x.__esModule?x:{default:x}}var b=function(x){function w(T,A){!function U(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var O=function M(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,A));return O.fontSize=!A.flat&&A.fontSize>10*A.width?10*A.width:A.fontSize,O.guardHeight=A.height+O.fontSize/2+A.textMargin,O}return function _(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),$(w,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(A,O){return this.text.substr(A,O)}},{key:"leftEncode",value:function(A,O){return(0,R.default)(A,O)}},{key:"rightText",value:function(A,O){return this.text.substr(A,O)}},{key:"rightEncode",value:function(A,O){return(0,R.default)(A,O)}},{key:"encodeGuarded",value:function(){var A={fontSize:this.fontSize},O={height:this.guardHeight};return[{data:m.SIDE_BIN,options:O},{data:this.leftEncode(),text:this.leftText(),options:A},{data:m.MIDDLE_BIN,options:O},{data:this.rightEncode(),text:this.rightText(),options:A},{data:m.SIDE_BIN,options:O}]}},{key:"encodeFlat",value:function(){return{data:[m.SIDE_BIN,this.leftEncode(),m.MIDDLE_BIN,this.rightEncode(),m.SIDE_BIN].join(""),text:this.text}}}]),w}(P(N(2933)).default);S.default=b},7779:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function x(w,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,T,A){return T&&x(w.prototype,T),A&&x(w,A),w}}(),m=function x(w,T,A){null===w&&(w=Function.prototype);var O=Object.getOwnPropertyDescriptor(w,T);if(void 0===O){var ee=Object.getPrototypeOf(w);return null===ee?void 0:x(ee,T,A)}if("value"in O)return O.value;var ce=O.get;return void 0===ce?void 0:ce.call(A)},j=N(2846),G=function K(x){return x&&x.__esModule?x:{default:x}}(N(7331)),_=function(w){return(10-w.substr(0,12).split("").map(function(A){return+A}).reduce(function(A,O,ee){return ee%2?A+3*O:A+O},0)%10)%10},b=function(x){function w(T,A){(function P(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")})(this,w),-1!==T.search(/^[0-9]{12}$/)&&(T+=_(T));var O=function U(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,A));return O.lastChar=A.lastChar,O}return function M(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),$(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===_(this.data)}},{key:"leftText",value:function(){return m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var A=this.data.substr(1,6),O=j.EAN13_STRUCTURE[this.data[0]];return m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftEncode",this).call(this,A,O)}},{key:"rightText",value:function(){return m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var A=this.data.substr(7,6);return m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightEncode",this).call(this,A,"RRRRRR")}},{key:"encodeGuarded",value:function(){var A=m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(A.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(A.push({data:"00"}),A.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),A}}]),w}(G.default);S.default=b},197:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function x(w,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,T,A){return T&&x(w.prototype,T),A&&x(w,A),w}}(),m=N(2846),R=P(N(2143));function P(x){return x&&x.__esModule?x:{default:x}}var b=function(x){function w(T,A){return function U(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w),function M(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,A))}return function _(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),$(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var A=m.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,R.default)(this.data,A,"01"),text:this.text}}}]),w}(P(N(2933)).default);S.default=b},6400:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function w(T,A){for(var O=0;O<A.length;O++){var ee=A[O];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(T,ee.key,ee)}}return function(T,A,O){return A&&w(T.prototype,A),O&&w(T,O),T}}(),m=N(2846),R=P(N(2143));function P(w){return w&&w.__esModule?w:{default:w}}var x=function(w){function T(A,O){return function U(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}(this,T),function M(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?w:T}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,O))}return function _(w,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}(T,w),$(T,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var O=m.EAN5_STRUCTURE[function(T){return T.split("").map(function(O){return+O}).reduce(function(O,ee,ce){return ce%2?O+9*ee:O+3*ee},0)%10}(this.data)];return{data:"1011"+(0,R.default)(this.data,O,"01"),text:this.text}}}]),T}(P(N(2933)).default);S.default=x},2587:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function b(x,w){for(var T=0;T<w.length;T++){var A=w[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,w,T){return w&&b(x.prototype,w),T&&b(x,T),x}}(),m=function b(x,w,T){null===x&&(x=Function.prototype);var A=Object.getOwnPropertyDescriptor(x,w);if(void 0===A){var O=Object.getPrototypeOf(x);return null===O?void 0:b(O,w,T)}if("value"in A)return A.value;var ee=A.get;return void 0===ee?void 0:ee.call(T)},R=function G(b){return b&&b.__esModule?b:{default:b}}(N(7331)),M=function(x){return(10-x.substr(0,7).split("").map(function(T){return+T}).reduce(function(T,A,O){return O%2?T+A:T+3*A},0)%10)%10},_=function(b){function x(w,T){return function K(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),-1!==w.search(/^[0-9]{7}$/)&&(w+=M(w)),function P(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?b:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w,T))}return function U(b,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}(x,b),$(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===M(this.data)}},{key:"leftText",value:function(){return m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var T=this.data.substr(0,4);return m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,T,"LLLL")}},{key:"rightText",value:function(){return m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var T=this.data.substr(4,4);return m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,T,"RRRR")}}]),x}(R.default);S.default=_},1541:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function x(w,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,T,A){return T&&x(w.prototype,T),A&&x(w,A),w}}();S.checksum=b;var j=K(N(2143));function K(x){return x&&x.__esModule?x:{default:x}}var _=function(x){function w(T,A){(function P(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")})(this,w),-1!==T.search(/^[0-9]{11}$/)&&(T+=b(T));var O=function U(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T,A));return O.displayValue=A.displayValue,O.fontSize=A.fontSize>10*A.width?10*A.width:A.fontSize,O.guardHeight=A.height+O.fontSize/2+A.textMargin,O}return function M(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),$(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==b(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var A="";return A+="101",A+=(0,j.default)(this.data.substr(0,6),"LLLLLL"),A+="01010",A+=(0,j.default)(this.data.substr(6,6),"RRRRRR"),{data:A+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var A=[];return this.displayValue&&A.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),A.push({data:"101"+(0,j.default)(this.data[0],"L"),options:{height:this.guardHeight}}),A.push({data:(0,j.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),A.push({data:"01010",options:{height:this.guardHeight}}),A.push({data:(0,j.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),A.push({data:(0,j.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&A.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),A}}]),w}(K(N(2933)).default);function b(x){var T,w=0;for(T=1;T<11;T+=2)w+=parseInt(x[T]);for(T=0;T<11;T+=2)w+=3*parseInt(x[T]);return(10-w%10)%10}S.default=_},7638:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function A(O,ee){for(var ce=0;ce<ee.length;ce++){var fe=ee[ce];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(O,fe.key,fe)}}return function(O,ee,ce){return ee&&A(O.prototype,ee),ce&&A(O,ce),O}}(),j=P(N(2143)),G=P(N(2933)),K=N(1541);function P(A){return A&&A.__esModule?A:{default:A}}function M(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?A:O}var b=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],x=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],w=function(A){function O(ee,ce){!function U(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var fe=M(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,ee,ce));if(fe.isValid=!1,-1!==ee.search(/^[0-9]{6}$/))fe.middleDigits=ee,fe.upcA=T(ee,"0"),fe.text=ce.text||""+fe.upcA[0]+ee+fe.upcA[fe.upcA.length-1],fe.isValid=!0;else{if(-1===ee.search(/^[01][0-9]{7}$/))return M(fe);if(fe.middleDigits=ee.substring(1,ee.length-1),fe.upcA=T(fe.middleDigits,ee[0]),fe.upcA[fe.upcA.length-1]!==ee[ee.length-1])return M(fe);fe.isValid=!0}return fe.displayValue=ce.displayValue,fe.fontSize=ce.fontSize>10*ce.width?10*ce.width:ce.fontSize,fe.guardHeight=ce.height+fe.fontSize/2+ce.textMargin,fe}return function _(A,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}(O,A),$(O,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var ce="";return ce+="101",ce+=this.encodeMiddleDigits(),{data:ce+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var ce=[];return this.displayValue&&ce.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),ce.push({data:"101",options:{height:this.guardHeight}}),ce.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),ce.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&ce.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),ce}},{key:"encodeMiddleDigits",value:function(){var ce=this.upcA[0],Wt=x[parseInt(this.upcA[this.upcA.length-1])][parseInt(ce)];return(0,j.default)(this.middleDigits,Wt)}}]),O}(G.default);function T(A,O){for(var ee=parseInt(A[A.length-1]),ce=b[ee],fe="",Wt=0,dr=0;dr<ce.length;dr++){var Eo=ce[dr];fe+="X"===Eo?A[Wt++]:Eo}return(fe=""+O+fe)+(0,K.checksum)(fe)}S.default=w},2846:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SIDE_BIN="101",S.MIDDLE_BIN="01010",S.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},S.EAN2_STRUCTURE=["LL","LG","GL","GG"],S.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],S.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2143:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=N(2846);S.default=function(R,G,K){var P=R.split("").map(function(M,_){return $.BINARIES[G[_]]}).map(function(M,_){return M?M[R[_]]:""});if(K){var U=R.length-1;P=P.map(function(M,_){return _<U?M+K:M})}return P.join("")}},9995:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.UPCE=S.UPC=S.EAN2=S.EAN5=S.EAN8=S.EAN13=void 0;var m=w(N(7779)),R=w(N(2587)),K=w(N(6400)),U=w(N(197)),_=w(N(1541)),x=w(N(7638));function w(T){return T&&T.__esModule?T:{default:T}}S.EAN13=m.default,S.EAN8=R.default,S.EAN5=K.default,S.EAN2=U.default,S.UPC=_.default,S.UPCE=x.default},9257:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.GenericBarcode=void 0;var $=function(){function M(_,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,x){return b&&M(_.prototype,b),x&&M(_,x),_}}(),U=function(M){function _(b,x){return function G(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),function K(M,_){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?M:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b,x))}return function P(M,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);M.prototype=Object.create(_&&_.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(M,_):M.__proto__=_)}(_,M),$(_,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),_}(function R(M){return M&&M.__esModule?M:{default:M}}(N(2933)).default);S.GenericBarcode=U},3534:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function _(b,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,x,w){return x&&_(b.prototype,x),w&&_(b,w),b}}(),m=N(2218),M=function(_){function b(){return function K(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function P(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?_:b}(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return function U(_,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(b,_),$(b,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var w=this,T=this.data.match(/.{2}/g).map(function(A){return w.encodePair(A)}).join("");return{data:m.START_BIN+T+m.END_BIN,text:this.text}}},{key:"encodePair",value:function(w){var T=m.BINARIES[w[1]];return m.BINARIES[w[0]].split("").map(function(A,O){return("1"===A?"111":"1")+("1"===T[O]?"000":"0")}).join("")}}]),b}(function G(_){return _&&_.__esModule?_:{default:_}}(N(2933)).default);S.default=M},6023:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function _(b,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,x,w){return x&&_(b.prototype,x),w&&_(b,w),b}}(),j=function R(_){return _&&_.__esModule?_:{default:_}}(N(3534)),U=function(b){var x=b.substr(0,13).split("").map(function(w){return parseInt(w,10)}).reduce(function(w,T,A){return w+T*(3-A%2*2)},0);return 10*Math.ceil(x/10)-x},M=function(_){function b(x,w){return function G(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),-1!==x.search(/^[0-9]{13}$/)&&(x+=U(x)),function K(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?_:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,w))}return function P(_,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(b,_),$(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===U(this.data)}}]),b}(j.default);S.default=M},2218:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.START_BIN="1010",S.END_BIN="11101",S.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},9319:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ITF14=S.ITF=void 0;var m=G(N(3534)),R=G(N(6023));function G(K){return K&&K.__esModule?K:{default:K}}S.ITF=m.default,S.ITF14=R.default},8778:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function _(b,x){for(var w=0;w<x.length;w++){var T=x[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,x,w){return x&&_(b.prototype,x),w&&_(b,w),b}}(),U=function(_){function b(x,w){return function G(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function K(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?_:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,w))}return function P(_,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(b,_),$(b,[{key:"encode",value:function(){for(var w="110",T=0;T<this.data.length;T++){var O=parseInt(this.data[T]).toString(2);O=M(O,4-O.length);for(var ee=0;ee<O.length;ee++)w+="0"==O[ee]?"100":"110"}return{data:w+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),b}(function R(_){return _&&_.__esModule?_:{default:_}}(N(2933)).default);function M(_,b){for(var x=0;x<b;x++)_="0"+_;return _}S.default=U},3167:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var m=function R(M){return M&&M.__esModule?M:{default:M}}(N(8778)),j=N(2821),U=function(M){function _(b,x){return function G(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),function K(M,_){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?M:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b+(0,j.mod10)(b),x))}return function P(M,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);M.prototype=Object.create(_&&_.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(M,_):M.__proto__=_)}(_,M),_}(m.default);S.default=U},1522:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var m=function R(M){return M&&M.__esModule?M:{default:M}}(N(8778)),j=N(2821),U=function(M){function _(b,x){return function G(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),b+=(0,j.mod10)(b),b+=(0,j.mod10)(b),function K(M,_){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?M:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b,x))}return function P(M,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);M.prototype=Object.create(_&&_.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(M,_):M.__proto__=_)}(_,M),_}(m.default);S.default=U},8552:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var m=function R(M){return M&&M.__esModule?M:{default:M}}(N(8778)),j=N(2821),U=function(M){function _(b,x){return function G(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),function K(M,_){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?M:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b+(0,j.mod11)(b),x))}return function P(M,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);M.prototype=Object.create(_&&_.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(M,_):M.__proto__=_)}(_,M),_}(m.default);S.default=U},677:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var m=function R(M){return M&&M.__esModule?M:{default:M}}(N(8778)),j=N(2821),U=function(M){function _(b,x){return function G(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),b+=(0,j.mod11)(b),b+=(0,j.mod10)(b),function K(M,_){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?M:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b,x))}return function P(M,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);M.prototype=Object.create(_&&_.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(M,_):M.__proto__=_)}(_,M),_}(m.default);S.default=U},2821:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.mod10=function N(m){for(var j=0,R=0;R<m.length;R++){var G=parseInt(m[R]);j+=(R+m.length)%2==0?G:2*G%10+Math.floor(2*G/10)}return(10-j%10)%10},S.mod11=function $(m){for(var j=0,R=[2,3,4,5,6,7],G=0;G<m.length;G++){var K=parseInt(m[m.length-1-G]);j+=R[G%R.length]*K}return(11-j%11)%11}},3641:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MSI1110=S.MSI1010=S.MSI11=S.MSI10=S.MSI=void 0;var m=b(N(8778)),R=b(N(3167)),K=b(N(8552)),U=b(N(1522)),_=b(N(677));function b(x){return x&&x.__esModule?x:{default:x}}S.MSI=m.default,S.MSI10=R.default,S.MSI11=K.default,S.MSI1010=U.default,S.MSI1110=_.default},9468:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.codabar=void 0;var $=function(){function M(_,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,x){return b&&M(_.prototype,b),x&&M(_,x),_}}(),U=function(M){function _(b,x){(function G(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")})(this,_),0===b.search(/^[0-9\-\$\:\.\+\/]+$/)&&(b="A"+b+"A");var w=function K(M,_){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?M:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b.toUpperCase(),x));return w.text=w.options.text||w.text.replace(/[A-D]/g,""),w}return function P(M,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);M.prototype=Object.create(_&&_.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(M,_):M.__proto__=_)}(_,M),$(_,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var x=[],w=this.getEncodings(),T=0;T<this.data.length;T++)x.push(w[this.data.charAt(T)]),T!==this.data.length-1&&x.push("0");return{text:this.text,data:x.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),_}(function R(M){return M&&M.__esModule?M:{default:M}}(N(2933)).default);S.codabar=U},3209:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=N(3803),m=N(9152),j=N(9995),R=N(9319),G=N(3641),K=N(4322),P=N(9468),U=N(9257);S.default={CODE39:$.CODE39,CODE128:m.CODE128,CODE128A:m.CODE128A,CODE128B:m.CODE128B,CODE128C:m.CODE128C,EAN13:j.EAN13,EAN8:j.EAN8,EAN5:j.EAN5,EAN2:j.EAN2,UPC:j.UPC,UPCE:j.UPCE,ITF14:R.ITF14,ITF:R.ITF,MSI:G.MSI,MSI10:G.MSI10,MSI11:G.MSI11,MSI1010:G.MSI1010,MSI1110:G.MSI1110,pharmacode:K.pharmacode,codabar:P.codabar,GenericBarcode:U.GenericBarcode}},4322:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.pharmacode=void 0;var $=function(){function M(_,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,x){return b&&M(_.prototype,b),x&&M(_,x),_}}(),U=function(M){function _(b,x){!function G(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_);var w=function K(M,_){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?M:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b,x));return w.number=parseInt(b,10),w}return function P(M,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);M.prototype=Object.create(_&&_.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(M,_):M.__proto__=_)}(_,M),$(_,[{key:"encode",value:function(){for(var x=this.number,w="";!isNaN(x)&&0!=x;)x%2==0?(w="11100"+w,x=(x-2)/2):(w="100"+w,x=(x-1)/2);return{data:w=w.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),_}(function R(M){return M&&M.__esModule?M:{default:M}}(N(2933)).default);S.pharmacode=U},650:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=function(){function j(R,G){for(var K=0;K<G.length;K++){var P=G[K];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,G,K){return G&&j(R.prototype,G),K&&j(R,K),R}}(),m=function(){function j(R){(function $(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")})(this,j),this.api=R}return N(j,[{key:"handleCatch",value:function(G){if("InvalidInputException"!==G.name)throw G;if(this.api._options.valid===this.api._defaults.valid)throw G.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(G){try{var K=G.apply(void 0,arguments);return this.api._options.valid(!0),K}catch(P){return this.handleCatch(P),this.api}}}]),j}();S.default=m},1498:(Te,S)=>{function N(K,P){if(!(K instanceof P))throw new TypeError("Cannot call a class as a function")}function $(K,P){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?K:P}function m(K,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);K.prototype=Object.create(P&&P.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(K,P):K.__proto__=P)}Object.defineProperty(S,"__esModule",{value:!0});var j=function(K){function P(U,M){N(this,P);var _=$(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return _.name="InvalidInputException",_.symbology=U,_.input=M,_.message='"'+_.input+'" is not a valid input for '+_.symbology,_}return m(P,Error),P}(),R=function(K){function P(){N(this,P);var U=$(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return U.name="InvalidElementException",U.message="Not supported type to render on",U}return m(P,Error),P}(),G=function(K){function P(){N(this,P);var U=$(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return U.name="NoElementException",U.message="No element to render on.",U}return m(P,Error),P}();S.InvalidInputException=j,S.InvalidElementException=R,S.NoElementException=G},8084:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N($){return $.marginTop=$.marginTop||$.margin,$.marginBottom=$.marginBottom||$.margin,$.marginRight=$.marginRight||$.margin,$.marginLeft=$.marginLeft||$.margin,$}},329:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var m=G(N(1951)),R=G(N(5482));function G(P){return P&&P.__esModule?P:{default:P}}S.default=function K(P){var U={};for(var M in R.default)R.default.hasOwnProperty(M)&&(P.hasAttribute("jsbarcode-"+M.toLowerCase())&&(U[M]=P.getAttribute("jsbarcode-"+M.toLowerCase())),P.hasAttribute("data-"+M.toLowerCase())&&(U[M]=P.getAttribute("data-"+M.toLowerCase())));return U.value=P.getAttribute("jsbarcode-value")||P.getAttribute("data-value"),(0,m.default)(U)}},2042:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},j=P(N(329)),G=P(N(2368)),K=N(1498);function P(b){return b&&b.__esModule?b:{default:b}}S.default=function U(b){if("string"==typeof b)return function M(b){var x=document.querySelectorAll(b);if(0!==x.length){for(var w=[],T=0;T<x.length;T++)w.push(U(x[T]));return w}}(b);if(Array.isArray(b)){for(var x=[],w=0;w<b.length;w++)x.push(U(b[w]));return x}if(typeof HTMLCanvasElement<"u"&&b instanceof HTMLImageElement)return function _(b){var x=document.createElement("canvas");return{element:x,options:(0,j.default)(b),renderer:G.default.CanvasRenderer,afterRender:function(){b.setAttribute("src",x.toDataURL())}}}(b);if(b&&b.nodeName&&"svg"===b.nodeName.toLowerCase()||typeof SVGElement<"u"&&b instanceof SVGElement)return{element:b,options:(0,j.default)(b),renderer:G.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&b instanceof HTMLCanvasElement)return{element:b,options:(0,j.default)(b),renderer:G.default.CanvasRenderer};if(b&&b.getContext)return{element:b,renderer:G.default.CanvasRenderer};if(b&&"object"===(typeof b>"u"?"undefined":$(b))&&!b.nodeName)return{element:b,renderer:G.default.ObjectRenderer};throw new K.InvalidElementException}},9246:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N($){var m=[];return function j(R){if(Array.isArray(R))for(var G=0;G<R.length;G++)j(R[G]);else R.text=R.text||"",R.data=R.data||"",m.push(R)}($),m}},3931:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=Object.assign||function($){for(var m=1;m<arguments.length;m++){var j=arguments[m];for(var R in j)Object.prototype.hasOwnProperty.call(j,R)&&($[R]=j[R])}return $};S.default=function($,m){return N({},$,m)}},1951:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N($){var m=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var j in m)m.hasOwnProperty(j)&&"string"==typeof $[j=m[j]]&&($[j]=parseInt($[j],10));return"string"==typeof $.displayValue&&($.displayValue="false"!=$.displayValue),$}},5482:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8682:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function U(M,_){for(var b=0;b<_.length;b++){var x=_[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(M,x.key,x)}}return function(M,_,b){return _&&U(M.prototype,_),b&&U(M,b),M}}(),j=function G(U){return U&&U.__esModule?U:{default:U}}(N(3931)),R=N(2283),P=function(){function U(M,_,b){(function K(U,M){if(!(U instanceof M))throw new TypeError("Cannot call a class as a function")})(this,U),this.canvas=M,this.encodings=_,this.options=b}return $(U,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var _=0;_<this.encodings.length;_++){var b=(0,j.default)(this.options,this.encodings[_].options);this.drawCanvasBarcode(b,this.encodings[_]),this.drawCanvasText(b,this.encodings[_]),this.moveCanvasDrawing(this.encodings[_])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var _=this.canvas.getContext("2d");_.save(),(0,R.calculateEncodingAttributes)(this.encodings,this.options,_);var b=(0,R.getTotalWidthOfEncodings)(this.encodings),x=(0,R.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=b+this.options.marginLeft+this.options.marginRight,this.canvas.height=x,_.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(_.fillStyle=this.options.background,_.fillRect(0,0,this.canvas.width,this.canvas.height)),_.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(_,b){var T,x=this.canvas.getContext("2d"),w=b.data;T="top"==_.textPosition?_.marginTop+_.fontSize+_.textMargin:_.marginTop,x.fillStyle=_.lineColor;for(var A=0;A<w.length;A++){var O=A*_.width+b.barcodePadding;"1"===w[A]?x.fillRect(O,T,_.width,_.height):w[A]&&x.fillRect(O,T,_.width,_.height*w[A])}}},{key:"drawCanvasText",value:function(_,b){var T,A,x=this.canvas.getContext("2d");_.displayValue&&(A="top"==_.textPosition?_.marginTop+_.fontSize-_.textMargin:_.height+_.textMargin+_.marginTop+_.fontSize,x.font=_.fontOptions+" "+_.fontSize+"px "+_.font,"left"==_.textAlign||b.barcodePadding>0?(T=0,x.textAlign="left"):"right"==_.textAlign?(T=b.width-1,x.textAlign="right"):(T=b.width/2,x.textAlign="center"),x.fillText(b.text,T,A))}},{key:"moveCanvasDrawing",value:function(_){this.canvas.getContext("2d").translate(_.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),U}();S.default=P},2368:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var m=P(N(8682)),R=P(N(1538)),K=P(N(1045));function P(U){return U&&U.__esModule?U:{default:U}}S.default={CanvasRenderer:m.default,SVGRenderer:R.default,ObjectRenderer:K.default}},1045:(Te,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=function(){function j(R,G){for(var K=0;K<G.length;K++){var P=G[K];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,G,K){return G&&j(R.prototype,G),K&&j(R,K),R}}(),m=function(){function j(R,G,K){(function $(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")})(this,j),this.object=R,this.encodings=G,this.options=K}return N(j,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),j}();S.default=m},2283:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getTotalWidthOfEncodings=S.calculateEncodingAttributes=S.getBarcodePadding=S.getEncodingHeight=S.getMaximumHeightOfEncodings=void 0;var m=function j(_){return _&&_.__esModule?_:{default:_}}(N(3931));function R(_,b){return b.height+(b.displayValue&&_.text.length>0?b.fontSize+b.textMargin:0)+b.marginTop+b.marginBottom}function G(_,b,x){if(x.displayValue&&b<_){if("center"==x.textAlign)return Math.floor((_-b)/2);if("left"==x.textAlign)return 0;if("right"==x.textAlign)return Math.floor(_-b)}return 0}function M(_,b,x){var w;if(x)w=x;else{if(!(typeof document<"u"))return 0;w=document.createElement("canvas").getContext("2d")}w.font=b.fontOptions+" "+b.fontSize+"px "+b.font;var T=w.measureText(_);return T?T.width:0}S.getMaximumHeightOfEncodings=function U(_){for(var b=0,x=0;x<_.length;x++)_[x].height>b&&(b=_[x].height);return b},S.getEncodingHeight=R,S.getBarcodePadding=G,S.calculateEncodingAttributes=function K(_,b,x){for(var w=0;w<_.length;w++){var O,T=_[w],A=(0,m.default)(b,T.options);O=A.displayValue?M(T.text,A,x):0;var ee=T.data.length*A.width;T.width=Math.ceil(Math.max(O,ee)),T.height=R(T,A),T.barcodePadding=G(O,ee,A)}},S.getTotalWidthOfEncodings=function P(_){for(var b=0,x=0;x<_.length;x++)b+=_[x].width;return b}},1538:(Te,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var $=function(){function M(_,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,x){return b&&M(_.prototype,b),x&&M(_,x),_}}(),j=function G(M){return M&&M.__esModule?M:{default:M}}(N(3931)),R=N(2283),P="http://www.w3.org/2000/svg",U=function(){function M(_,b,x){(function K(M,_){if(!(M instanceof _))throw new TypeError("Cannot call a class as a function")})(this,M),this.svg=_,this.encodings=b,this.options=x,this.document=x.xmlDocument||document}return $(M,[{key:"render",value:function(){var b=this.options.marginLeft;this.prepareSVG();for(var x=0;x<this.encodings.length;x++){var w=this.encodings[x],T=(0,j.default)(this.options,w.options),A=this.createGroup(b,T.marginTop,this.svg);this.setGroupOptions(A,T),this.drawSvgBarcode(A,T,w),this.drawSVGText(A,T,w),b+=w.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,R.calculateEncodingAttributes)(this.encodings,this.options);var b=(0,R.getTotalWidthOfEncodings)(this.encodings),x=(0,R.getMaximumHeightOfEncodings)(this.encodings),w=b+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(w,x),this.options.background&&this.drawRect(0,0,w,x,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(b,x,w){var A,T=w.data;A="top"==x.textPosition?x.fontSize+x.textMargin:0;for(var O=0,ee=0,ce=0;ce<T.length;ce++)ee=ce*x.width+w.barcodePadding,"1"===T[ce]?O++:O>0&&(this.drawRect(ee-x.width*O,A,x.width*O,x.height,b),O=0);O>0&&this.drawRect(ee-x.width*(O-1),A,x.width*O,x.height,b)}},{key:"drawSVGText",value:function(b,x,w){var A,O,T=this.document.createElementNS(P,"text");x.displayValue&&(T.setAttribute("style","font:"+x.fontOptions+" "+x.fontSize+"px "+x.font),O="top"==x.textPosition?x.fontSize-x.textMargin:x.height+x.textMargin+x.fontSize,"left"==x.textAlign||w.barcodePadding>0?(A=0,T.setAttribute("text-anchor","start")):"right"==x.textAlign?(A=w.width-1,T.setAttribute("text-anchor","end")):(A=w.width/2,T.setAttribute("text-anchor","middle")),T.setAttribute("x",A),T.setAttribute("y",O),T.appendChild(this.document.createTextNode(w.text)),b.appendChild(T))}},{key:"setSvgAttributes",value:function(b,x){var w=this.svg;w.setAttribute("width",b+"px"),w.setAttribute("height",x+"px"),w.setAttribute("x","0px"),w.setAttribute("y","0px"),w.setAttribute("viewBox","0 0 "+b+" "+x),w.setAttribute("xmlns",P),w.setAttribute("version","1.1"),w.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(b,x,w){var T=this.document.createElementNS(P,"g");return T.setAttribute("transform","translate("+b+", "+x+")"),w.appendChild(T),T}},{key:"setGroupOptions",value:function(b,x){b.setAttribute("style","fill:"+x.lineColor+";")}},{key:"drawRect",value:function(b,x,w,T,A){var O=this.document.createElementNS(P,"rect");return O.setAttribute("x",b),O.setAttribute("y",x),O.setAttribute("width",w),O.setAttribute("height",T),A.appendChild(O),O}}]),M}();S.default=U}},Te=>{Te(Te.s=6603)}]);